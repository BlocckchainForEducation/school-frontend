{"version":3,"sources":["shared/GlobalStyles.js","theme/index.js","theme/shadows.js","theme/typography.js","layouts/StaffDashboardLayout/NavBar/NavItem.js","layouts/StaffDashboardLayout/NavBar/index.js","shared/Logo.js","views/staff/MakeRequest/redux.js","views/staff/Voting/redux.js","views/staff/CreateBureauAccount/redux.js","views/staff/CreateTeacherAccount/redux.js","views/staff/CreateStudentAccount/redux.js","views/staff/UploadSubject/redux.js","views/staff/UploadClass/redux.js","views/staff/UploadCertificate/redux.js","views/teacher/Profile/redux.js","store.js","utils/mng-token.js","utils/mng-role.js","utils/keyholder.js","layouts/StaffDashboardLayout/TopBar.js","shared/Loading/index.js","layouts/StaffDashboardLayout/index.js","layouts/TeacherDashboardLayout/NavBar/NavItem.js","layouts/TeacherDashboardLayout/NavBar/index.js","layouts/TeacherDashboardLayout/TopBar.js","layouts/TeacherDashboardLayout/index.js","layouts/MainLayout/TopBar.js","layouts/MainLayout/index.js","shared/Page.js","shared/NotFoundView.js","views/guest/SignIn/index.js","views/guest/SignUp/index.js","views/staff/MakeRequest/AvatarBar.jsx","views/staff/MakeRequest/ProfileForm.jsx","views/staff/MakeRequest/VotingState.jsx","views/staff/MakeRequest/index.js","shared/VoteBody/index.js","views/staff/Voting/VoteHeader.jsx","views/staff/Voting/VoteRequest.jsx","views/staff/Voting/RequestList.jsx","views/staff/Voting/index.js","shared/DragnDropZone/index.js","shared/Table/SimpleTable.js","shared/DownloadExampleData/index.js","views/staff/CreateBureauAccount/BureauDataExample.jsx","views/staff/CreateBureauAccount/BureauUploadHistory.jsx","views/staff/CreateBureauAccount/index.js","views/staff/CreateTeacherAccount/TeacherDataExample.jsx","views/staff/CreateTeacherAccount/TeacherUploadHistory.jsx","views/staff/CreateTeacherAccount/index.js","views/staff/CreateStudentAccount/StudentDataExample.jsx","views/staff/CreateStudentAccount/StudentUploadHistory.jsx","views/staff/CreateStudentAccount/index.js","views/staff/UploadSubject/SubjectDataExample.jsx","views/staff/UploadSubject/UploadedSubjectTable.jsx","views/staff/UploadSubject/index.js","views/staff/UploadClass/ClassDataExample.jsx","views/staff/UploadClass/UploadedClassTable.jsx","views/staff/UploadClass/index.js","views/staff/UploadCertificate/CertificateDataExample.jsx","views/staff/UploadCertificate/UploadedCertificateTable.jsx","views/staff/UploadCertificate/index.js","views/teacher/Profile/AvatarBar.jsx","views/teacher/Profile/ProfileForm.jsx","views/teacher/Profile/index.js","views/teacher/SubmitSubjectPoint/index.js","routes.js","App.js","index.js"],"names":["useStyles","makeStyles","createStyles","boxSizing","margin","padding","html","height","width","body","backgroundColor","a","textDecoration","GlobalStyles","theme","createMuiTheme","palette","background","dark","default","colors","common","white","paper","text","primary","blueGrey","secondary","shadows","typography","h1","fontWeight","fontSize","letterSpacing","h2","h3","h4","h5","h6","overline","item","display","paddingTop","paddingBottom","button","color","fontWeightMedium","justifyContent","textTransform","icon","marginRight","spacing","title","active","main","NavItem","className","href","Icon","rest","classes","ListItem","clsx","disableGutters","Button","activeClassName","component","RouterLink","to","size","items","UserIcon","mobileDrawer","desktopDrawer","top","avatar","cursor","NavBar","onMobileClose","openMobile","location","useLocation","user","useSelector","state","profileSlice","useEffect","pathname","content","Box","flexDirection","alignItems","p","Avatar","src","imgSrc","Typography","name","variant","universityName","Divider","List","map","flexGrow","Hidden","lgUp","Drawer","anchor","onClose","open","mdDown","defaultProps","Logo","props","alt","createSlice","initialState","fetching","nameInEnglish","address","email","phone","pubkey","description","votes","reducers","setProfile","action","Object","assign","payload","updateImgSrc","updateVotingState","length","actions","votingSlice","voteRequests","numOfNewVoteRequest","privateKey","updateVoteRequestList","collapseVoteRequest","index","findIndex","vote","in","removeVotedRequest","bureauSlice","require","history","uploading","setPreloadHistory","startUploadFile","uploadFileSuccess","push","uploadFileFail","teacherSlice","studentSlice","subjectSlice","subjects","setPreloadSubjects","subject","id","concat","classSlice","setPreloadClasses","claxx","certificateSlice","certificates","setPreloadCertificates","cert","teacherProfileSlice","teacherId","department","publicKey","appReducer","combineReducers","profileReducer","votingReducer","bureauReducer","teacherReducer","studentReducer","subjectReducer","classReducer","certificateReducer","teacherProfileReducer","configureStore","reducer","type","undefined","remember","setRemember","_remember","getRemember","setSessionToken","token","sessionStorage","setItem","setLocalToken","localStorage","getToken","getItem","clearToken","removeItem","ROLE","setLocalRole","role","setSessionRole","clearRole","getRouteByRole","privateKeyHex","setPrivateKeyHex","privateKeyHexParam","requirePrivateKeyHex","enqueueSnackbar","anchorOrigin","vertical","horizontal","askPrivateKeyHexFromWallet","result","ok","Promise","reject","resolve","window","postMessage","origin","addEventListener","event","data","accept","account","root","TopBar","onMobileNavOpen","useState","notifications","navigate","useNavigate","dp","useDispatch","AppBar","elevation","Toolbar","IconButton","Badge","badgeContent","onClick","e","gridTemplateColumns","gridTemplateRows","rowGap","columnGap","sidebar","Loading","cls","topbar","Skeleton","info","navlink","overflow","wrapper","flex","breakpoints","up","paddingLeft","contentContainer","StaffDashboardLayout","isMobileNavOpen","setMobileNavOpen","loading","useSnackbar","closeSnackbar","fetch","process","headers","Authorization","response","key","style","json","console","log","alert","fetchProfile","TeacherDashboardLayout","JSON","stringify","toolbar","MainLayout","Page","forwardRef","ref","children","Helmet","image","marginTop","maxWidth","NotFoundView","Container","align","textAlign","Copyright","Link","Date","getFullYear","form","submit","link","SignIn","password","setState","errors","setErrors","preventDefault","method","errs","CssBaseline","noValidate","TextField","required","fullWidth","label","autoComplete","autoFocus","value","onChange","target","error","Boolean","helperText","FormControlLabel","control","Checkbox","checked","Grid","container","xs","componet","mt","SignUp","repassword","success","setSuccess","setTimeout","Alert","severity","disabled","justify","position","lineHeight","AvatarBar","schoolName","avatarSrc","formData","FormData","append","files","res","err","htmlFor","Paper","px","pb","pt","gutterBottom","head","box","marginBottom","ProfileForm","profile","disable","msg","md","InputLabelProps","shrink","InputProps","endAdornment","InputAdornment","multiline","rows","votingState","VotingState","clockId","setInterval","clearInterval","TableContainer","Table","TableBody","TableRow","TableCell","decision","time","MakeRequest","VoteBody","request","VoteHeader","hdVote","publicKeyOfRequest","bgcolor","py","mx","pr","flexShrink","VoteRequest","Collapse","collapsedHeight","mb","RequestList","fetchNewVoteRequests","flexContainer","Voting","baseStyle","borderWidth","borderRadius","borderColor","borderStyle","transition","activeStyle","acceptStyle","rejectStyle","DragnDropZone","onDropAccepted","useDropzone","onDropRejected","fileRejections","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","useMemo","rotate","animation","arrowDown","SimpleTable","minWidth","TableHead","columnTitle","row","rowIndex","cell","DownloadExampleData","fileName","startIcon","FileSaver","saveAs","BureauDataExample","heading","pxToRem","fontWeightRegular","BureauUploadHistory","wb","XLSX","utils","book_new","ws","json_to_sheet","profiles","book_append_sheet","writeFile","fetchHistory","bureauId","firstTimePassword","txid","CircularProgress","Accordion","AccordionSummary","expandIcon","_id","summary","AccordionDetails","AccordionActions","hdDownloadClick","CreateBureauAccount","TeacherDataExample","TeacherUploadHistory","CreateTeacherAccount","StudentDataExample","StudentUploadHistory","studentId","birthday","class","CreateStudentAccount","SubjectDataExample","columns","field","headerName","UploadedSubjectTable","fetchUploadedSubject","rowHeight","autoPageSize","UploadSubject","ClassDataExample","UploadedClassTable","fetchUploadedClass","Uploadclass","CertificateDataExample","UploadedCertificateTable","fetchUploadedCertificate","UploadCertificate","TeacherProfileForm","TeacherProfile","SubmitSubjectPoint","classId","setClassId","setClaxx","submitState","setSubmitState","semester","students","student","halfPoint","halfSemesterPoint","halfError","finalPoint","finalSemesterPoint","finalError","newClaxx","hdChangeHalfSemester","hdChangeFinalSemester","Redirector","routes","path","element","replace","App","routing","useRoutes","ThemeProvider","store","maxSnack","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.609610f0.chunk.js","sourcesContent":["import { createStyles, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(() => createStyles({\n  '@global': {\n    '*': {\n      boxSizing: 'border-box',\n      margin: 0,\n      padding: 0,\n    },\n    html: {\n      '-webkit-font-smoothing': 'antialiased',\n      '-moz-osx-font-smoothing': 'grayscale',\n      height: '100%',\n      width: '100%'\n    },\n    body: {\n      backgroundColor: '#f4f6f8',\n      height: '100%',\n      width: '100%'\n    },\n    a: {\n      textDecoration: 'none'\n    },\n    '#root': {\n      height: '100%',\n      width: '100%'\n    }\n  }\n}));\n\nconst GlobalStyles = () => {\n  useStyles();\n\n  return null;\n};\n\nexport default GlobalStyles;\n","import { createMuiTheme, colors } from \"@material-ui/core\";\nimport shadows from \"./shadows\";\nimport typography from \"./typography\";\n\nconst theme = createMuiTheme({\n  palette: {\n    background: {\n      dark: \"#F4F6F8\",\n      default: colors.common.white,\n      paper: colors.common.white,\n    },\n    // primary: {\n    //   main: colors.indigo[500]\n    // },\n    // secondary: {\n    //   main: colors.indigo[500]\n    // },\n    text: {\n      primary: colors.blueGrey[900],\n      secondary: colors.blueGrey[600],\n    },\n  },\n  shadows,\n  typography,\n});\n\nexport default theme;\n","export default [\n  'none',\n  '0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)'\n];\n","export default {\n  h1: {\n    fontWeight: 500,\n    fontSize: 35,\n    letterSpacing: '-0.24px'\n  },\n  h2: {\n    fontWeight: 500,\n    fontSize: 29,\n    letterSpacing: '-0.24px'\n  },\n  h3: {\n    fontWeight: 500,\n    fontSize: 24,\n    letterSpacing: '-0.06px'\n  },\n  h4: {\n    fontWeight: 500,\n    fontSize: 20,\n    letterSpacing: '-0.06px'\n  },\n  h5: {\n    fontWeight: 500,\n    fontSize: 16,\n    letterSpacing: '-0.05px'\n  },\n  h6: {\n    fontWeight: 500,\n    fontSize: 14,\n    letterSpacing: '-0.05px'\n  },\n  overline: {\n    fontWeight: 500\n  }\n};\n","import React from 'react';\nimport { NavLink as RouterLink } from 'react-router-dom';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport {\n  Button,\n  ListItem,\n  makeStyles\n} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  item: {\n    display: 'flex',\n    paddingTop: 0,\n    paddingBottom: 0\n  },\n  button: {\n    color: theme.palette.text.secondary,\n    fontWeight: theme.typography.fontWeightMedium,\n    justifyContent: 'flex-start',\n    letterSpacing: 0,\n    padding: '10px 8px',\n    textTransform: 'none',\n    width: '100%'\n  },\n  icon: {\n    marginRight: theme.spacing(1)\n  },\n  title: {\n    marginRight: 'auto'\n  },\n  active: {\n    color: theme.palette.primary.main,\n    '& $title': {\n      fontWeight: theme.typography.fontWeightMedium\n    },\n    '& $icon': {\n      color: theme.palette.primary.main\n    }\n  }\n}));\n\nconst NavItem = ({\n  className,\n  href,\n  icon: Icon,\n  title,\n  ...rest\n}) => {\n  const classes = useStyles();\n\n  return (\n    <ListItem\n      className={clsx(classes.item, className)}\n      disableGutters\n      {...rest}\n    >\n      <Button\n        activeClassName={classes.active}\n        className={classes.button}\n        component={RouterLink}\n        to={href}\n      >\n        {Icon && (\n          <Icon\n            className={classes.icon}\n            size=\"20\"\n          />\n        )}\n        <span className={classes.title}>\n          {title}\n        </span>\n      </Button>\n    </ListItem>\n  );\n};\n\nNavItem.propTypes = {\n  className: PropTypes.string,\n  href: PropTypes.string,\n  icon: PropTypes.elementType,\n  title: PropTypes.string\n};\n\nexport default NavItem;\n","import { Avatar, Box, Divider, Drawer, Hidden, List, makeStyles, Typography } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport React, { useEffect } from \"react\";\nimport { User as UserIcon } from \"react-feather\";\nimport { useSelector } from \"react-redux\";\nimport { Link as RouterLink, useLocation } from \"react-router-dom\";\nimport NavItem from \"./NavItem\";\n\nconst items = [\n  {\n    href: \"/cb-pdt/dang-ki-tham-gia\",\n    icon: UserIcon,\n    title: \"Đăng kí tham gia\",\n  },\n  {\n    href: \"/cb-pdt/bo-phieu\",\n    icon: UserIcon,\n    title: \"Bỏ phiếu\",\n  },\n  {\n    href: \"/cb-pdt/tao-tk-giao-vu\",\n    icon: UserIcon,\n    title: \"Tạo tài khoản giáo vụ\",\n  },\n  {\n    href: \"/cb-pdt/tao-tk-giang-vien\",\n    icon: UserIcon,\n    title: \"Tạo tài khoản giảng viên\",\n  },\n  {\n    href: \"/cb-pdt/tao-tk-sinh-vien\",\n    icon: UserIcon,\n    title: \"Tạo tài khoản sinh viên\",\n  },\n  {\n    href: \"/cb-pdt/upload-mon-hoc\",\n    icon: UserIcon,\n    title: \"Upload môn học\",\n  },\n  {\n    href: \"/cb-pdt/upload-lop-hoc\",\n    icon: UserIcon,\n    title: \"Upload lớp học\",\n  },\n  {\n    href: \"/cb-pdt/upload-bang-cap\",\n    icon: UserIcon,\n    title: \"Upload bằng cấp\",\n  },\n  {\n    href: \"/cb-pdt/thu-hoi-bang-cap\",\n    icon: UserIcon,\n    title: \"Thu hồi bằng câp\",\n  },\n];\n\nconst useStyles = makeStyles(() => ({\n  mobileDrawer: {\n    width: 256,\n  },\n  desktopDrawer: {\n    width: 256,\n    top: 64,\n    height: \"calc(100% - 64px)\",\n  },\n  avatar: {\n    cursor: \"pointer\",\n    width: 64,\n    height: 64,\n  },\n}));\n\nconst NavBar = ({ onMobileClose, openMobile }) => {\n  const classes = useStyles();\n  const location = useLocation();\n\n  const user = useSelector((state) => state.profileSlice);\n\n  useEffect(() => {\n    if (openMobile && onMobileClose) {\n      onMobileClose();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.pathname]);\n\n  const content = (\n    <Box height=\"100%\" display=\"flex\" flexDirection=\"column\">\n      <Box alignItems=\"center\" display=\"flex\" flexDirection=\"column\" p={2}>\n        <Avatar className={classes.avatar} component={RouterLink} src={user.imgSrc} to=\"/cb-pdt/dang-ki-tham-gia\" />\n        <Typography className={classes.name} color=\"textPrimary\" variant=\"h5\">\n          {user.universityName || \"Trường ĐH ABC\"}\n        </Typography>\n        <Typography color=\"textSecondary\" variant=\"body2\">\n          {\"Cán bộ Phòng Đào Tạo\"}\n        </Typography>\n      </Box>\n      <Divider />\n      <Box p={2}>\n        <List>\n          {items.map((item) => (\n            <NavItem href={item.href} key={item.title} title={item.title} icon={item.icon} />\n          ))}\n        </List>\n      </Box>\n      <Box flexGrow={1} />\n    </Box>\n  );\n\n  return (\n    <>\n      <Hidden lgUp>\n        <Drawer anchor=\"left\" classes={{ paper: classes.mobileDrawer }} onClose={onMobileClose} open={openMobile} variant=\"temporary\">\n          {content}\n        </Drawer>\n      </Hidden>\n      <Hidden mdDown>\n        <Drawer anchor=\"left\" classes={{ paper: classes.desktopDrawer }} open variant=\"persistent\">\n          {content}\n        </Drawer>\n      </Hidden>\n    </>\n  );\n};\n\nNavBar.propTypes = {\n  onMobileClose: PropTypes.func,\n  openMobile: PropTypes.bool,\n};\n\nNavBar.defaultProps = {\n  onMobileClose: () => {},\n  openMobile: false,\n};\n\nexport default NavBar;\n","import React from 'react';\n\nconst Logo = (props) => {\n  return (\n    <img\n      alt=\"Logo\"\n      src=\"/static/logo.svg\"\n      {...props}\n    />\n  );\n};\n\nexport default Logo;\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const profileSlice = createSlice({\r\n  name: \"profileSlice\",\r\n  initialState: {\r\n    fetching: true,\r\n    universityName: \"\",\r\n    nameInEnglish: \"\",\r\n    address: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    pubkey: \"\",\r\n    description: \"\",\r\n    imgSrc: \"\",\r\n    votes: [],\r\n  }, // votes filed too\r\n  reducers: {\r\n    setProfile: (state, action) => {\r\n      state.fetching = false;\r\n      Object.assign(state, action.payload);\r\n    },\r\n    updateImgSrc: (state, action) => {\r\n      state.imgSrc = action.payload;\r\n    },\r\n    updateVotingState: (state, action) => {\r\n      if (state.state !== action.payload.state) state.state = action.payload.state;\r\n      if (state.votes.length < action.payload.votes.length) state.votes = action.payload.votes;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setProfile, updateImgSrc, updateVotingState } = profileSlice.actions;\r\nexport default profileSlice.reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst votingSlice = createSlice({\r\n  name: \"votingSlice\",\r\n  initialState: { fetching: true, voteRequests: [], numOfNewVoteRequest: 0, privateKey: null },\r\n  reducers: {\r\n    updateVoteRequestList: (state, action) => {\r\n      state.fetching = false;\r\n      state.voteRequests = action.payload;\r\n      state.numOfNewVoteRequest = action.payload.length;\r\n    },\r\n    collapseVoteRequest(state, action) {\r\n      const index = state.voteRequests.findIndex((vote) => vote.pubkey === action.payload.pubkey);\r\n      state.voteRequests[index].in = false;\r\n      // dont remove numOfNewVoteRequest, it is difference from voteRequests.length\r\n      state.numOfNewVoteRequest -= 1;\r\n    },\r\n  },\r\n});\r\n\r\nexport default votingSlice.reducer;\r\nexport const { updateVoteRequestList, removeVotedRequest, collapseVoteRequest } = votingSlice.actions;\r\n","const { createSlice } = require(\"@reduxjs/toolkit\");\r\n\r\nconst bureauSlice = createSlice({\r\n  name: \"bureauSlice\",\r\n  initialState: { fetching: true, history: [], uploading: false }, // history item: {time: \"01/01/2020\", profiles:[{bureauId, name, email, department, publicKey, firstTimePassword}] }\r\n  reducers: {\r\n    setPreloadHistory: (state, action) => {\r\n      state.fetching = false;\r\n      state.history = action.payload;\r\n    },\r\n    startUploadFile: (state, action) => {\r\n      state.uploading = true;\r\n    },\r\n    uploadFileSuccess: (state, action) => {\r\n      state.uploading = false;\r\n      state.history.push(action.payload);\r\n    },\r\n    uploadFileFail: (state, action) => {\r\n      state.uploading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default bureauSlice.reducer;\r\nexport const { setPreloadHistory, startUploadFile, uploadFileSuccess, uploadFileFail } = bureauSlice.actions;\r\n","const { createSlice } = require(\"@reduxjs/toolkit\");\r\n\r\nconst teacherSlice = createSlice({\r\n  name: \"teacherSlice\",\r\n  initialState: { fetching: true, history: [], uploading: false }, // history item: {time: \"01/01/2020\", profiles:[{teacherId, name, email, department, publicKey, firstTimePassword}] }\r\n  reducers: {\r\n    setPreloadHistory: (state, action) => {\r\n      state.fetching = false;\r\n      state.history = action.payload;\r\n    },\r\n    startUploadFile: (state, action) => {\r\n      state.uploading = true;\r\n    },\r\n    uploadFileSuccess: (state, action) => {\r\n      state.uploading = false;\r\n      state.history.push(action.payload);\r\n    },\r\n    uploadFileFail: (state, action) => {\r\n      state.uploading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default teacherSlice.reducer;\r\nexport const { setPreloadHistory, startUploadFile, uploadFileSuccess, uploadFileFail } = teacherSlice.actions;\r\n","const { createSlice } = require(\"@reduxjs/toolkit\");\r\n\r\nconst studentSlice = createSlice({\r\n  name: \"studentSlice\",\r\n  initialState: { fetching: true, history: [], uploading: false }, // history item: {time: \"01/01/2020\", profiles:[{studentId, name, email, department, publicKey, firstTimePassword}] }\r\n  reducers: {\r\n    setPreloadHistory: (state, action) => {\r\n      state.fetching = false;\r\n      state.history = action.payload;\r\n    },\r\n    startUploadFile: (state, action) => {\r\n      state.uploading = true;\r\n    },\r\n    uploadFileSuccess: (state, action) => {\r\n      state.uploading = false;\r\n      state.history.push(action.payload);\r\n    },\r\n    uploadFileFail: (state, action) => {\r\n      state.uploading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default studentSlice.reducer;\r\nexport const { setPreloadHistory, startUploadFile, uploadFileSuccess, uploadFileFail } = studentSlice.actions;\r\n","import { Subject } from \"@material-ui/icons\";\r\n\r\nconst { createSlice } = require(\"@reduxjs/toolkit\");\r\n\r\nconst subjectSlice = createSlice({\r\n  name: \"subjectSlice\",\r\n  initialState: { fetching: true, subjects: [], uploading: false },\r\n  reducers: {\r\n    setPreloadSubjects: (state, action) => {\r\n      state.fetching = false;\r\n      // DataGrid need id field for display\r\n      if (action.payload.length > 0) state.subjects = action.payload.map((subject, index) => ({ ...subject, id: index + 1 }));\r\n    },\r\n    startUploadFile: (state, action) => {\r\n      state.uploading = true;\r\n    },\r\n    uploadFileSuccess: (state, action) => {\r\n      state.uploading = false;\r\n      // DataGrid need id field for display\r\n      state.subjects = action.payload.concat(state.subjects).map((subject, index) => ({ ...subject, id: index + 1 }));\r\n    },\r\n    uploadFileFail: (state, action) => {\r\n      state.uploading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default subjectSlice.reducer;\r\nexport const { setPreloadSubjects, startUploadFile, uploadFileSuccess, uploadFileFail } = subjectSlice.actions;\r\n","const { createSlice } = require(\"@reduxjs/toolkit\");\r\n\r\nconst classSlice = createSlice({\r\n  name: \"classSlice\",\r\n  initialState: { fetching: true, classes: [], uploading: false },\r\n  reducers: {\r\n    setPreloadClasses: (state, action) => {\r\n      state.fetching = false;\r\n      // DataGrid need id field\r\n      if (action.payload.length > 0) state.classes = action.payload.map((claxx, index) => ({ ...claxx, id: index + 1 }));\r\n    },\r\n    startUploadFile: (state, action) => {\r\n      state.uploading = true;\r\n    },\r\n    uploadFileSuccess: (state, action) => {\r\n      state.uploading = false;\r\n      state.classes = action.payload.concat(state.classes).map((claxx, index) => ({ ...claxx, id: index + 1 }));\r\n    },\r\n    uploadFileFail: (state, action) => {\r\n      state.uploading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default classSlice.reducer;\r\nexport const { setPreloadClasses, startUploadFile, uploadFileSuccess, uploadFileFail } = classSlice.actions;\r\n","const { createSlice } = require(\"@reduxjs/toolkit\");\r\n\r\nconst certificateSlice = createSlice({\r\n  name: \"certificateSlice\",\r\n  initialState: { fetching: true, certificates: [], uploading: false },\r\n  reducers: {\r\n    setPreloadCertificates: (state, action) => {\r\n      state.fetching = false;\r\n      // DataGrid need id\r\n      if (action.payload.length > 0) state.certificates = action.payload.map((cert, index) => ({ ...cert, id: index + 1 }));\r\n    },\r\n    startUploadFile: (state, action) => {\r\n      state.uploading = true;\r\n    },\r\n    uploadFileSuccess: (state, action) => {\r\n      state.uploading = false;\r\n      // DataGrid need id\r\n      state.certificates = action.payload.concat(state.certificates).map((cert, index) => ({ ...cert, id: index + 1 }));\r\n    },\r\n    uploadFileFail: (state, action) => {\r\n      state.uploading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default certificateSlice.reducer;\r\nexport const { setPreloadCertificates, startUploadFile, uploadFileSuccess, uploadFileFail } = certificateSlice.actions;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const teacherProfileSlice = createSlice({\r\n  name: \"teacherProfileSlice\",\r\n  initialState: { fetching: true, teacherId: \"\", name: \"\", email: \"\", department: \"\", publicKey: \"\", description: \"\", imgSrc: \"\" },\r\n  reducers: {\r\n    setProfile: (state, action) => {\r\n      Object.assign(state, action.payload);\r\n      state.fetching = false;\r\n    },\r\n    updateImgSrc: (state, action) => {\r\n      state.imgSrc = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setProfile, updateImgSrc } = teacherProfileSlice.actions;\r\nexport default teacherProfileSlice.reducer;\r\n","import { combineReducers, configureStore } from \"@reduxjs/toolkit\";\r\nimport profileReducer from \"src/views/staff/MakeRequest/redux\";\r\nimport votingReducer from \"src/views/staff//Voting/redux\";\r\nimport bureauReducer from \"src/views/staff/CreateBureauAccount/redux\";\r\nimport teacherReducer from \"src/views/staff/CreateTeacherAccount/redux\";\r\nimport studentReducer from \"src/views/staff/CreateStudentAccount/redux\";\r\nimport subjectReducer from \"src/views/staff/UploadSubject/redux\";\r\nimport classReducer from \"src/views/staff/UploadClass/redux\";\r\nimport certificateReducer from \"src/views/staff/UploadCertificate/redux\";\r\n\r\nimport teacherProfileReducer from \"src/views/teacher/Profile/redux\";\r\n\r\nexport const resetStore = () => {\r\n  return {\r\n    type: \"RESET_STORE\",\r\n  };\r\n};\r\n\r\nconst rootReducer = (state, action) => {\r\n  if (action.type === \"RESET_STORE\") {\r\n    state = undefined;\r\n  }\r\n  return appReducer(state, action);\r\n};\r\n\r\nconst appReducer = combineReducers({\r\n  profileSlice: profileReducer,\r\n  votingSlice: votingReducer,\r\n  bureauSlice: bureauReducer,\r\n  teacherSlice: teacherReducer,\r\n  studentSlice: studentReducer,\r\n  subjectSlice: subjectReducer,\r\n  classSlice: classReducer,\r\n  certificateSlice: certificateReducer,\r\n  teacherProfileSlice: teacherProfileReducer,\r\n});\r\n\r\nexport default configureStore({\r\n  reducer: rootReducer,\r\n});\r\n","let remember = true;\r\n\r\nfunction setRemember(_remember) {\r\n  remember = _remember;\r\n}\r\n\r\nfunction getRemember() {\r\n  return remember;\r\n}\r\n\r\nfunction setSessionToken(token) {\r\n  sessionStorage.setItem(\"token\", \"Bearer \" + token);\r\n}\r\n\r\nfunction setLocalToken(token) {\r\n  localStorage.setItem(\"token\", \"Bearer \" + token);\r\n}\r\n\r\nfunction getToken() {\r\n  if (remember) return localStorage.getItem(\"token\");\r\n  else return sessionStorage.getItem(\"token\");\r\n}\r\n\r\nfunction clearToken() {\r\n  if (remember) {\r\n    localStorage.removeItem(\"token\");\r\n  } else {\r\n    sessionStorage.removeItem(\"token\");\r\n  }\r\n}\r\n\r\nexport { setSessionToken, setLocalToken, getToken, clearToken, setRemember, getRemember };\r\n","import { getRemember } from \"./mng-token\";\r\n\r\nconst ROLE = {\r\n  STAFF: \"STAFF\",\r\n  BUREAU: \"BUREAU\",\r\n  TEACHER: \"TEACHER\",\r\n};\r\n\r\nfunction setLocalRole(role) {\r\n  localStorage.setItem(\"role\", role);\r\n}\r\n\r\nfunction setSessionRole(role) {\r\n  sessionStorage.setItem(\"role\", role);\r\n}\r\n\r\nfunction getRole() {\r\n  const remember = getRemember();\r\n  return remember ? localStorage.getItem(\"role\") : sessionStorage.getItem(\"role\");\r\n}\r\n\r\nfunction clearRole() {\r\n  const remember = getRemember();\r\n  return remember ? localStorage.removeItem(\"role\") : sessionStorage.removeItem(\"role\");\r\n}\r\n\r\nfunction getRouteByRole(role) {\r\n  if (role === ROLE.STAFF) {\r\n    return \"/cb-pdt/dang-ki-tham-gia\";\r\n  } else if (role === ROLE.TEACHER) {\r\n    return \"/giang-vien/thong-tin-ca-nhan\";\r\n  } else if (role === ROLE.BUREAU) {\r\n    return \"/giao-vu/thong-tin-ca-nhan\";\r\n  }\r\n}\r\n\r\nexport { ROLE, getRouteByRole, setLocalRole, setSessionRole, getRole, clearRole };\r\n","let privateKeyHex = null;\r\n\r\nexport function setPrivateKeyHex(privateKeyHexParam) {\r\n  privateKeyHex = privateKeyHexParam;\r\n}\r\n\r\nexport function getPrivateKeyHex() {\r\n  return privateKeyHex;\r\n}\r\n\r\nexport async function requirePrivateKeyHex(enqueueSnackbar) {\r\n  if (!privateKeyHex) {\r\n    enqueueSnackbar(\"Hãy mở ví và chọn tài khoản!\", { variant: \"info\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n    const result = await askPrivateKeyHexFromWallet();\r\n    if (!result.ok) {\r\n      enqueueSnackbar(\"Bạn cần cung cấp private key để có thể thực hiện thao tác này!\", {\r\n        variant: \"error\",\r\n        anchorOrigin: { vertical: \"top\", horizontal: \"center\" },\r\n      });\r\n      return Promise.reject({ ok: false });\r\n    } else {\r\n      privateKeyHex = result.privateKeyHex;\r\n      return privateKeyHex;\r\n    }\r\n  } else {\r\n    return privateKeyHex;\r\n  }\r\n}\r\n\r\nexport async function askPrivateKeyHexFromWallet() {\r\n  return new Promise((resolve, reject) => {\r\n    window.postMessage({ type: \"SIGN_REQUEST\" }, window.origin);\r\n    window.addEventListener(\"message\", function (event) {\r\n      if (event.data.type === \"SIGN_RESPONSE\" && event.origin === window.origin) {\r\n        if (event.data.accept) {\r\n          return resolve({ ok: true, privateKeyHex: event.data.account.privateKey });\r\n        } else {\r\n          return resolve({ ok: false });\r\n        }\r\n      }\r\n    });\r\n  });\r\n}\r\n","import { AppBar, Badge, Box, Hidden, IconButton, makeStyles, Toolbar } from \"@material-ui/core\";\nimport InputIcon from \"@material-ui/icons/Input\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport NotificationsIcon from \"@material-ui/icons/NotificationsOutlined\";\nimport clsx from \"clsx\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\nimport Logo from \"src/shared/Logo\";\nimport { resetStore } from \"../../store\";\nimport { clearToken } from \"src/utils/mng-token\";\nimport { clearRole } from \"../../utils/mng-role\";\nimport { setPrivateKeyHex } from \"../../utils/keyholder\";\n\nconst useStyles = makeStyles(() => ({\n  root: {},\n  avatar: {\n    width: 60,\n    height: 60,\n  },\n}));\n\nconst TopBar = ({ className, onMobileNavOpen, ...rest }) => {\n  const classes = useStyles();\n  const [notifications] = useState([]);\n  const navigate = useNavigate();\n  const dp = useDispatch();\n  return (\n    <AppBar className={clsx(classes.root, className)} elevation={0} {...rest}>\n      <Toolbar>\n        <RouterLink to=\"/\">\n          <Logo />\n        </RouterLink>\n        <Box flexGrow={1} />\n        <Hidden mdDown>\n          <IconButton color=\"inherit\">\n            <Badge badgeContent={notifications.length} color=\"primary\" variant=\"dot\">\n              <NotificationsIcon />\n            </Badge>\n          </IconButton>\n          <IconButton\n            color=\"inherit\"\n            onClick={(e) => {\n              clearToken();\n              clearRole();\n              setPrivateKeyHex(null);\n              dp(resetStore());\n              navigate(\"/\");\n            }}\n          >\n            <InputIcon />\n          </IconButton>\n        </Hidden>\n        <Hidden lgUp>\n          <IconButton color=\"inherit\" onClick={onMobileNavOpen}>\n            <MenuIcon />\n          </IconButton>\n        </Hidden>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nTopBar.propTypes = {\n  className: PropTypes.string,\n  onMobileNavOpen: PropTypes.func,\n};\n\nexport default TopBar;\n","import { makeStyles } from \"@material-ui/core\";\r\nimport { Skeleton } from \"@material-ui/lab\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"100vh\",\r\n    // padding: \"10px\",\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"1fr\",\r\n    gridTemplateRows: \"64px auto\",\r\n    rowGap: \"5px\",\r\n    \"& *\": {\r\n      height: \"100%\",\r\n    },\r\n  },\r\n  main: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"256px auto\",\r\n    columnGap: \"5px\",\r\n  },\r\n  sidebar: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"1fr\",\r\n    gridTemplateRows: \"128px auto\",\r\n    rowGap: \"5px\",\r\n  },\r\n}));\r\nexport default function Loading(props) {\r\n  const cls = useStyles();\r\n\r\n  return (\r\n    <div className={cls.root}>\r\n      <div className={cls.topbar}>\r\n        <Skeleton variant=\"rect\"></Skeleton>\r\n      </div>\r\n      <div className={cls.main}>\r\n        <div className={cls.sidebar}>\r\n          <div className={cls.info}>\r\n            <Skeleton variant=\"rect\"></Skeleton>\r\n          </div>\r\n          <div className={cls.navlink}>\r\n            <Skeleton variant=\"rect\"></Skeleton>\r\n          </div>\r\n        </div>\r\n        <div className={cls.content}>\r\n          <Skeleton variant=\"rect\"></Skeleton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\nimport { Outlet, useNavigate } from \"react-router-dom\";\nimport { Button, makeStyles } from \"@material-ui/core\";\nimport NavBar from \"./NavBar\";\nimport TopBar from \"./TopBar\";\nimport { getToken } from \"src/utils/mng-token\";\nimport { setProfile } from \"src/views/staff/MakeRequest/redux\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loading from \"src/shared/Loading\";\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\nimport { useSnackbar } from \"notistack\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100%\",\n    width: \"100%\",\n    display: \"flex\",\n    overflow: \"hidden\",\n    backgroundColor: theme.palette.background.dark,\n  },\n  wrapper: {\n    flex: \"1 1 auto\",\n    display: \"flex\",\n    overflow: \"hidden\",\n    paddingTop: 64,\n    [theme.breakpoints.up(\"lg\")]: {\n      paddingLeft: 256,\n    },\n  },\n  contentContainer: {\n    flex: \"1 1 auto\",\n    display: \"flex\",\n    overflow: \"hidden\",\n  },\n  content: {\n    flex: \"1 1 auto\",\n    // height: \"100%\",\n    overflow: \"auto\",\n  },\n}));\n\nconst StaffDashboardLayout = () => {\n  const classes = useStyles();\n  const [isMobileNavOpen, setMobileNavOpen] = useState(false);\n  const loading = useSelector((state) => state.profileSlice.fetching);\n  const dp = useDispatch();\n  const navigate = useNavigate();\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    fetchProfile();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function fetchProfile() {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/university-profile`, {\n        headers: { Authorization: getToken() },\n      });\n      if (!response.ok) {\n        enqueueSnackbar(\"Phiên làm việc đã kết thúc, vui lòng đăng nhập lại!\", {\n          anchorOrigin: { vertical: \"top\", horizontal: \"center\" },\n          action: (key) => (\n            <Button\n              size=\"small\"\n              style={{ color: \"white\" }}\n              onClick={(e) => {\n                navigate(\"/dang-nhap\");\n                closeSnackbar(key);\n              }}\n            >\n              Đăng nhập\n            </Button>\n          ),\n        });\n        // alert(JSON.stringify(await response.json()));\n      } else {\n        dp(setProfile(await response.json()));\n      }\n    } catch (err) {\n      console.log(err);\n      alert(err);\n    }\n  }\n\n  return (\n    <>\n      {loading ? (\n        <Loading />\n      ) : (\n        <>\n          <div className={classes.root}>\n            <TopBar onMobileNavOpen={() => setMobileNavOpen(true)} />\n            <NavBar onMobileClose={() => setMobileNavOpen(false)} openMobile={isMobileNavOpen} />\n            <div className={classes.wrapper}>\n              <div className={classes.contentContainer}>\n                <div className={classes.content}>\n                  <PerfectScrollbar>\n                    <Outlet />\n                  </PerfectScrollbar>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default StaffDashboardLayout;\n","import React from 'react';\nimport { NavLink as RouterLink } from 'react-router-dom';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport {\n  Button,\n  ListItem,\n  makeStyles\n} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  item: {\n    display: 'flex',\n    paddingTop: 0,\n    paddingBottom: 0\n  },\n  button: {\n    color: theme.palette.text.secondary,\n    fontWeight: theme.typography.fontWeightMedium,\n    justifyContent: 'flex-start',\n    letterSpacing: 0,\n    padding: '10px 8px',\n    textTransform: 'none',\n    width: '100%'\n  },\n  icon: {\n    marginRight: theme.spacing(1)\n  },\n  title: {\n    marginRight: 'auto'\n  },\n  active: {\n    color: theme.palette.primary.main,\n    '& $title': {\n      fontWeight: theme.typography.fontWeightMedium\n    },\n    '& $icon': {\n      color: theme.palette.primary.main\n    }\n  }\n}));\n\nconst NavItem = ({\n  className,\n  href,\n  icon: Icon,\n  title,\n  ...rest\n}) => {\n  const classes = useStyles();\n\n  return (\n    <ListItem\n      className={clsx(classes.item, className)}\n      disableGutters\n      {...rest}\n    >\n      <Button\n        activeClassName={classes.active}\n        className={classes.button}\n        component={RouterLink}\n        to={href}\n      >\n        {Icon && (\n          <Icon\n            className={classes.icon}\n            size=\"20\"\n          />\n        )}\n        <span className={classes.title}>\n          {title}\n        </span>\n      </Button>\n    </ListItem>\n  );\n};\n\nNavItem.propTypes = {\n  className: PropTypes.string,\n  href: PropTypes.string,\n  icon: PropTypes.elementType,\n  title: PropTypes.string\n};\n\nexport default NavItem;\n","import { Avatar, Box, Divider, Drawer, Hidden, List, makeStyles, Typography } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport React, { useEffect } from \"react\";\nimport { User as UserIcon } from \"react-feather\";\nimport { useSelector } from \"react-redux\";\nimport { Link as RouterLink, useLocation } from \"react-router-dom\";\nimport NavItem from \"./NavItem\";\n\nconst items = [\n  {\n    href: \"/giang-vien/thong-tin-ca-nhan\",\n    icon: UserIcon,\n    title: \"Thông tin cá nhân\",\n  },\n  {\n    href: \"/giang-vien/nhap-diem-lop-hoc\",\n    icon: UserIcon,\n    title: \"Nhập điểm lớp học\",\n  },\n];\n\nconst useStyles = makeStyles(() => ({\n  mobileDrawer: {\n    width: 256,\n  },\n  desktopDrawer: {\n    width: 256,\n    top: 64,\n    height: \"calc(100% - 64px)\",\n  },\n  avatar: {\n    cursor: \"pointer\",\n    width: 64,\n    height: 64,\n  },\n}));\n\nconst NavBar = ({ onMobileClose, openMobile }) => {\n  const classes = useStyles();\n  const location = useLocation();\n\n  const user = useSelector((state) => state.teacherProfileSlice);\n\n  useEffect(() => {\n    if (openMobile && onMobileClose) {\n      onMobileClose();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.pathname]);\n\n  const content = (\n    <Box height=\"100%\" display=\"flex\" flexDirection=\"column\">\n      <Box alignItems=\"center\" display=\"flex\" flexDirection=\"column\" p={2}>\n        <Avatar className={classes.avatar} component={RouterLink} src={user.imgSrc} to=\"/giang-vien/thong-tin-ca-nhan\" />\n        <Typography className={classes.name} color=\"textPrimary\" variant=\"h5\">\n          {user.name}\n        </Typography>\n        <Typography color=\"textSecondary\" variant=\"body2\">\n          Giảng viên\n        </Typography>\n      </Box>\n      <Divider />\n      <Box p={2}>\n        <List>\n          {items.map((item) => (\n            <NavItem href={item.href} key={item.title} title={item.title} icon={item.icon} />\n          ))}\n        </List>\n      </Box>\n      <Box flexGrow={1} />\n    </Box>\n  );\n\n  return (\n    <>\n      <Hidden lgUp>\n        <Drawer anchor=\"left\" classes={{ paper: classes.mobileDrawer }} onClose={onMobileClose} open={openMobile} variant=\"temporary\">\n          {content}\n        </Drawer>\n      </Hidden>\n      <Hidden mdDown>\n        <Drawer anchor=\"left\" classes={{ paper: classes.desktopDrawer }} open variant=\"persistent\">\n          {content}\n        </Drawer>\n      </Hidden>\n    </>\n  );\n};\n\nNavBar.propTypes = {\n  onMobileClose: PropTypes.func,\n  openMobile: PropTypes.bool,\n};\n\nNavBar.defaultProps = {\n  onMobileClose: () => {},\n  openMobile: false,\n};\n\nexport default NavBar;\n","import { AppBar, Badge, Box, Hidden, IconButton, makeStyles, Toolbar } from \"@material-ui/core\";\nimport InputIcon from \"@material-ui/icons/Input\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport NotificationsIcon from \"@material-ui/icons/NotificationsOutlined\";\nimport clsx from \"clsx\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\nimport Logo from \"src/shared/Logo\";\nimport { resetStore } from \"../../store\";\nimport { clearToken } from \"src/utils/mng-token\";\nimport { clearRole } from \"../../utils/mng-role\";\nimport { setPrivateKeyHex } from \"../../utils/keyholder\";\n\nconst useStyles = makeStyles(() => ({\n  root: {},\n  avatar: {\n    width: 60,\n    height: 60,\n  },\n}));\n\nconst TopBar = ({ className, onMobileNavOpen, ...rest }) => {\n  const classes = useStyles();\n  const [notifications] = useState([]);\n  const navigate = useNavigate();\n  const dp = useDispatch();\n  return (\n    <AppBar className={clsx(classes.root, className)} elevation={0} {...rest}>\n      <Toolbar>\n        <RouterLink to=\"/\">\n          <Logo />\n        </RouterLink>\n        <Box flexGrow={1} />\n        <Hidden mdDown>\n          <IconButton color=\"inherit\">\n            <Badge badgeContent={notifications.length} color=\"primary\" variant=\"dot\">\n              <NotificationsIcon />\n            </Badge>\n          </IconButton>\n          <IconButton\n            color=\"inherit\"\n            onClick={(e) => {\n              clearToken();\n              clearRole();\n              setPrivateKeyHex(null);\n              dp(resetStore());\n              navigate(\"/\");\n            }}\n          >\n            <InputIcon />\n          </IconButton>\n        </Hidden>\n        <Hidden lgUp>\n          <IconButton color=\"inherit\" onClick={onMobileNavOpen}>\n            <MenuIcon />\n          </IconButton>\n        </Hidden>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nTopBar.propTypes = {\n  className: PropTypes.string,\n  onMobileNavOpen: PropTypes.func,\n};\n\nexport default TopBar;\n","import React, { useEffect, useState } from \"react\";\nimport { Outlet } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core\";\nimport NavBar from \"./NavBar\";\nimport TopBar from \"./TopBar\";\nimport { getToken } from \"src/utils/mng-token\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setProfile } from \"src/views/teacher/Profile/redux\";\nimport Loading from \"src/shared/Loading\";\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100%\",\n    width: \"100%\",\n    display: \"flex\",\n    overflow: \"hidden\",\n    backgroundColor: theme.palette.background.dark,\n  },\n  wrapper: {\n    flex: \"1 1 auto\",\n    display: \"flex\",\n    overflow: \"hidden\",\n    paddingTop: 64,\n    [theme.breakpoints.up(\"lg\")]: {\n      paddingLeft: 256,\n    },\n  },\n  contentContainer: {\n    flex: \"1 1 auto\",\n    display: \"flex\",\n    overflow: \"hidden\",\n  },\n  content: {\n    flex: \"1 1 auto\",\n    // height: \"100%\",\n    overflow: \"auto\",\n  },\n}));\n\nconst TeacherDashboardLayout = () => {\n  const classes = useStyles();\n  const [isMobileNavOpen, setMobileNavOpen] = useState(false);\n  const loading = useSelector((state) => state.teacherProfileSlice.fetching);\n  const dp = useDispatch();\n\n  useEffect(() => {\n    fetchProfile();\n  }, []);\n\n  async function fetchProfile() {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/teacher/teacher-profile`, {\n        headers: { Authorization: getToken() },\n      });\n      if (!response.ok) {\n        alert(JSON.stringify(await response.json()));\n      } else {\n        dp(setProfile(await response.json()));\n      }\n    } catch (err) {\n      console.log(err);\n      alert(err);\n    }\n  }\n\n  return (\n    <>\n      {loading ? (\n        <Loading />\n      ) : (\n        <>\n          <div className={classes.root}>\n            <TopBar onMobileNavOpen={() => setMobileNavOpen(true)} />\n            <NavBar onMobileClose={() => setMobileNavOpen(false)} openMobile={isMobileNavOpen} />\n            <div className={classes.wrapper}>\n              <div className={classes.contentContainer}>\n                <div className={classes.content}>\n                  <PerfectScrollbar>\n                    <Outlet />\n                  </PerfectScrollbar>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default TeacherDashboardLayout;\n","import React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport PropTypes from \"prop-types\";\nimport { AppBar, Toolbar, makeStyles } from \"@material-ui/core\";\nimport Logo from \"src/shared/Logo\";\n\nconst useStyles = makeStyles({\n  root: {},\n  toolbar: {\n    height: 64,\n  },\n});\n\nconst TopBar = ({ className, ...rest }) => {\n  const classes = useStyles();\n\n  return (\n    <AppBar className={clsx(classes.root, className)} elevation={0} {...rest}>\n      <Toolbar className={classes.toolbar}>\n        <RouterLink to=\"/\">\n          <Logo />\n        </RouterLink>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nTopBar.propTypes = {\n  className: PropTypes.string,\n};\n\nexport default TopBar;\n","import React from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core';\nimport TopBar from './TopBar';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    display: 'flex',\n    height: '100%',\n    overflow: 'hidden',\n    width: '100%'\n  },\n  wrapper: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden',\n    paddingTop: 64\n  },\n  contentContainer: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden'\n  },\n  content: {\n    flex: '1 1 auto',\n    height: '100%',\n    overflow: 'auto'\n  }\n}));\n\nconst MainLayout = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <TopBar />\n      <div className={classes.wrapper}>\n        <div className={classes.contentContainer}>\n          <div className={classes.content}>\n            <Outlet />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MainLayout;\n","import { makeStyles } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport React, { forwardRef } from \"react\";\nimport { Helmet } from \"react-helmet\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100%\",\n    padding: theme.spacing(2.5),\n  },\n}));\n\nconst Page = forwardRef(({ children, title = \"\", ...rest }, ref) => {\n  const cls = useStyles();\n\n  return (\n    <div ref={ref} {...rest} className={cls.root}>\n      <Helmet>\n        <title>{title}</title>\n      </Helmet>\n      {children}\n    </div>\n  );\n});\n\nPage.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string,\n};\n\nexport default Page;\n","import React from \"react\";\nimport { Box, Container, Typography, makeStyles } from \"@material-ui/core\";\nimport Page from \"src/shared/Page\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    height: \"100%\",\n    paddingBottom: theme.spacing(3),\n    paddingTop: theme.spacing(3),\n  },\n  image: {\n    marginTop: 50,\n    display: \"inline-block\",\n    maxWidth: \"100%\",\n    width: 560,\n  },\n}));\n\nconst NotFoundView = () => {\n  const classes = useStyles();\n\n  return (\n    <Page className={classes.root} title=\"404\">\n      <Box display=\"flex\" flexDirection=\"column\" height=\"100%\" justifyContent=\"center\">\n        <Container maxWidth=\"md\">\n          <Typography align=\"center\" color=\"textPrimary\" variant=\"h1\">\n            404: The page you are looking for isn’t here\n          </Typography>\n          <Typography align=\"center\" color=\"textPrimary\" variant=\"subtitle2\">\n            You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation\n          </Typography>\n          <Box textAlign=\"center\">{/* <img alt=\"Under development\" className={classes.image} src=\"/static/images/undraw_page_not_found_su7k.svg\" /> */}</Box>\n        </Container>\n      </Box>\n    </Page>\n  );\n};\n\nexport default NotFoundView;\n","import Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport React, { useState } from \"react\";\r\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\r\nimport { setLocalToken, setRemember, setSessionToken } from \"src/utils/mng-token\";\r\nimport { getRouteByRole, setLocalRole, setSessionRole } from \"../../../utils/mng-role\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link component={RouterLink} to=\"/\">\r\n        B4E Website\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  alert: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  link: {\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nexport default function SignIn() {\r\n  const classes = useStyles();\r\n  const [state, setState] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    remember: true,\r\n  });\r\n  const [errors, setErrors] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  async function hdSubmit(e) {\r\n    e.preventDefault();\r\n    let response = await fetch(`${process.env.REACT_APP_SERVER_URL}/acc/signin`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ email: state.email, password: state.password }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errs = await response.json();\r\n      setErrors(errs);\r\n    } else {\r\n      const body = await response.json();\r\n      if (state.remember) {\r\n        setLocalToken(body.token);\r\n        setLocalRole(body.role);\r\n        setRemember(true);\r\n      } else {\r\n        setSessionToken(body.token);\r\n        setSessionRole(body.role);\r\n        setRemember(false);\r\n      }\r\n      navigate(getRouteByRole(body.role));\r\n    }\r\n  }\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h3\">\r\n          Đăng nhập tài khoản\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            value={state.email}\r\n            onChange={(e) => {\r\n              setState({ ...state, email: e.target.value });\r\n              setErrors({ ...errors, email: null });\r\n            }}\r\n            error={Boolean(errors?.email)}\r\n            helperText={errors?.email}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Mật khẩu\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"password\"\r\n            value={state.password}\r\n            onChange={(e) => {\r\n              setState({ ...state, password: e.target.value });\r\n              setErrors({ ...errors, password: null });\r\n            }}\r\n            error={Boolean(errors?.password)}\r\n            helperText={errors?.password}\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox checked={state.remember} onChange={(e) => setState({ ...state, remember: !state.remember })} color=\"primary\" />}\r\n            label=\"Nhớ đăng nhập\"\r\n          />\r\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} onClick={hdSubmit}>\r\n            Đăng nhập\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link componet={RouterLink} to=\"#\" variant=\"body2\">\r\n                Quên mật khẩu?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/dang-ki\">\r\n                {\"Chưa có tài khoản? Đăng kí\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport React, { useState } from \"react\";\r\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\r\nimport { setLocalToken, setRemember } from \"src/utils/mng-token\";\r\nimport { getRouteByRole, setLocalRole } from \"../../../utils/mng-role\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link component={RouterLink} to=\"/\">\r\n        B4E Website\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  alert: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n\r\n  const [state, setState] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    repassword: \"\",\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [success, setSuccess] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  async function hdSubmit(e) {\r\n    e.preventDefault();\r\n    let response = await fetch(`${process.env.REACT_APP_SERVER_URL}/acc/signup`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(state),\r\n    });\r\n    if (!response.ok) {\r\n      const errors = await response.json();\r\n      setErrors(errors);\r\n    } else {\r\n      const result = await response.json();\r\n      setLocalToken(result.token);\r\n      setLocalRole(result.role);\r\n      setRemember(true);\r\n      setErrors(null);\r\n      setSuccess(\"Đăng kí tài khoản thành công!\");\r\n      setTimeout(() => navigate(getRouteByRole(result.role)), 1000);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h3\">\r\n          Đăng kí tài khoản Trường học\r\n        </Typography>\r\n        <div>\r\n          {success ? (\r\n            <Alert className={classes.alert} severity=\"success\">\r\n              {success}\r\n            </Alert>\r\n          ) : null}\r\n        </div>\r\n        <form className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email\"\r\n                value={state.email}\r\n                onChange={(e) => {\r\n                  setState({ ...state, email: e.target.value });\r\n                  setErrors(null);\r\n                }}\r\n                error={Boolean(errors?.email)}\r\n                helperText={errors?.email}\r\n                disabled={Boolean(success)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label=\"Mật khẩu\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                value={state.password}\r\n                onChange={(e) => {\r\n                  setState({ ...state, password: e.target.value });\r\n                  setErrors(null);\r\n                }}\r\n                error={Boolean(errors?.password)}\r\n                helperText={errors?.password}\r\n                disabled={Boolean(success)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label=\"Nhập lại mật khẩu\"\r\n                type=\"password\"\r\n                id=\"rePassword\"\r\n                value={state.repassword}\r\n                onChange={(e) => {\r\n                  setState({ ...state, repassword: e.target.value });\r\n                  setErrors(null);\r\n                }}\r\n                error={Boolean(errors?.repassword)}\r\n                helperText={errors?.repassword}\r\n                disabled={Boolean(success)}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} onClick={hdSubmit}>\r\n            Đăng kí\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/dang-nhap\">\r\n                Bạn đã có tài khoản rồi? Đăng nhập\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import { Avatar, Box, Paper, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport { updateImgSrc } from \"./redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  avatar: {\r\n    height: \"128px\",\r\n    width: \"128px\",\r\n    margin: \"auto\",\r\n    position: \"relative\",\r\n  },\r\n  paper: {\r\n    marginTop: \"-64px\",\r\n    width: \"100%\",\r\n  },\r\n  name: {\r\n    fontWeight: 600,\r\n  },\r\n  description: {\r\n    fontWeight: 300,\r\n    lineHeight: \"1.5rem\",\r\n  },\r\n}));\r\n\r\nexport default function AvatarBar() {\r\n  const cls = useStyles();\r\n  const schoolName = useSelector((state) => state.profileSlice.universityName);\r\n  const avatarSrc = useSelector((state) => state.profileSlice.imgSrc);\r\n  const description = useSelector((state) => state.profileSlice.description);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const dp = useDispatch();\r\n\r\n  async function hdChangeAvatar(e) {\r\n    const formData = new FormData();\r\n    formData.append(\"avatar\", e.target.files[0]);\r\n    const res = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/change-avatar`, {\r\n      method: \"POST\",\r\n      headers: { Authorization: getToken() },\r\n      body: formData,\r\n    });\r\n\r\n    if (!res.ok) {\r\n      const err = await res.json();\r\n      enqueueSnackbar(\"Something went wrong: \" + JSON.stringify(err), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n    } else {\r\n      const imgSrc = await res.json();\r\n      dp(updateImgSrc(imgSrc));\r\n      enqueueSnackbar(\"Cập nhật Avatar thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"right\" } });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box className={cls.root}>\r\n      <label htmlFor=\"avatar\">\r\n        <input type=\"file\" accept=\"image/*\" id=\"avatar\" style={{ display: \"none\" }} onChange={hdChangeAvatar} />\r\n        <Avatar src={avatarSrc} className={cls.avatar}></Avatar>\r\n      </label>\r\n      <Paper className={cls.paper}>\r\n        <Box textAlign=\"center\" px={3} pb={3} pt={\"96px\"}>\r\n          <Typography variant=\"h5\" gutterBottom>\r\n            Cán bộ Phòng Đào Tạo\r\n          </Typography>\r\n          <Typography variant=\"h3\" gutterBottom className={cls.name}>\r\n            {schoolName || \"Trường ĐH ABC\"}\r\n          </Typography>\r\n          <Typography variant=\"body2\" className={cls.description}>\r\n            {description ||\r\n              \"Quisque laoreet, sem a cursus blandit, lectus libero vestibulum purus, id malesuada risus sem id nulla. Curabitur suscipit, dolor at imperdiet dapibus, arcu massa semper enim, vitae consectetur nulla leo blandit nisi. Duis aliquam non turpis sit amet pellentesque. Sed arcu neque, sollicitudin vel ultricies\"}\r\n          </Typography>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Button, Grid, IconButton, InputAdornment, makeStyles, Paper, TextField, Typography } from \"@material-ui/core\";\r\nimport \"date-fns\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport { requirePrivateKeyHex, setPrivateKeyHex } from \"../../../utils/keyholder\";\r\nimport { setProfile } from \"./redux\";\r\nimport AccountBalanceWalletIcon from \"@material-ui/icons/AccountBalanceWallet\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiFormLabel-root.Mui-disabled\": {\r\n      color: theme.palette.primary.main,\r\n    },\r\n    \"& .MuiInputBase-input.Mui-disabled\": {\r\n      color: \"black\",\r\n    },\r\n  },\r\n  head: {\r\n    width: \"95%\",\r\n    margin: \"auto\",\r\n    padding: theme.spacing(2.5, 2),\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: \"white\",\r\n    position: \"relative\", // this bring head foreground\r\n  },\r\n  body: { width: \"100%\", marginTop: \"-32px\" },\r\n  box: {\r\n    padding: theme.spacing(8, 3, 3, 3),\r\n    \"& > *\": {\r\n      marginBottom: theme.spacing(4),\r\n      \"&:last-child\": {\r\n        marginBottom: 0,\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function ProfileForm() {\r\n  const cls = useStyles();\r\n  const profile = useSelector((state) => state.profileSlice);\r\n  const [state, setState] = useState(profile);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const disable = Boolean(profile.state === \"voting\" || profile.state === \"accepted\" || profile.state === \"declined\");\r\n\r\n  async function hdSubmit(e) {\r\n    try {\r\n      const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\r\n      let response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/make-request`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\", Authorization: getToken() },\r\n        // delete fetching field before send data to backend to avoid fail validate, delete imgSrc to avoid request too large error.\r\n        body: JSON.stringify({ profile: { ...state, fetching: undefined, imgSrc: undefined }, privateKeyHex }),\r\n      });\r\n\r\n      const result = await response.json();\r\n      // validate profile fail\r\n      if (!response.ok) {\r\n        enqueueSnackbar(\"Kiểm tra lại thông tin:\" + JSON.stringify(result), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n      } else {\r\n        // send to bkc fail\r\n        if (!result.ok) {\r\n          enqueueSnackbar(\"Tạo tx thất bại: \" + JSON.stringify(result.msg), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n          dp(setProfile({ ...state, imgSrc: profile.imgSrc, state: \"fail\" }));\r\n        } else {\r\n          setTimeout(() => {\r\n            enqueueSnackbar(\"Đăng kí tham gia thành công, đang chờ kết quả bỏ phiếu!\", {\r\n              variant: \"success\",\r\n              anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" },\r\n            });\r\n            dp(setProfile({ ...state, imgSrc: profile.imgSrc, state: \"voting\" }));\r\n          }, 500);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  async function hdSelectAccountFromWallet() {\r\n    enqueueSnackbar(\"Hãy mở ví và chọn tài khoản!\", { variant: \"info\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n    window.addEventListener(\"message\", function (event) {\r\n      if (event.data.type === \"SIGN_RESPONSE\" && event.origin === window.origin) {\r\n        if (event.data.accept) {\r\n          setPrivateKeyHex(event.data.account.privateKey);\r\n          setState({ ...state, pubkey: event.data.account.publicKey });\r\n        } else {\r\n          enqueueSnackbar(\"Bạn cần chọn một tài khoản để có thể tiếp tục!\", { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n        }\r\n      }\r\n    });\r\n    window.postMessage({ type: \"SIGN_REQUEST\" }, window.origin);\r\n  }\r\n\r\n  return (\r\n    <Box className={cls.root}>\r\n      <Paper className={cls.head}>\r\n        <Typography variant=\"h3\">Thông tin Trường học</Typography>\r\n        <Typography variant=\"subtitle1\">Thông tin này sẽ được hiển thị với BGD và các Trường khác</Typography>\r\n      </Paper>\r\n      <Box className={cls.body}>\r\n        <Paper>\r\n          <Box className={cls.box}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  fullWidth\r\n                  label=\"Tên Trường\"\r\n                  value={state?.universityName}\r\n                  onChange={(e) => setState({ ...state, universityName: e.target.value })}\r\n                  disabled={disable}\r\n                ></TextField>\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  fullWidth\r\n                  label=\"Tên Tiếng Anh\"\r\n                  value={state?.nameInEnglish}\r\n                  onChange={(e) => setState({ ...state, nameInEnglish: e.target.value })}\r\n                  disabled={disable}\r\n                ></TextField>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <TextField\r\n              InputLabelProps={{ shrink: true }}\r\n              fullWidth\r\n              label=\"Địa chỉ\"\r\n              value={state?.address}\r\n              onChange={(e) => setState({ ...state, address: e.target.value })}\r\n              disabled={disable}\r\n            ></TextField>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  fullWidth\r\n                  label=\"Email\"\r\n                  value={state?.email}\r\n                  onChange={(e) => setState({ ...state, email: e.target.value })}\r\n                  disabled={disable}\r\n                ></TextField>\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  fullWidth\r\n                  label=\"Số điện thoại\"\r\n                  value={state?.phone}\r\n                  onChange={(e) => setState({ ...state, phone: e.target.value })}\r\n                  disabled={disable}\r\n                ></TextField>\r\n              </Grid>\r\n            </Grid>\r\n            <TextField\r\n              InputLabelProps={{ shrink: true }}\r\n              fullWidth\r\n              label=\"Khóa công khai\"\r\n              value={state?.pubkey}\r\n              onChange={(e) => setState({ ...state, pubkey: e.target.value })}\r\n              disabled={disable}\r\n              InputProps={{\r\n                endAdornment: !disable && (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton onClick={hdSelectAccountFromWallet}>\r\n                      <AccountBalanceWalletIcon></AccountBalanceWalletIcon>\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            ></TextField>\r\n            <TextField\r\n              InputLabelProps={{ shrink: true }}\r\n              fullWidth\r\n              label=\"Mô tả khác\"\r\n              multiline\r\n              rows={4}\r\n              value={state?.description}\r\n              onChange={(e) => setState({ ...state, description: e.target.value })}\r\n              disabled={disable}\r\n            ></TextField>\r\n            {!disable && (\r\n              <Box textAlign=\"right\">\r\n                <Button color=\"primary\" variant=\"contained\" onClick={hdSubmit}>\r\n                  Đăng kí tham gia\r\n                </Button>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        </Paper>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import { Avatar, Box, makeStyles, Paper, Table, TableBody, TableCell, TableContainer, TableRow, Typography } from \"@material-ui/core\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"../../../utils/mng-token\";\r\nimport { updateVotingState } from \"./redux\";\r\nimport HowToVoteIcon from \"@material-ui/icons/HowToVote\";\r\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiTableCell-sizeSmall\": {\r\n      padding: theme.spacing(1),\r\n    },\r\n  },\r\n  head: {\r\n    width: \"95%\",\r\n    margin: \"auto\",\r\n    padding: theme.spacing(2.5, 2),\r\n    backgroundColor: (props) => {\r\n      if (props.votingState === \"voting\") return theme.palette.info.main;\r\n      else if (props.votingState === \"accepted\") return theme.palette.success.main;\r\n      else if (props.votingState === \"declined\") return theme.palette.error.main;\r\n      else return theme.palette.primary.main;\r\n    },\r\n    color: \"white\",\r\n    position: \"relative\", // this bring head foreground\r\n  },\r\n  body: { width: \"100%\", marginTop: \"-32px\", padding: theme.spacing(6, 2, 2, 2) },\r\n}));\r\n\r\nexport default function VotingState(props) {\r\n  const votingState = useSelector((state) => state.profileSlice.state);\r\n  const votes = useSelector((state) => state.profileSlice.votes);\r\n  const cls = useStyles({ votingState });\r\n  const dp = useDispatch();\r\n\r\n  // realtime update voting state! (y), so professional!\r\n  useEffect(() => {\r\n    if (votingState === \"voting\") {\r\n      const clockId = setInterval(async () => {\r\n        const res = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/university-profile`, { headers: { Authorization: getToken() } });\r\n        if (res.ok) {\r\n          const body = await res.json();\r\n          if (body) {\r\n            dp(updateVotingState(body));\r\n          }\r\n        }\r\n      }, 5000);\r\n      return () => {\r\n        window.clearInterval(clockId);\r\n      };\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Box className={cls.root}>\r\n        <Paper className={cls.head}>\r\n          <Typography variant=\"h3\">\r\n            {votingState === \"voting\" && (\r\n              <>\r\n                Đang bỏ phiếu <HowToVoteIcon></HowToVoteIcon>\r\n              </>\r\n            )}\r\n            {votingState === \"accepted\" && (\r\n              <>\r\n                Đã tham gia <DoneAllIcon></DoneAllIcon>\r\n              </>\r\n            )}\r\n            {votingState === \"declined\" && (\r\n              <>\r\n                Đã bị từ chối <CloseIcon></CloseIcon>\r\n              </>\r\n            )}\r\n          </Typography>\r\n        </Paper>\r\n        <Paper className={cls.body}>\r\n          <TableContainer>\r\n            <Table size=\"small\">\r\n              <TableBody>\r\n                {votes &&\r\n                  votes.map((vote, index) => (\r\n                    <TableRow key={index}>\r\n                      <TableCell>\r\n                        <Avatar></Avatar>\r\n                      </TableCell>\r\n                      {/* TODO: vote now have no name, but pubkey instead, so we will fetch university from UniversityProfile first */}\r\n                      <TableCell>\r\n                        {vote.name} || {vote.publicKey === \"037dd31d79a82b44a3a24314bcdb8ea472dd7da3e07a2c96ff9fce4588b7e6464f\" ? \"BGD&DT\" : \"\"}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {vote.decision === \"accept\" && <CheckIcon color=\"primary\"></CheckIcon>}\r\n                        {vote.decision === \"decline\" && <CloseIcon color=\"secondary\"></CloseIcon>}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <i>\r\n                          <small>{vote.time}</small>\r\n                        </i>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </Paper>\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n","import { Box, Grid } from \"@material-ui/core\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Page from \"src/shared/Page\";\r\nimport AvatarBar from \"./AvatarBar\";\r\nimport ProfileForm from \"./ProfileForm\";\r\nimport VotingState from \"./VotingState\";\r\n\r\nexport default function MakeRequest() {\r\n  const votingState = useSelector((state) => state.profileSlice.state);\r\n  return (\r\n    <Page title=\"Đăng kí tham gia\">\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} md={8}>\r\n          <ProfileForm></ProfileForm>\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n          <AvatarBar></AvatarBar>\r\n          <Box mt={2}>{votingState !== undefined && votingState !== \"fail\" && <VotingState></VotingState>}</Box>\r\n        </Grid>\r\n      </Grid>\r\n    </Page>\r\n  );\r\n}\r\n","import Paper from \"@material-ui/core/Paper\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\n\r\n// table show school info\r\nexport default function VoteBody({ request }) {\r\n  return (\r\n    <div>\r\n      <TableContainer component={Paper}>\r\n        <Table size=\"small\">\r\n          <TableBody>\r\n            <TableRow>\r\n              <TableCell>Tên Tiếng Anh</TableCell>\r\n              <TableCell>{request.nameInEnglish}</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Địa chỉ</TableCell>\r\n              <TableCell>{request.address}</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Email</TableCell>\r\n              <TableCell>{request.email}</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Số điện thoại</TableCell>\r\n              <TableCell>{request.phone}</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Public key</TableCell>\r\n              <TableCell>{request.pubkey}</TableCell>\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </div>\r\n  );\r\n}\r\n","import { Avatar, Box, Button, Typography } from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\r\nimport { collapseVoteRequest } from \"./redux\";\r\n\r\nexport default function VoteHeader({ request }) {\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  async function hdVote(decision, publicKeyOfRequest) {\r\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/vote`, {\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: getToken() },\r\n      method: \"POST\",\r\n      body: JSON.stringify({ decision, publicKeyOfRequest, privateKeyHex }),\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      enqueueSnackbar(JSON.stringify(result), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n    } else {\r\n      dp(collapseVoteRequest({ pubkey: publicKeyOfRequest }));\r\n      enqueueSnackbar(\"Bỏ phiếu thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Box bgcolor=\"white\" px={2} py={1} display=\"flex\" alignItems=\"center\">\r\n        <Box flexGrow={1} display=\"flex\" alignItems=\"center\">\r\n          <Avatar src={request.imgSrc}></Avatar>\r\n          <Box mx={2}>\r\n            <Typography variant=\"h5\">{request.universityName}</Typography>\r\n          </Box>\r\n        </Box>\r\n        <Box pr={2} flexShrink={0}>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={(e) => hdVote(\"accept\", request.pubkey)}>\r\n            Đồng ý\r\n          </Button>\r\n        </Box>\r\n        <Box flexShrink={0}>\r\n          <Button onClick={(e) => hdVote(\"decline\", request.pubkey)}>Từ chối</Button>\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n","import { Box, Collapse } from \"@material-ui/core\";\r\nimport VoteBody from \"src/shared/VoteBody\";\r\nimport VoteHeader from \"./VoteHeader\";\r\n\r\nexport default function VoteRequest({ request }) {\r\n  return (\r\n    <Collapse in={request.in ?? true} collapsedHeight={0}>\r\n      <Box mb={3}>\r\n        <VoteHeader request={request}></VoteHeader>\r\n        <VoteBody request={request}></VoteBody>\r\n      </Box>\r\n    </Collapse>\r\n  );\r\n}\r\n","import { Box, Typography } from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport { updateVoteRequestList } from \"./redux\";\r\nimport VoteRequest from \"./VoteRequest\";\r\n\r\nexport default function RequestList(props) {\r\n  const loading = useSelector((state) => state.votingSlice.fetching);\r\n  const voteRequests = useSelector((state) => state.votingSlice.voteRequests);\r\n  const numOfNewVoteRequest = useSelector((state) => state.votingSlice.numOfNewVoteRequest);\r\n\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    fetchNewVoteRequests();\r\n  }, []);\r\n\r\n  async function fetchNewVoteRequests() {\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/vote-requests?state=new`, {\r\n      headers: { Authorization: getToken() },\r\n    });\r\n    if (!response.ok) {\r\n      enqueueSnackbar(JSON.stringify(await response.json()), { variant: \"error\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } });\r\n    } else {\r\n      const result = await response.json();\r\n      dp(updateVoteRequestList(result));\r\n    }\r\n  }\r\n\r\n  let content;\r\n  if (numOfNewVoteRequest > 0) {\r\n    content = voteRequests.map((request, index) => <VoteRequest request={request} key={index}></VoteRequest>);\r\n  } else {\r\n    content = (\r\n      <Box py={2} mb={3} bgcolor=\"white\">\r\n        <Typography variant=\"h4\" align=\"center\">\r\n          Chưa có thêm yêu cầu bỏ phiếu mới nào!\r\n        </Typography>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return <div>{loading ? null : content}</div>;\r\n}\r\n","import { makeStyles, Typography } from \"@material-ui/core\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Page from \"src/shared/Page\";\r\nimport RequestList from \"./RequestList\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  flexContainer: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n}));\r\nexport default function Voting(props) {\r\n  const cls = useStyles();\r\n  const votingState = useSelector((state) => state.profileSlice.state);\r\n\r\n  return (\r\n    <Page title=\"Voting\">\r\n      {votingState === \"accepted\" ? (\r\n        <RequestList></RequestList>\r\n      ) : (\r\n        <div className={cls.flexContainer}>\r\n          <Typography variant=\"h3\">Hiện tại bạn chưa thể thực hiện bỏ phiếu!</Typography>\r\n          <Typography variant=\"subtitle1\">Sau khi tham gia thành công bạn sẽ có thể thực hiện bỏ phiếu.</Typography>\r\n        </div>\r\n      )}\r\n    </Page>\r\n  );\r\n}\r\n","import { Paper } from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React, { useMemo } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport MdInfinite from \"react-ionicons/lib/MdInfinite\";\r\nimport UseAnimations from \"react-useanimations\";\r\nimport arrowDown from \"react-useanimations/lib/arrowDown\";\r\n\r\nconst baseStyle = {\r\n  flex: 1,\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  padding: \"40px\",\r\n  borderWidth: 4,\r\n  borderRadius: 4,\r\n  borderColor: \"#eeeeee\",\r\n  borderStyle: \"dashed\",\r\n  // backgroundColor: \"#fafafa\",\r\n  // backgroundColor: \"white\",\r\n  // color: \"#bdbdbd\",\r\n  color: \"rgba(0,0,0,0.7)\",\r\n  // outline: \"1px solid #eeeeee\",\r\n  transition: \"border .24s ease-in-out\",\r\n};\r\n\r\nconst activeStyle = {\r\n  borderColor: \"#2196f3\",\r\n};\r\n\r\nconst acceptStyle = {\r\n  borderColor: \"#00e676\",\r\n};\r\n\r\nconst rejectStyle = {\r\n  borderColor: \"#ff1744\",\r\n};\r\n\r\nexport default function DragnDropZone({ onDropAccepted, uploading }) {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  function onDropRejected(fileRejections) {\r\n    enqueueSnackbar(\"Chỉ chấp nhận excel file!\", { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n  }\r\n\r\n  const { getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject } = useDropzone({\r\n    accept: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\r\n    onDropRejected,\r\n    onDropAccepted,\r\n  });\r\n\r\n  const style = useMemo(\r\n    () => ({\r\n      ...baseStyle,\r\n      ...(isDragActive ? activeStyle : {}),\r\n      ...(isDragAccept ? acceptStyle : {}),\r\n      ...(isDragReject ? rejectStyle : {}),\r\n    }),\r\n    [isDragActive, isDragReject, isDragAccept]\r\n  );\r\n\r\n  return (\r\n    <Paper>\r\n      <div {...getRootProps({ style })}>\r\n        <input {...getInputProps()} />\r\n        {uploading ? (\r\n          <>\r\n            <MdInfinite rotate={true} fontSize=\"75px\" />\r\n            <p>Uploading...</p>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <UseAnimations animation={arrowDown} size={75} />\r\n            <p>Drag 'n' drop excel file here, or click to select file</p>\r\n          </>\r\n        )}\r\n      </div>\r\n    </Paper>\r\n  );\r\n}\r\n","import { Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from \"@material-ui/core\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\n\r\nexport default function SimpleTable({ head, body, minWidth }) {\r\n  return (\r\n    <TableContainer>\r\n      <PerfectScrollbar style={{ paddingBottom: minWidth ? \"24px\" : 0 }}>\r\n        <Table size=\"small\" style={{ minWidth }}>\r\n          <TableHead>\r\n            <TableRow>\r\n              {head.map((columnTitle, index) => (\r\n                <TableCell key={index}>{columnTitle}</TableCell>\r\n              ))}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {body.map((row, rowIndex) => (\r\n              <TableRow key={rowIndex}>\r\n                {row.map((cell, index) => (\r\n                  <TableCell key={index}>{cell}</TableCell>\r\n                ))}\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </PerfectScrollbar>\r\n    </TableContainer>\r\n  );\r\n}\r\n","import { Box, Button, Divider, makeStyles, Paper, Typography } from \"@material-ui/core\";\r\nimport GetAppIcon from \"@material-ui/icons/GetApp\";\r\nimport SimpleTable from \"../Table/SimpleTable\";\r\nimport FileSaver from \"file-saver\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport default function DownloadExampleData({ title, fileName, head, body }) {\r\n  const cls = useStyles();\r\n\r\n  function hdClickDownload(e) {\r\n    FileSaver.saveAs(`/static/excels/${fileName}`, fileName);\r\n  }\r\n\r\n  return (\r\n    <Paper>\r\n      <Box px={2} display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n        <Typography variant=\"h4\">{title || \"Mẫu dữ liệu\"}</Typography>\r\n        <Button variant=\"outlined\" color=\"primary\" className={cls.button} startIcon={<GetAppIcon />} onClick={hdClickDownload}>\r\n          Download\r\n        </Button>\r\n      </Box>\r\n      <Divider></Divider>\r\n      <Box>\r\n        <SimpleTable head={head} body={body}></SimpleTable>\r\n      </Box>\r\n    </Paper>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport DownloadExampleData from \"../../../shared/DownloadExampleData\";\r\n\r\nexport default function BureauDataExample() {\r\n  const title = \"Mẫu file dữ liệu Giáo vụ Viện\";\r\n  const fileName = \"giao-vu-example.xlsx\";\r\n  const head = [\"Mã giáo vụ\", \"Họ và tên\", \"Email\", \"Viện\", \"Khóa công khai\"];\r\n  const body = [\r\n    [\"GVU1234\", \"Nguyễn Văn B\", \"nguyenvanb@gvu.soict.hust.edu.vn\", \"Viện CNTT&TT\", \"03828edbbdf81522657d2618d06ddf1bd...\"],\r\n    [\"GVU1235\", \"Lý Thị C\", \"lythic@gvu.spkt.hust.edu.vn\", \"Viện Sư phạm Kỹ thuật\", \"03ab5f057da235b71b082f906292a37aa3...\"],\r\n    [\"GVU1236\", \"Lê Thị D\", \"lethidc@gvu.nn.hust.edu.vn\", \"Viện Ngoại ngữ\", \"02b4adb050cc2429a8375c8a5d0a13395...\"],\r\n    [\"GVU1237\", \"Trần Văn E\", \"tranvane@gvu.dtvt.hust.edu.vn\", \"Viện Điện tử viễn thông\", \"021d85da863f80e8067960374d333aaaa...\"],\r\n    [\"GVU1238\", \"Đào Thị F\", \"daothif@gvu.dktdh.hust.edu.vn\", \"Viện Điều khiển Tự động hóa\", \"02502dbc748bded2563cf985b6560073c2f...\"],\r\n  ];\r\n  return <DownloadExampleData {...{ title, fileName, head, body }}></DownloadExampleData>;\r\n}\r\n","import { useEffect } from \"react\";\r\nimport {\r\n  Accordion,\r\n  makeStyles,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  Typography,\r\n  Box,\r\n  CircularProgress,\r\n  Button,\r\n  AccordionActions,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport { setPreloadHistory } from \"./redux\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport SimpleTable from \"../../../shared/Table/SimpleTable\";\r\nimport GetAppIcon from \"@material-ui/icons/GetApp\";\r\nimport XLSX from \"xlsx\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n}));\r\n\r\nexport default function BureauUploadHistory() {\r\n  const cls = useStyles();\r\n  const fetching = useSelector((state) => state.bureauSlice.fetching);\r\n  const history = useSelector((state) => state.bureauSlice.history);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    fetchHistory();\r\n  }, []);\r\n\r\n  async function fetchHistory() {\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/bureau-history`, {\r\n      headers: { Authorization: getToken() },\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      enqueueSnackbar(\"Fail to load history: \" + JSON.stringify(result), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n    } else {\r\n      dp(setPreloadHistory(result));\r\n    }\r\n  }\r\n\r\n  async function hdDownloadClick(e, item) {\r\n    // let profiles = item.profiles.map((profile, index) => ({ 'Mã giáo vụ':  }));\r\n    const wb = XLSX.utils.book_new();\r\n    const ws = XLSX.utils.json_to_sheet(item.profiles);\r\n    XLSX.utils.book_append_sheet(wb, ws, \"Giáo vụ - \" + item.time);\r\n    XLSX.writeFile(wb, \"giao-vu-\" + item.time + \".xlsx\");\r\n  }\r\n\r\n  const head = [\"Mã giáo vụ\", \"Họ và tên\", \"Viện\", \"Account\", \"Password\", \"Txid\"];\r\n  const title = \"Lịch sử upload Giáo vụ\";\r\n  const content = (\r\n    <Box>\r\n      {history.map((item, index) => {\r\n        const body = item.profiles.map((profile) => [\r\n          profile.bureauId,\r\n          profile.name,\r\n          profile.department,\r\n          profile.email,\r\n          profile.firstTimePassword,\r\n          profile.txid ?? <CircularProgress size=\"1rem\"></CircularProgress>,\r\n        ]);\r\n        return (\r\n          <Accordion key={index}>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} id={item._id} className={cls.summary}>\r\n              <Typography className={cls.heading}>{`#${index + 1}, ${item.time}`}</Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <SimpleTable title={title} head={head} body={body}></SimpleTable>\r\n            </AccordionDetails>\r\n            <Divider />\r\n            <AccordionActions>\r\n              <Button startIcon={<GetAppIcon />} variant=\"outlined\" color=\"primary\" onClick={(e) => hdDownloadClick(e, item)}>\r\n                Download\r\n              </Button>\r\n            </AccordionActions>\r\n          </Accordion>\r\n        );\r\n      })}\r\n    </Box>\r\n  );\r\n  return fetching ? null : content;\r\n}\r\n","import { makeStyles } from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Page from \"src/shared/Page\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport DragnDropZone from \"../../../shared/DragnDropZone\";\r\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\r\nimport BureauDataExample from \"./BureauDataExample\";\r\nimport BureauUploadHistory from \"./BureauUploadHistory\";\r\nimport { startUploadFile, uploadFileFail, uploadFileSuccess } from \"./redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      marginBottom: theme.spacing(2),\r\n      \"&:last-child\": {\r\n        marginBottom: 0,\r\n      },\r\n    },\r\n    paddingBottom: theme.spacing(2.5),\r\n  },\r\n}));\r\n\r\nexport default function CreateBureauAccount() {\r\n  const cls = useStyles();\r\n  const uploading = useSelector((state) => state.bureauSlice.uploading);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  async function hdUploadFile(files) {\r\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\r\n    dp(startUploadFile());\r\n    const formData = new FormData();\r\n    formData.append(\"excel-file\", files[0]);\r\n    formData.append(\"privateKeyHex\", privateKeyHex);\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/create-bureau`, {\r\n      method: \"POST\",\r\n      headers: { Authorization: getToken() },\r\n      body: formData,\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      // TODO: remove setTimeout\r\n      setTimeout(() => {\r\n        dp(uploadFileFail());\r\n        enqueueSnackbar(\"Something went wrong: \" + JSON.stringify(result), {\r\n          variant: \"error\",\r\n          anchorOrigin: { vertical: \"top\", horizontal: \"center\" },\r\n        });\r\n      }, 500);\r\n    } else {\r\n      // TODO: remove setTimeout\r\n      setTimeout(() => {\r\n        dp(uploadFileSuccess(result));\r\n        enqueueSnackbar(\"Tạo tài khoản cho các giáo vụ thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } });\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Page title=\"Tạo tài khoản giáo vụ \">\r\n      <div className={cls.root}>\r\n        <BureauDataExample></BureauDataExample>\r\n        <DragnDropZone onDropAccepted={hdUploadFile} uploading={uploading}></DragnDropZone>\r\n        <BureauUploadHistory></BureauUploadHistory>\r\n      </div>\r\n    </Page>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport DownloadExampleData from \"../../../shared/DownloadExampleData\";\r\n\r\nexport default function TeacherDataExample() {\r\n  const title = \"Mẫu file dữ liệu Giảng viên\";\r\n  const fileName = \"giang-vien-example.xlsx\";\r\n  const head = [\"Mã giảng viên\", \"Họ và tên\", \"Email\", \"Viện\", \"Khóa công khai\"];\r\n  const body = [\r\n    [\"GV1234\", \"Nguyễn Văn X\", \"nguyenvanx@soict.hust.edu.vn\", \"Viện CNTT&TT\", \"02a2e3f2b6b9ec1155979ee691072bd17f...\"],\r\n    [\"GV1235\", \"Nguyễn Văn Y\", \"nguyenvany@spkt.hust.edu.vn\", \"Viện Sư phạm Kỹ thuật\", \"02992cf23456bf4167fc2d69f70ee36361a...\"],\r\n    [\"GV1236\", \"Trần Thị Z\", \"lethidc@nn.hust.edu.vn\", \"Viện Ngoại ngữ\", \"028b921e7d9e7e0ece5660dc48e6c7b84...\"],\r\n    [\"GV1237\", \"Trần Văn T\", \"tranvane@dtvt.hust.edu.vn\", \"Viện Điện tử viễn thông\", \"02a09d011afd12783ab87f44ad1932dcca...\"],\r\n    [\"GV1238\", \"Đào Thị W\", \"daothiw@dktdh.hust.edu.vn\", \"Viện Điều khiển Tự động hóa\", \"0351befccfa9fa6ba05d16a2eb94a593f77...\"],\r\n  ];\r\n  return <DownloadExampleData {...{ title, fileName, head, body }}></DownloadExampleData>;\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { Accordion, makeStyles, AccordionSummary, AccordionDetails, Typography, Box, CircularProgress, AccordionActions, Button } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport { setPreloadHistory } from \"./redux\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport SimpleTable from \"../../../shared/Table/SimpleTable\";\r\nimport GetAppIcon from \"@material-ui/icons/GetApp\";\r\nimport XLSX from \"xlsx\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n}));\r\n\r\nexport default function TeacherUploadHistory() {\r\n  const cls = useStyles();\r\n  const fetching = useSelector((state) => state.teacherSlice.fetching);\r\n  const history = useSelector((state) => state.teacherSlice.history);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    fetchHistory();\r\n  }, []);\r\n\r\n  async function fetchHistory() {\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/teacher-history`, {\r\n      headers: { Authorization: getToken() },\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      enqueueSnackbar(\"Fail to load history: \" + JSON.stringify(result), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n    } else {\r\n      dp(setPreloadHistory(result));\r\n    }\r\n  }\r\n  async function hdDownloadClick(e, item) {\r\n    const wb = XLSX.utils.book_new();\r\n    const ws = XLSX.utils.json_to_sheet(item.profiles);\r\n    XLSX.utils.book_append_sheet(wb, ws, \"Giảng viên - \" + item.time);\r\n    XLSX.writeFile(wb, \"giang-vien-\" + item.time + \".xlsx\");\r\n  }\r\n  const head = [\"Mã giảng viên\", \"Họ và tên\", \"Viện\", \"Account\", \"Password\", \"Txid\"];\r\n  const title = \"Lịch sử upload Giảng viên\";\r\n  const content = (\r\n    <Box>\r\n      {history.map((item, index) => {\r\n        const body = item.profiles.map((profile) => [\r\n          profile.teacherId,\r\n          profile.name,\r\n          profile.department,\r\n          profile.email,\r\n          profile.firstTimePassword,\r\n          profile.txid ?? <CircularProgress size=\"1rem\"></CircularProgress>,\r\n        ]);\r\n        return (\r\n          <Accordion key={index}>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} id={item._id}>\r\n              <Typography className={cls.heading}>{`#${index + 1}, ${item.time}`}</Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <SimpleTable head={head} body={body}></SimpleTable>\r\n            </AccordionDetails>\r\n            <AccordionActions>\r\n              <Button startIcon={<GetAppIcon />} variant=\"outlined\" color=\"primary\" onClick={(e) => hdDownloadClick(e, item)}>\r\n                Download\r\n              </Button>\r\n            </AccordionActions>\r\n          </Accordion>\r\n        );\r\n      })}\r\n    </Box>\r\n  );\r\n  return fetching ? null : content;\r\n}\r\n","import { makeStyles } from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport DragnDropZone from \"../../../shared/DragnDropZone\";\r\nimport Page from \"src/shared/Page\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport TeacherDataExample from \"./TeacherDataExample\";\r\nimport TeacherUploadHistory from \"./TeacherUploadHistory\";\r\nimport { startUploadFile, uploadFileFail, uploadFileSuccess } from \"./redux\";\r\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      marginBottom: theme.spacing(2),\r\n      \"&:last-child\": {\r\n        marginBottom: 0,\r\n      },\r\n    },\r\n    paddingBottom: theme.spacing(2.5),\r\n  },\r\n}));\r\n\r\nexport default function CreateTeacherAccount() {\r\n  const cls = useStyles();\r\n  const uploading = useSelector((state) => state.teacherSlice.uploading);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  async function hdUploadFile(files) {\r\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\r\n    dp(startUploadFile());\r\n    const formData = new FormData();\r\n    formData.append(\"excel-file\", files[0]);\r\n    formData.append(\"privateKeyHex\", privateKeyHex);\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/create-teacher`, {\r\n      method: \"POST\",\r\n      headers: { Authorization: getToken() },\r\n      body: formData,\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      // TODO: remove setTimeout\r\n      setTimeout(() => {\r\n        dp(uploadFileFail());\r\n        enqueueSnackbar(\"Something went wrong: \" + JSON.stringify(result), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n      }, 500);\r\n    } else {\r\n      // TODO: remove setTimeout\r\n      setTimeout(() => {\r\n        dp(uploadFileSuccess(result));\r\n        enqueueSnackbar(\"Upload file thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } });\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Page title=\"Tạo tài khoản giảng viên \">\r\n      <div className={cls.root}>\r\n        <TeacherDataExample></TeacherDataExample>\r\n        <DragnDropZone onDropAccepted={hdUploadFile} uploading={uploading}></DragnDropZone>\r\n        <TeacherUploadHistory></TeacherUploadHistory>\r\n      </div>\r\n    </Page>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport DownloadExampleData from \"../../../shared/DownloadExampleData\";\r\n\r\nexport default function StudentDataExample() {\r\n  const title = \"Mẫu file dữ liệu Sinh viên\";\r\n  const fileName = \"sinh-vien-example.xlsx\";\r\n  const head = [\"Mssv\", \"Họ và tên\", \"Ngày sinh\", \"Lớp\"];\r\n  const body = [\r\n    [\"20161234\", \"Nguyễn Văn B\", \"20-10-2000\", \"CNTT1.02\"],\r\n    [\"20161235\", \"Lý Thị C\", \"20-10-2000\", \"CNTT2.01\"],\r\n    [\"20161236\", \"Lê Thị D\", \"20-10-2000\", \"CNTT2.01\"],\r\n    [\"20161237\", \"Trần Văn E\", \"20-10-2000\", \"CNTT2.01\"],\r\n    [\"20161238\", \"Đào Thị F\", \"20-10-2000\", \"CNTT2.01\"],\r\n  ];\r\n  return <DownloadExampleData {...{ title, fileName, head, body }}></DownloadExampleData>;\r\n}\r\n","import { Accordion, AccordionActions, AccordionDetails, AccordionSummary, Box, Button, makeStyles, Typography } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport SimpleTable from \"../../../shared/Table/SimpleTable\";\r\nimport { setPreloadHistory } from \"./redux\";\r\nimport GetAppIcon from \"@material-ui/icons/GetApp\";\r\nimport XLSX from \"xlsx\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n}));\r\n\r\nexport default function StudentUploadHistory() {\r\n  const cls = useStyles();\r\n  const fetching = useSelector((state) => state.studentSlice.fetching);\r\n  const history = useSelector((state) => state.studentSlice.history);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    fetchHistory();\r\n  }, []);\r\n\r\n  async function fetchHistory() {\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/student-history`, {\r\n      headers: { Authorization: getToken() },\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      enqueueSnackbar(\"Fail to load history: \" + JSON.stringify(result), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n    } else {\r\n      dp(setPreloadHistory(result));\r\n    }\r\n  }\r\n  async function hdDownloadClick(e, item) {\r\n    const wb = XLSX.utils.book_new();\r\n    const ws = XLSX.utils.json_to_sheet(item.profiles);\r\n    XLSX.utils.book_append_sheet(wb, ws, \"Sinh viên - \" + item.time);\r\n    XLSX.writeFile(wb, \"sinh-viên\" + item.time + \".xlsx\");\r\n  }\r\n\r\n  const head = [\"Mssv\", \"Họ và tên\", \"Ngày sinh\", \"Lớp\", \"Public key\", \"Private key\"];\r\n  const title = \"Lịch sử upload sinh viên\";\r\n  const content = (\r\n    <Box>\r\n      {history.map((item, index) => {\r\n        const body = item.profiles.map((profile) => [\r\n          profile.studentId,\r\n          profile.name,\r\n          profile.birthday,\r\n          profile.class,\r\n          profile.publicKey,\r\n          profile.privateKey,\r\n          // profile.txid ?? <CircularProgress size=\"1rem\"></CircularProgress>,\r\n        ]);\r\n        return (\r\n          <Accordion key={index}>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} id={item._id}>\r\n              <Typography className={cls.heading}>{`#${index + 1}, ${item.time}`}</Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <SimpleTable head={head} body={body} minWidth=\"2200px\"></SimpleTable>\r\n            </AccordionDetails>\r\n            <AccordionActions>\r\n              <Button startIcon={<GetAppIcon />} variant=\"outlined\" color=\"primary\" onClick={(e) => hdDownloadClick(e, item)}>\r\n                Download\r\n              </Button>\r\n            </AccordionActions>\r\n          </Accordion>\r\n        );\r\n      })}\r\n    </Box>\r\n  );\r\n  return fetching ? null : content;\r\n}\r\n","import { makeStyles } from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport DragnDropZone from \"../../../shared/DragnDropZone\";\r\nimport Page from \"src/shared/Page\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport StudentDataExample from \"./StudentDataExample\";\r\nimport StudentUploadHistory from \"./StudentUploadHistory\";\r\nimport { startUploadFile, uploadFileFail, uploadFileSuccess } from \"./redux\";\r\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      marginBottom: theme.spacing(2),\r\n      \"&:last-child\": {\r\n        marginBottom: 0,\r\n      },\r\n    },\r\n    paddingBottom: theme.spacing(2.5),\r\n  },\r\n}));\r\n\r\nexport default function CreateStudentAccount() {\r\n  const cls = useStyles();\r\n  const uploading = useSelector((state) => state.studentSlice.uploading);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  async function hdUploadFile(files) {\r\n    // let assume we do not push this info to blockchain,\r\n    // const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\r\n    dp(startUploadFile());\r\n    const formData = new FormData();\r\n    formData.append(\"excel-file\", files[0]);\r\n    // formData.append(\"privateKeyHex\", privateKeyHex);\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/create-student`, {\r\n      method: \"POST\",\r\n      headers: { Authorization: getToken() },\r\n      body: formData,\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      // TODO: remove setTimeout\r\n      setTimeout(() => {\r\n        dp(uploadFileFail());\r\n        enqueueSnackbar(\"Something went wrong: \" + JSON.stringify(result), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n      }, 2000);\r\n    } else {\r\n      // TODO: remove setTimeout\r\n      setTimeout(() => {\r\n        dp(uploadFileSuccess(result));\r\n        enqueueSnackbar(\"Upload file thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } });\r\n      }, 2000);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Page title=\"Tạo tài khoản sinh viên\">\r\n      <div className={cls.root}>\r\n        <StudentDataExample></StudentDataExample>\r\n        <DragnDropZone onDropAccepted={hdUploadFile} uploading={uploading}></DragnDropZone>\r\n        <StudentUploadHistory></StudentUploadHistory>\r\n      </div>\r\n    </Page>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport DownloadExampleData from \"../../../shared/DownloadExampleData\";\r\n\r\nexport default function SubjectDataExample() {\r\n  const title = \"Mẫu file dữ liệu Môn học\";\r\n  const fileName = \"mon-hoc-example.xlsx\";\r\n  const head = [\"Mã môn học\", \"Tên môn học\", \"Kì học\", \"Số tín chỉ\", \"Ghi chú\"];\r\n  const body = [\r\n    [\"EM1170\", \"\tPháp luật đại cương\", \"1\", \"2\", \"Chung toàn trường\"],\r\n    [\"SSH1050\", \"Tư tưởng HCM\t\", \"3\", \"2\", \"Chung toàn trường\"],\r\n    [\"IT1110\", \"Tin học đại cương\", \"3\", \"4\", \"BB khối kỹ thuật\"],\r\n    [\"MI1110\", \"Giải tích I\", \"1\", \"4\", \"BB khối kỹ thuật\t\"],\r\n  ];\r\n  return <DownloadExampleData {...{ title, fileName, head, body }}></DownloadExampleData>;\r\n}\r\n","import { Paper } from \"@material-ui/core\";\r\nimport { DataGrid } from \"@material-ui/data-grid\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"../../../utils/mng-token\";\r\nimport { setPreloadSubjects } from \"./redux\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\n\r\nconst columns = [\r\n  { field: \"id\", headerName: \"#\", width: 50, type: \"string\" },\r\n  { field: \"subjectId\", headerName: \"Mã môn học\", width: 125, type: \"string\" },\r\n  { field: \"name\", headerName: \"Tên môn học\", width: 200, type: \"string\" },\r\n  { field: \"semester\", headerName: \"Kì học\", type: \"number\" },\r\n  { field: \"credit\", headerName: \"Số tín chỉ\", type: \"number\" },\r\n  { field: \"note\", headerName: \"Ghi chú\", width: 200, type: \"string\" },\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: \"white\",\r\n  },\r\n}));\r\n\r\nexport default function UploadedSubjectTable(props) {\r\n  const cls = useStyles();\r\n  const fetching = useSelector((state) => state.subjectSlice.fetching);\r\n  const subjects = useSelector((state) => state.subjectSlice.subjects);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    fetchUploadedSubject();\r\n  }, []);\r\n\r\n  async function fetchUploadedSubject() {\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/subjects`, {\r\n      headers: { Authorization: getToken() },\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      enqueueSnackbar(\"Fail to load uploaded subjects!: \" + JSON.stringify(result), {\r\n        variant: \"error\",\r\n        anchorOrigin: { vertical: \"top\", horizontal: \"center\" },\r\n      });\r\n    } else {\r\n      dp(setPreloadSubjects(result));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper style={{ height: \"350px\", width: \"100%\" }}>\r\n      <DataGrid\r\n        className={cls.root}\r\n        loading={fetching}\r\n        rows={subjects}\r\n        columns={columns}\r\n        rowHeight={48}\r\n        autoPageSize\r\n        // pageSize={5}\r\n        // autoHeight\r\n        // rowsPerPageOptions={[5, 10, 25, 50, 100]}\r\n      />\r\n    </Paper>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport DragnDropZone from \"../../../shared/DragnDropZone\";\r\nimport Page from \"src/shared/Page\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport SubjectDataExample from \"./SubjectDataExample\";\r\nimport { startUploadFile, uploadFileFail, uploadFileSuccess } from \"./redux\";\r\nimport UploadedSubjectTable from \"./UploadedSubjectTable\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      marginBottom: theme.spacing(2),\r\n      \"&:last-child\": {\r\n        marginBottom: 0,\r\n      },\r\n    },\r\n    paddingBottom: theme.spacing(2.5),\r\n    // height: \"calc(150% + 50px)\",\r\n  },\r\n}));\r\n\r\nexport default function UploadSubject() {\r\n  const cls = useStyles();\r\n  const uploading = useSelector((state) => state.subjectSlice.uploading);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  async function hdUploadFile(files) {\r\n    dp(startUploadFile());\r\n    const formData = new FormData();\r\n    formData.append(\"excel-file\", files[0]);\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/upload-subjects`, {\r\n      method: \"POST\",\r\n      headers: { Authorization: getToken() },\r\n      body: formData,\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      dp(uploadFileFail());\r\n      enqueueSnackbar(\"Something went wrong: \" + JSON.stringify(result), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n    } else {\r\n      dp(uploadFileSuccess(result));\r\n      enqueueSnackbar(\"Upload file thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Page title=\"Upload môn học\">\r\n      <div className={cls.root}>\r\n        <SubjectDataExample></SubjectDataExample>\r\n        <DragnDropZone onDropAccepted={hdUploadFile} uploading={uploading}></DragnDropZone>\r\n        <UploadedSubjectTable></UploadedSubjectTable>\r\n      </div>\r\n    </Page>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport DownloadExampleData from \"../../../shared/DownloadExampleData\";\r\n\r\nexport default function ClassDataExample() {\r\n  const title = \"Mẫu file dữ liệu Lớp học\";\r\n  const fileName = \"lop-hoc-example.xlsx\";\r\n  const head = [\"Kì học\", \"Mã môn học\", \"Mã lớp học\", \"Mã GV\", \"Mã GVU\", \"DSSV\"];\r\n  const body = [\r\n    [\"20201\", \"\tSSH1050\", \"117123\", \"GV1234\", \"GVU1234\", \"20161234, 20161235, 20161236, 20161237\"],\r\n    [\"20201\", \"EM1170\", \"117124\", \"GV1235\", \"GVU1235\", \"20161234, 20161235, 20161236, 20161237\"],\r\n    [\"20201\", \"IT1110\t\", \"685542\", \"GV1236\", \"GVU1236\", \"20161234, 20161235, 20161236, 20161237\"],\r\n    [\"20201\", \"MI1110\", \"685547\", \"GV1237\", \"GVU1237\", \"20161234, 20161235, 20161236, 20161237\"],\r\n  ];\r\n  return <DownloadExampleData {...{ title, fileName, head, body }}></DownloadExampleData>;\r\n}\r\n","import { Paper } from \"@material-ui/core\";\r\nimport { DataGrid } from \"@material-ui/data-grid\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"../../../utils/mng-token\";\r\nimport { setPreloadClasses } from \"./redux\";\r\n\r\nconst columns = [\r\n  { field: \"id\", headerName: \"#\", width: 75, type: \"string\" },\r\n  { field: \"semester\", headerName: \"Kì học\", width: 100, type: \"string\" },\r\n  { field: \"subjectId\", headerName: \"Mã môn học\", width: 125, type: \"string\" },\r\n  { field: \"classId\", headerName: \"Mã lớp học\", width: 125, type: \"string\" },\r\n  { field: \"teacherId\", headerName: \"Mã GV\", width: 125, type: \"string\" },\r\n  { field: \"bureauId\", headerName: \"Mã GVU\", width: 125, type: \"string\" },\r\n  { field: \"studentIds\", headerName: \"DSSV\", width: 400, type: \"string\" },\r\n  { field: \"txid\", headerName: \"Txid\", width: 1200, type: \"string\" },\r\n];\r\n\r\nexport default function UploadedClassTable(props) {\r\n  const fetching = useSelector((state) => state.classSlice.fetching);\r\n  const classes = useSelector((state) => state.classSlice.classes);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    fetchUploadedClass();\r\n  }, []);\r\n\r\n  async function fetchUploadedClass() {\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/classes`, {\r\n      headers: { Authorization: getToken() },\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      enqueueSnackbar(\"Fail to load uploaded classes!: \" + JSON.stringify(result), {\r\n        variant: \"error\",\r\n        anchorOrigin: { vertical: \"top\", horizontal: \"center\" },\r\n      });\r\n    } else {\r\n      dp(setPreloadClasses(result));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper style={{ height: \"350px\", width: \"100%\" }}>{fetching ? null : <DataGrid rows={classes} columns={columns} autoPageSize rowHeight={48} />}</Paper>\r\n  );\r\n}\r\n","import { useSnackbar } from \"notistack\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\r\nimport { startUploadFile, uploadFileFail, uploadFileSuccess } from \"./redux\";\r\nimport Page from \"src/shared/Page\";\r\nimport ClassDataExample from \"./ClassDataExample\";\r\nimport DragnDropZone from \"../../../shared/DragnDropZone\";\r\nimport UploadedClassTable from \"./UploadedClassTable\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      marginBottom: theme.spacing(2),\r\n      \"&:last-child\": {\r\n        marginBottom: 0,\r\n      },\r\n    },\r\n    paddingBottom: theme.spacing(2.5),\r\n  },\r\n}));\r\n\r\nexport default function Uploadclass() {\r\n  const cls = useStyles();\r\n  const uploading = useSelector((state) => state.classSlice.uploading);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  async function hdUploadFile(files) {\r\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\r\n    dp(startUploadFile());\r\n    const formData = new FormData();\r\n    formData.append(\"excel-file\", files[0]);\r\n    formData.append(\"privateKeyHex\", privateKeyHex);\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/upload-classes`, {\r\n      method: \"POST\",\r\n      headers: { Authorization: getToken() },\r\n      body: formData,\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      // TODO: remove setTimeout\r\n      setTimeout(() => {\r\n        dp(uploadFileFail());\r\n        enqueueSnackbar(\"Something went wrong: \" + JSON.stringify(result), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n      }, 2000);\r\n    } else {\r\n      setTimeout(() => {\r\n        dp(uploadFileSuccess(result));\r\n        enqueueSnackbar(\"Upload file thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } });\r\n      }, 2000);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Page title=\"Upload lớp học\">\r\n      <div className={cls.root}>\r\n        <ClassDataExample></ClassDataExample>\r\n        <DragnDropZone onDropAccepted={hdUploadFile} uploading={uploading}></DragnDropZone>\r\n        <UploadedClassTable></UploadedClassTable>\r\n      </div>\r\n    </Page>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport DownloadExampleData from \"../../../shared/DownloadExampleData\";\r\n\r\nexport default function CertificateDataExample() {\r\n  const title = \"Mẫu file dữ liệu Môn học\";\r\n  const fileName = \"bang-cap-example.xlsx\";\r\n  const head = [\r\n    \"Họ và tên\",\r\n    \"Ngày sinh\",\r\n    \"Giới tính\",\r\n    \"Trường\",\r\n    \"Ngành học\",\r\n    \"Loại bằng\",\r\n    \"Năm\",\r\n    \"Xếp loại\",\r\n    // \"Hình thức đào tạo\",\r\n    \"Nơi cấp\",\r\n    \"Ngày cấp\",\r\n    \"Hiệu trưởng\",\r\n    \"Số hiệu\",\r\n    \"Số hiệu vào sổ\",\r\n  ];\r\n  const body = [\r\n    [\r\n      \"Nguyễn Văn An\",\r\n      \"01/01/1998\",\r\n      \"Nam\",\r\n      \"Đại học Bách Khoa Hà Nội\",\r\n      \"Công nghệ thông tin\",\r\n      \"Kỹ sư\",\r\n      \"2019\",\r\n      \"Giỏi\",\r\n      // \"Chính quy\",\r\n      \"Hà Nội\",\r\n      \"20/08/2019\",\r\n      \"Hoàng Minh Sơn\",\r\n      \"12431\",\r\n      \"12341231431\",\r\n    ],\r\n    [\r\n      \"Nguyễn Văn Bình\",\r\n      \"01/01/1998\",\r\n      \"Nam\",\r\n      \"Đại học Bách Khoa Hà Nội\",\r\n      \"Công nghệ thông tin\",\r\n      \"Kỹ sư\",\r\n      \"2019\",\r\n      \"Giỏi\",\r\n      // \"Chính quy\",\r\n      \"Hà Nội\",\r\n      \"20/08/2019\",\r\n      \"Hoàng Minh Sơn\",\r\n      \"12432\",\r\n      \"12341231432\",\r\n    ],\r\n  ];\r\n  return <DownloadExampleData {...{ title, fileName, head, body }}></DownloadExampleData>;\r\n}\r\n","import { Paper } from \"@material-ui/core\";\r\nimport { DataGrid } from \"@material-ui/data-grid\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"../../../utils/mng-token\";\r\nimport { setPreloadCertificates } from \"./redux\";\r\n\r\nconst columns = [\r\n  { field: \"id\", headerName: \"#\", width: 50, type: \"string\" },\r\n  { field: \"name\", headerName: \"Họ và tên\", width: 200, type: \"string\" },\r\n  { field: \"birthday\", headerName: \"Ngày sinh\", width: 150, type: \"string\" },\r\n  { field: \"gender\", headerName: \"Giới tính\", type: \"string\" },\r\n  { field: \"university\", headerName: \"Trường\", width: 250, type: \"string\" },\r\n  { field: \"faculty\", headerName: \"Ngành học\", width: 200, type: \"string\" },\r\n  { field: \"degree\", headerName: \"Loại bằng\", width: 125, type: \"string\" },\r\n  { field: \"gradyear\", headerName: \"Năm tốt nghiệp\", width: 125, type: \"string\" },\r\n  { field: \"level\", headerName: \"Xếp loại\", width: 125, type: \"string\" },\r\n  { field: \"eduform\", headerName: \"Hình thức đào tạo\", width: 200, type: \"string\" },\r\n  { field: \"issuelocation\", headerName: \"Nơi cấp\", width: 125, type: \"string\" },\r\n  { field: \"issuedate\", headerName: \"Ngày cấp\", width: 200, type: \"string\" },\r\n  { field: \"headmaster\", headerName: \"Hiệu trưởng\", width: 200, type: \"string\" },\r\n  { field: \"regisno\", headerName: \"Số hiệu\", width: 200, type: \"string\" },\r\n  { field: \"globalregisno\", headerName: \"Số hiệu vào sổ\", width: 200, type: \"string\" },\r\n];\r\n\r\nexport default function UploadedCertificateTable(props) {\r\n  const fetching = useSelector((state) => state.certificateSlice.fetching);\r\n  const certificates = useSelector((state) => state.certificateSlice.certificates);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    fetchUploadedCertificate();\r\n  }, []);\r\n\r\n  async function fetchUploadedCertificate() {\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/certificates`, {\r\n      headers: { Authorization: getToken() },\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      enqueueSnackbar(\"Fail to load uploaded certificates!: \" + JSON.stringify(result), {\r\n        variant: \"error\",\r\n        anchorOrigin: { vertical: \"top\", horizontal: \"center\" },\r\n      });\r\n    } else {\r\n      dp(setPreloadCertificates(result));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper style={{ height: \"350px\", width: \"100%\" }}>\r\n      {fetching ? null : <DataGrid rows={certificates} columns={columns} autoPageSize rowHeight={48} loading={fetching} />}\r\n    </Paper>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport DragnDropZone from \"../../../shared/DragnDropZone\";\r\nimport Page from \"src/shared/Page\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport CertificateDataExample from \"./CertificateDataExample\";\r\nimport { startUploadFile, uploadFileFail, uploadFileSuccess } from \"./redux\";\r\nimport UploadedCertificateTable from \"./UploadedCertificateTable\";\r\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      marginBottom: theme.spacing(2),\r\n      \"&:last-child\": {\r\n        marginBottom: 0,\r\n      },\r\n    },\r\n    paddingBottom: theme.spacing(2.5),\r\n  },\r\n}));\r\n\r\nexport default function UploadCertificate() {\r\n  const cls = useStyles();\r\n  const uploading = useSelector((state) => state.certificateSlice.uploading);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  async function hdUploadFile(files) {\r\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\r\n    dp(startUploadFile());\r\n    const formData = new FormData();\r\n    formData.append(\"excel-file\", files[0]);\r\n    formData.append(\"privateKeyHex\", privateKeyHex);\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/staff/upload-certificates`, {\r\n      method: \"POST\",\r\n      headers: { Authorization: getToken() },\r\n      body: formData,\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      // TODO: remove setTimeout\r\n      setTimeout(() => {\r\n        dp(uploadFileFail());\r\n        enqueueSnackbar(\"Something went wrong: \" + JSON.stringify(result), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n      }, 2000);\r\n    } else {\r\n      setTimeout(() => {\r\n        dp(uploadFileSuccess(result));\r\n        enqueueSnackbar(\"Upload file thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } });\r\n      }, 2000);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Page title=\"Upload bằng cấp\">\r\n      <div className={cls.root}>\r\n        <CertificateDataExample></CertificateDataExample>\r\n        <DragnDropZone onDropAccepted={hdUploadFile} uploading={uploading}></DragnDropZone>\r\n        <UploadedCertificateTable></UploadedCertificateTable>\r\n      </div>\r\n    </Page>\r\n  );\r\n}\r\n","import { Avatar, Box, Paper, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport { updateImgSrc } from \"./redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  avatar: {\r\n    height: \"128px\",\r\n    width: \"128px\",\r\n    margin: \"auto\",\r\n    position: \"relative\",\r\n  },\r\n  paper: {\r\n    marginTop: \"-64px\",\r\n    width: \"100%\",\r\n  },\r\n  name: {\r\n    fontWeight: 600,\r\n  },\r\n  description: {\r\n    fontWeight: 300,\r\n    lineHeight: \"1.5rem\",\r\n  },\r\n}));\r\n\r\nexport default function AvatarBar() {\r\n  const cls = useStyles();\r\n  const name = useSelector((state) => state.teacherProfileSlice.name);\r\n  const avatarSrc = useSelector((state) => state.teacherProfileSlice.imgSrc);\r\n  const description = useSelector((state) => state.teacherProfileSlice.description);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const dp = useDispatch();\r\n\r\n  async function hdChangeAvatar(e) {\r\n    const formData = new FormData();\r\n    formData.append(\"avatar\", e.target.files[0]);\r\n    const res = await fetch(`${process.env.REACT_APP_SERVER_URL}/teacher/change-avatar`, {\r\n      method: \"POST\",\r\n      headers: { Authorization: getToken() },\r\n      body: formData,\r\n    });\r\n\r\n    if (!res.ok) {\r\n      const err = await res.json();\r\n      enqueueSnackbar(\"Something went wrong: \" + JSON.stringify(err), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n    } else {\r\n      const imgSrc = await res.json();\r\n      dp(updateImgSrc(imgSrc));\r\n      enqueueSnackbar(\"Cập nhật Avatar thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"right\" } });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box className={cls.root}>\r\n      <label htmlFor=\"avatar\">\r\n        <input type=\"file\" accept=\"image/*\" id=\"avatar\" style={{ display: \"none\" }} onChange={hdChangeAvatar} />\r\n        <Avatar src={avatarSrc} className={cls.avatar}></Avatar>\r\n      </label>\r\n      <Paper className={cls.paper}>\r\n        <Box textAlign=\"center\" px={3} pb={3} pt={\"96px\"}>\r\n          <Typography variant=\"h5\" gutterBottom>\r\n            Giảng viên\r\n          </Typography>\r\n          <Typography variant=\"h3\" gutterBottom className={cls.name}>\r\n            {name}\r\n          </Typography>\r\n          <Typography variant=\"body2\" className={cls.description}>\r\n            {description ||\r\n              \"Quisque laoreet, sem a cursus blandit, lectus libero vestibulum purus, id malesuada risus sem id nulla. Curabitur suscipit, dolor at imperdiet dapibus, arcu massa semper enim, vitae consectetur nulla leo blandit nisi. Duis aliquam non turpis sit amet pellentesque. Sed arcu neque, sollicitudin vel ultricies\"}\r\n          </Typography>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Button, Grid, makeStyles, Paper, TextField, Typography } from \"@material-ui/core\";\r\nimport \"date-fns\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport { setProfile } from \"./redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiFormLabel-root.Mui-disabled\": {\r\n      color: theme.palette.primary.main,\r\n    },\r\n    \"& .MuiInputBase-input.Mui-disabled\": {\r\n      color: \"black\",\r\n    },\r\n  },\r\n  head: {\r\n    width: \"95%\",\r\n    margin: \"auto\",\r\n    padding: theme.spacing(2.5, 2),\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: \"white\",\r\n    position: \"relative\", // this bring head foreground\r\n  },\r\n  body: { width: \"100%\", marginTop: \"-32px\" },\r\n  box: {\r\n    padding: theme.spacing(8, 3, 3, 3),\r\n    \"& > *\": {\r\n      marginBottom: theme.spacing(4),\r\n      \"&:last-child\": {\r\n        marginBottom: 0,\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function TeacherProfileForm() {\r\n  const cls = useStyles();\r\n  const profile = useSelector((state) => state.teacherProfileSlice);\r\n  const [state, setState] = useState(profile);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const disable = true;\r\n\r\n  async function hdSubmit(e) {\r\n    try {\r\n      let response = await fetch(`${process.env.REACT_APP_SERVER_URL}/teacher/update-profile`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\", Authorization: getToken() },\r\n        // delete fetching field before send data to backend to avoid fail validate, delete imgSrc to avoid request too large error.\r\n        body: JSON.stringify({ ...state, fetching: undefined, imgSrc: undefined }),\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (!response.ok) {\r\n        enqueueSnackbar(\"Kiểm tra lại thông tin: \" + JSON.stringify(result), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n      } else {\r\n        if (!result.ok) {\r\n          enqueueSnackbar(\"Có lỗi đã xảy ra, vui lòng thử lại sau!\", { variant: \"error\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } });\r\n          dp(setProfile({ ...state, imgSrc: profile.imgSrc }));\r\n        } else {\r\n          enqueueSnackbar(\"Cập nhât thành công!\", {\r\n            variant: \"success\",\r\n            anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" },\r\n          });\r\n          dp(setProfile({ ...state, imgSrc: profile.imgSrc }));\r\n        }\r\n      }\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box className={cls.root}>\r\n      <Paper className={cls.head}>\r\n        <Typography variant=\"h3\">Thông tin Giảng viên</Typography>\r\n        <Typography variant=\"subtitle1\">Một số thông tin có thể sẽ không được phép thay đổi</Typography>\r\n      </Paper>\r\n      <Box className={cls.body}>\r\n        <Paper>\r\n          <Box className={cls.box}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  fullWidth\r\n                  label=\"Mã GV\"\r\n                  value={state?.teacherId}\r\n                  onChange={(e) => setState({ ...state, teacherId: e.target.value })}\r\n                  disabled={disable}\r\n                ></TextField>\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  fullWidth\r\n                  label=\"Họ và tên\"\r\n                  value={state?.name}\r\n                  onChange={(e) => setState({ ...state, name: e.target.value })}\r\n                  disabled={disable}\r\n                ></TextField>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  fullWidth\r\n                  label=\"Email\"\r\n                  value={state?.email}\r\n                  onChange={(e) => setState({ ...state, email: e.target.value })}\r\n                  disabled={disable}\r\n                ></TextField>\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  fullWidth\r\n                  label=\"Khoa/Viện\"\r\n                  value={state?.department}\r\n                  onChange={(e) => setState({ ...state, department: e.target.value })}\r\n                  disabled={disable}\r\n                ></TextField>\r\n              </Grid>\r\n            </Grid>\r\n            <TextField\r\n              InputLabelProps={{ shrink: true }}\r\n              fullWidth\r\n              label=\"Khóa công khai\"\r\n              value={state?.publicKey}\r\n              onChange={(e) => setState({ ...state, publicKey: e.target.value })}\r\n              disabled={disable}\r\n            ></TextField>\r\n            {/* <TextField\r\n              InputLabelProps={{ shrink: true }}\r\n              fullWidth\r\n              label=\"Mô tả khác\"\r\n              multiline\r\n              rows={4}\r\n              value={state?.description}\r\n              onChange={(e) => setState({ ...state, description: e.target.value })}\r\n              disabled={disable}\r\n            ></TextField> */}\r\n            {/* TODO: allow teacher update description */}\r\n            {/* <Box textAlign=\"right\">\r\n              <Button color=\"primary\" variant=\"contained\" onClick={hdSubmit}>\r\n                Cập nhật mô tả\r\n              </Button>\r\n            </Box> */}\r\n          </Box>\r\n        </Paper>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import { Grid } from \"@material-ui/core\";\r\nimport Page from \"src/shared/Page\";\r\nimport AvatarBar from \"./AvatarBar\";\r\nimport ProfileForm from \"./ProfileForm\";\r\n\r\nexport default function TeacherProfile() {\r\n  return (\r\n    <Page title=\"Thông tin cá nhân\">\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} md={8}>\r\n          <ProfileForm></ProfileForm>\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n          <AvatarBar></AvatarBar>\r\n        </Grid>\r\n      </Grid>\r\n    </Page>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  Button,\r\n  CircularProgress,\r\n  Divider,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport Page from \"../../../shared/Page\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport { getToken } from \"../../../utils/mng-token\";\r\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      marginBottom: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function SubmitSubjectPoint(props) {\r\n  const cls = useStyles();\r\n  const [classId, setClassId] = useState(\"\");\r\n  const [claxx, setClaxx] = useState(null);\r\n  const [submitState, setSubmitState] = useState(false);\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  async function hdFetchClass(e) {\r\n    try {\r\n      const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/teacher/classes/${classId}`, {\r\n        headers: { Authorization: getToken() },\r\n      });\r\n      const result = await response.json();\r\n      if (!response.ok) {\r\n        alert(JSON.stringify(await response.json()));\r\n      } else {\r\n        setClaxx(result);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n      alert(err);\r\n    }\r\n  }\r\n\r\n  function hdChangeHalfSemester(index, e) {\r\n    const newClaxx = { ...claxx };\r\n    newClaxx.students[index].halfSemesterPoint = e.target.value;\r\n    setClaxx(newClaxx);\r\n  }\r\n  function hdChangeFinalSemester(index, e) {\r\n    const newClaxx = { ...claxx };\r\n    newClaxx.students[index].finalSemesterPoint = e.target.value;\r\n    setClaxx(newClaxx);\r\n  }\r\n\r\n  async function hdSubmit(e) {\r\n    // TODO: validate whether missing input point too\r\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\r\n    setSubmitState(true);\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/teacher/submit-point`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: getToken() },\r\n      body: JSON.stringify({ claxx, privateKeyHex }),\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      // TODO: remove setTimeout\r\n      setTimeout(() => {\r\n        setSubmitState(\"fail\");\r\n        enqueueSnackbar(\"Something went wrong: \" + JSON.stringify(result), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n      }, 2000);\r\n    } else {\r\n      // TODO: remove setTimeout\r\n      setTimeout(() => {\r\n        setSubmitState(\"success\");\r\n        // dp(uploadFileSuccess(result));\r\n        enqueueSnackbar(\"Gửi dữ liệu thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } });\r\n      }, 2000);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Page title=\"Nhập điểm lớp học\">\r\n      <Box className={cls.root}>\r\n        <Paper>\r\n          <Box px={2} py={2} display=\"flex\" alignItems=\"flex-end\">\r\n            <TextField label=\"Mã lớp\" InputLabelProps={{ shrink: true }} autoFocus value={classId} onChange={(e) => setClassId(e.target.value)}></TextField>\r\n            <Box px={2}>\r\n              <Button variant=\"contained\" color=\"primary\" onClick={hdFetchClass}>\r\n                Go\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        </Paper>\r\n        {claxx && (\r\n          <Paper>\r\n            <Box p={2}>\r\n              <Box display=\"flex\" justifyContent=\"space-between\">\r\n                <Typography variant=\"h5\" gutterBottom>{`Nhập điểm môn ${claxx.subject.name} - Mã lớp ${claxx.classId} - Kì ${claxx.semester}`}</Typography>\r\n                <Box>\r\n                  {submitState === true && <CircularProgress size=\"1rem\" color=\"primary\"></CircularProgress>}\r\n                  {submitState === \"success\" && <CheckIcon color=\"primary\" fontSize=\"small\"></CheckIcon>}\r\n                  {submitState === \"fail\" && <CloseIcon color=\"secondary\" fontSize=\"small\"></CloseIcon>}\r\n                </Box>\r\n              </Box>\r\n              <Divider></Divider>\r\n              <TableContainer>\r\n                <Table size=\"small\">\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>#</TableCell>\r\n                      <TableCell>Mssv</TableCell>\r\n                      <TableCell>Họ và tên</TableCell>\r\n                      <TableCell>Ngày sinh</TableCell>\r\n                      <TableCell>Lớp</TableCell>\r\n                      <TableCell style={{ width: \"100px\" }}>Điểm GK</TableCell>\r\n                      <TableCell style={{ width: \"100px\" }}>Điểm CK</TableCell>\r\n                      {/* TODO: should we caculate it? or teacher must input it? */}\r\n                      {/* <TableCell>Điểm bằng chữ</TableCell>\r\n                <TableCell>Điểm hệ 4</TableCell> */}\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {claxx.students.map((student, index) => {\r\n                      const halfPoint = claxx.students[index].halfSemesterPoint;\r\n                      // const halfError = !Boolean(halfPoint <= 10 && halfPoint >= 0);\r\n                      const halfError = Boolean(halfPoint > 10 || halfPoint < 0);\r\n                      const finalPoint = claxx.students[index].finalSemesterPoint;\r\n                      // const finalError = !Boolean(finalPoint <= 10 && finalPoint >= 0);\r\n                      const finalError = Boolean(finalPoint > 10 || finalPoint < 0);\r\n                      return (\r\n                        <TableRow key={index}>\r\n                          <TableCell>{index + 1}</TableCell>\r\n                          <TableCell>{student.studentId}</TableCell>\r\n                          <TableCell>{student.name}</TableCell>\r\n                          <TableCell>{student.birthday}</TableCell>\r\n                          <TableCell>{student.class}</TableCell>\r\n                          <TableCell>\r\n                            <TextField\r\n                              value={halfPoint}\r\n                              onChange={(e) => hdChangeHalfSemester(index, e)}\r\n                              error={halfError}\r\n                              helperText={halfError && \"Từ 0 - 10\"}\r\n                            ></TextField>\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <TextField\r\n                              value={finalPoint}\r\n                              onChange={(e) => hdChangeFinalSemester(index, e)}\r\n                              error={finalError}\r\n                              helperText={finalError && \"Từ 0 - 10\"}\r\n                            ></TextField>\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      );\r\n                    })}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              <Box mt={2} textAlign=\"right\">\r\n                <Button variant=\"contained\" color=\"primary\" onClick={hdSubmit}>\r\n                  Submit\r\n                </Button>\r\n              </Box>\r\n            </Box>\r\n          </Paper>\r\n        )}\r\n      </Box>\r\n    </Page>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport StaffDashboardLayout from \"src/layouts/StaffDashboardLayout\";\nimport TeacherDashboardLayout from \"src/layouts/TeacherDashboardLayout\";\nimport MainLayout from \"src/layouts/MainLayout\";\nimport NotFoundView from \"src/shared/NotFoundView\";\n\nimport SignInView from \"src/views/guest/SignIn\";\nimport SignUpView from \"src/views/guest/SignUp\";\n\nimport MakeRequest from \"./views/staff/MakeRequest\";\nimport Voting from \"./views/staff/Voting\";\nimport CreateBureauAccount from \"./views/staff/CreateBureauAccount\";\nimport CreateTeacherAccount from \"./views/staff/CreateTeacherAccount\";\nimport CreateStudentAccount from \"./views/staff/CreateStudentAccount\";\nimport UploadSubject from \"./views/staff/UploadSubject\";\nimport UploadClass from \"./views/staff/UploadClass\";\n\nimport UploadCertificate from \"./views/staff/UploadCertificate\";\nimport TeacherProfile from \"./views/teacher/Profile\";\nimport { getRole, ROLE } from \"./utils/mng-role\";\nimport SubmitSubjectPoint from \"./views/teacher/SubmitSubjectPoint\";\n\nconst routes = [\n  {\n    path: \"/cb-pdt\",\n    element: <StaffDashboardLayout />,\n    children: [\n      { path: \"dang-ki-tham-gia\", element: <MakeRequest /> },\n      { path: \"bo-phieu\", element: <Voting /> },\n      { path: \"tao-tk-giao-vu\", element: <CreateBureauAccount /> },\n      { path: \"tao-tk-giang-vien\", element: <CreateTeacherAccount /> },\n      { path: \"tao-tk-sinh-vien\", element: <CreateStudentAccount /> },\n      { path: \"upload-mon-hoc\", element: <UploadSubject /> },\n      { path: \"upload-lop-hoc\", element: <UploadClass /> },\n      { path: \"upload-bang-cap\", element: <UploadCertificate /> },\n      // { path: \"thu-hoi-bang-cap\", element: <ShareCertificate /> },\n      { path: \"*\", element: <Navigate to=\"/404\" replace={true} /> },\n    ],\n  },\n  {\n    path: \"/giang-vien\",\n    element: <TeacherDashboardLayout />,\n    children: [\n      { path: \"thong-tin-ca-nhan\", element: <TeacherProfile /> },\n      { path: \"nhap-diem-lop-hoc\", element: <SubmitSubjectPoint /> },\n      { path: \"*\", element: <Navigate to=\"/404\" replace={true} /> },\n    ],\n  },\n  {\n    path: \"/\",\n    element: <MainLayout />,\n    children: [\n      { path: \"dang-ki\", element: <SignUpView /> },\n      { path: \"dang-nhap\", element: <SignInView /> },\n      { path: \"404\", element: <NotFoundView /> },\n      { path: \"/\", element: <Redirector /> },\n      { path: \"*\", element: <Navigate to=\"/404\" replace={true} /> },\n    ],\n  },\n];\n\nfunction Redirector(props) {\n  const role = getRole();\n  let to = \"\";\n  if (!role) {\n    to = \"/dang-nhap\";\n  } else if (role === ROLE.STAFF) {\n    to = \"/cb-pdt/dang-ki-tham-gia\";\n  } else if (role === ROLE.TEACHER) {\n    to = \"/giang-vien/thong-tin-ca-nhan\";\n  } else if (role === ROLE.BUREAU) {\n    // TODO: complete path if you like\n    to = \"/giao-vu\";\n  }\n  return <Navigate to={to} />;\n}\n\nexport default routes;\n","import \"react-perfect-scrollbar/dist/css/styles.css\";\nimport { useRoutes } from \"react-router-dom\";\nimport { ThemeProvider } from \"@material-ui/core\";\nimport GlobalStyles from \"src/shared/GlobalStyles\";\nimport theme from \"src/theme\";\nimport routes from \"src/routes\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport { SnackbarProvider } from \"notistack\";\n\nconst App = () => {\n  const routing = useRoutes(routes);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <GlobalStyles />\n      <Provider store={store}>\n        <SnackbarProvider maxSnack={1}>{routing}</SnackbarProvider>\n      </Provider>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}