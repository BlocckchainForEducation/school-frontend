{"version":3,"sources":["utils/mng-token.js","shared/GlobalStyles.js","theme/index.js","theme/shadows.js","theme/typography.js","shared/Loading/index.js","views/staff/Register/redux.js","assets/icons/ClassroomIcon/classroom.svg","layouts/StaffDashboardLayout/NavBar/NavItem.js","layouts/StaffDashboardLayout/NavBar/index.js","assets/icons/ClassroomIcon/index.js","shared/Logo.js","views/staff/Voting/redux.js","views/staff/CreateTeacherAccount/redux.js","views/teacher/Profile/redux.js","views/staff/CreateStudentAccount/redux.js","views/staff/UploadClass/redux.js","views/staff/UploadCertificate/redux.js","views/staff/RevokeCertificate/redux.js","store.js","utils/mng-role.js","utils/snackbar-utils.js","utils/keyholder.js","layouts/StaffDashboardLayout/TopBar.js","layouts/StaffDashboardLayout/index.js","layouts/TeacherDashboardLayout/NavBar/NavItem.js","layouts/TeacherDashboardLayout/NavBar/index.js","layouts/TeacherDashboardLayout/AskOTP.jsx","layouts/TeacherDashboardLayout/TwoFactorStepper.jsx","layouts/TeacherDashboardLayout/TwoFactorAuthenDialog.jsx","layouts/TeacherDashboardLayout/TopBar.js","layouts/TeacherDashboardLayout/index.js","layouts/MainLayout/TopBar.js","layouts/MainLayout/index.js","shared/Page.js","shared/NotFoundView.js","views/guest/SignIn/index.js","views/guest/SignUp/index.js","views/staff/Register/AvatarBar.jsx","views/staff/Register/ProfileForm.jsx","views/staff/Register/VotingState.jsx","views/staff/Register/index.js","shared/BallotBody/index.js","views/staff/Voting/BallotHeader.jsx","views/staff/Voting/Ballot.jsx","views/staff/Voting/Ballots.jsx","views/staff/Voting/index.js","shared/DragnDropZone/index.js","shared/Table/SimpleTable.js","shared/DownloadExampleData/index.js","views/staff/CreateTeacherAccount/TeacherDataExample.jsx","utils/utils.js","views/staff/CreateTeacherAccount/TeacherUploadHistory.jsx","views/staff/CreateTeacherAccount/index.js","views/staff/CreateStudentAccount/StudentDataExample.jsx","views/staff/CreateStudentAccount/StudentUploadHistory.jsx","views/staff/CreateStudentAccount/index.js","views/staff/UploadClass/ClassDataExample.jsx","views/staff/UploadClass/UploadedClassTable.jsx","views/staff/UploadClass/index.js","views/staff/UploadCertificate/CertificateDataExample.jsx","views/staff/UploadCertificate/UploadedCertificateTable.jsx","views/staff/UploadCertificate/index.js","views/teacher/Profile/AvatarBar.jsx","views/teacher/Profile/ProfileForm.jsx","views/teacher/Profile/index.js","views/staff/RevokeCertificate/SearchBox.jsx","views/staff/RevokeCertificate/CertificateInfoTable/Body.jsx","views/staff/RevokeCertificate/CertificateInfoTable/Title.jsx","views/staff/RevokeCertificate/CertificateInfoTable/index.js","views/staff/RevokeCertificate/SearchResult.jsx","views/staff/RevokeCertificate/index.js","utils/mng-2fa.js","views/teacher/SubmitGrade/index.js","views/teacher/EditGrade/InputClassId.jsx","views/teacher/EditGrade/EditGradeForm.jsx","views/teacher/EditGrade/EditGradeHistory.jsx","views/teacher/EditGrade/RowWithCollapseContent.jsx.jsx","views/teacher/EditGrade/index.js","routes.js","App.js","index.js"],"names":["remember","setRemember","_remember","getRemember","setToken","token","localStorage","setItem","sessionStorage","setSessionToken","axios","defaults","headers","common","setLocalToken","getToken","getItem","clearToken","removeItem","useStyles","makeStyles","createStyles","boxSizing","margin","padding","html","height","width","body","backgroundColor","a","textDecoration","GlobalStyles","theme","createMuiTheme","palette","background","dark","default","colors","white","paper","text","primary","blueGrey","secondary","shadows","typography","h1","fontWeight","fontSize","letterSpacing","h2","h3","h4","h5","h6","overline","root","display","gridTemplateColumns","gridTemplateRows","rowGap","main","columnGap","sidebar","Loading","props","cls","className","topbar","Skeleton","variant","info","navlink","content","profileSlice","createSlice","name","initialState","fetching","universityName","nameInEnglish","address","email","phone","publicKey","description","imgSrc","votes","reducers","setProfile","state","action","Object","assign","payload","updateImgSrc","updateVotingState","length","actions","_extends","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","_ref3","_ref4","cx","cy","r","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","_ref26","_ref27","_ref28","_ref29","SvgClassroom","_ref","svgRef","title","titleId","id","xmlns","xmlnsXlink","x","y","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","item","paddingTop","paddingBottom","button","color","fontWeightMedium","justifyContent","textTransform","icon","marginRight","spacing","active","NavItem","href","Icon","rest","classes","ListItem","clsx","disableGutters","Button","activeClassName","component","RouterLink","to","size","items","AccountBalanceIcon","HowToVoteIcon","PersonAddIcon","GroupAddIcon","SvgIcon","AspectRatioIcon","CancelPresentationIcon","mobileDrawer","desktopDrawer","top","avatar","cursor","NavBar","onMobileClose","openMobile","location","useLocation","user","useSelector","useEffect","pathname","Box","flexDirection","alignItems","p","Avatar","src","Typography","Divider","List","map","flexGrow","Hidden","lgUp","Drawer","anchor","onClose","open","mdDown","defaultProps","Logo","alt","votingSlice","ballots","numOfNewBallot","privateKey","setBallots","collapseBallot","index","findIndex","ballot","in","removeVotedRequest","teacherSlice","require","history","uploading","setPreloadHistory","startUploadFile","uploadFileSuccess","push","uploadFileFail","teacherProfileSlice","teacherId","department","studentSlice","classSlice","shouldShowCaution","setPreloadClasses","claxx","teacherName","teacher","subjectId","subject","subjectName","concat","setShouldShowCaution","certificateSlice","docs","setPreloadCertDocuments","revokeCertificateSlice","document","setDocument","appReducer","combineReducers","profileReducer","votingReducer","teacherReducer","studentReducer","classReducer","certificateReducer","teacherProfileReducer","revokeCertificateReducer","configureStore","reducer","type","undefined","ROLE","setLocalRole","role","setSessionRole","clearRole","getRouteByRole","ERR_TOP_CENTER","anchorOrigin","vertical","horizontal","INFO_TOP_CENTER","SUCCESS_TOP_CENTER","SUCCESS_BOTTOM_CENTER","SUCCESS_BOTTOM_RIGHT","privateKeyHex","setPrivateKeyHex","privateKeyHexParam","requirePrivateKeyHex","enqueueSnackbar","Promise","resolve","reject","tabId","Math","floor","random","window","addEventListener","event","data","accept","account","postMessage","TopBar","onMobileNavOpen","useState","notifications","navigate","useNavigate","dp","useDispatch","AppBar","elevation","Toolbar","IconButton","Badge","badgeContent","onClick","e","overflow","wrapper","flex","breakpoints","up","paddingLeft","contentContainer","StaffDashboardLayout","isMobileNavOpen","setMobileNavOpen","loading","useSnackbar","closeSnackbar","get","response","fetchProfile","UserIcon","GavelIcon","EditIcon","AskOTP","hdCancel","hdError","hdSuccess","hdFail","OTP","setOTP","Array","createRef","refs","otpString","join","post","ok","Dialog","maxWidth","fullWidth","DialogTitle","DialogContent","align","mb","Grid","container","justify","TextField","inputProps","value","onKeyUp","clonedOTP","keyCode","current","focus","hdKeyUp","inputRef","autoFocus","mt","textAlign","TwoFactorStepper","secret","qrDataURL","setOpenDialog","React","activeStep","setActiveStep","newJWToken","JSON","stringify","pb","Stepper","Step","StepLabel","wrap","xs","sm","zeroMinWidth","overflowWrap","base32","disabled","TwoFactorAuthenDialog","jwtToken","split","decodedToken","jwtDecode","twoFAVerified","isEnable","setEnable","openStepper","setOpenStepper","twoFASecret","setTwoFASecret","setQRDataURL","openAskOTP","setOpenAskOTP","checked","QRCode","toDataURL","otpauth_url","dataURL","alert","FormControlLabel","control","Switch","Boolean","onChange","label","labelPlacement","error","menuAnchorEl","setMenuAnchorEl","openDialog","currentTarget","anchorEl","keepMounted","TransitionComponent","Fade","MenuItem","TeacherDashboardLayout","toolbar","MainLayout","Page","forwardRef","children","Helmet","image","marginTop","NotFoundView","Container","Copyright","Link","Date","getFullYear","form","submit","link","SignIn","password","setState","errors","setErrors","preventDefault","CssBaseline","noValidate","required","autoComplete","helperText","Checkbox","componet","position","lineHeight","AvatarBar","schoolName","avatarSrc","shouldShowEditor","setShowEditor","cropedImgBase64","setCropedImgBase64","hdChangeCropedAvatar","base64ToFile","dataurl","filename","arr","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","file","formData","FormData","append","console","imageHeight","onCrop","cropedImg","Paper","px","pt","gutterBottom","PrivateKey","head","box","marginBottom","ProfileForm","profile","disable","log","fromHex","toHex","md","InputLabelProps","shrink","InputProps","endAdornment","InputAdornment","multiline","rows","votingState","success","VotingState","clockId","setInterval","clearInterval","TableContainer","Table","TableBody","vote","TableRow","TableCell","isMinistry","decision","time","MakeRequest","BallotBody","BallotHeader","hdVote","publicKeyOfRequest","bgcolor","py","mx","pr","flexShrink","Ballot","Collapse","collapsedHeight","Ballots","fetchNewBallots","useCallback","flexContainer","Voting","registrationState","baseStyle","borderWidth","borderRadius","borderColor","borderStyle","transition","activeStyle","acceptStyle","rejectStyle","DragnDropZone","onDropAccepted","useDropzone","onDropRejected","fileRejections","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","useMemo","rotate","animation","arrowDown","SimpleTable","minWidth","TableHead","columnTitle","row","rowIndex","cell","DownloadExampleData","fileName","show","setShow","toggleCollapse","pl","stopPropagation","FileSaver","saveAs","TeacherDataExample","getLinkFromTxid","txid","process","slice","toDateTimeString","timestamp","toISOString","heading","pxToRem","fontWeightRegular","TeacherUploadHistory","fetch","Authorization","status","json","result","wb","XLSX","utils","book_new","ws","json_to_sheet","profiles","book_append_sheet","writeFile","originalFileName","fetchHistory","firstTimePassword","Accordion","AccordionSummary","expandIcon","_id","AccordionDetails","AccordionActions","startIcon","hdDownloadClick","CreateTeacherAccount","files","StudentDataExample","StudentUploadHistory","studentId","birthday","CreateStudentAccount","method","ClassDataExample","columns","field","headerName","UploadedClassTable","classesWithLink","clx","fetchUploadedClass","pageSize","rowsPerPageOptions","pagination","rowHeight","Uploadclass","Alert","severity","CertificateDataExample","UploadedCertificateTable","newestVersionCertificates","doc","versions","cert","fetchUploadedCertDocuments","UploadCertificate","res","htmlFor","TeacherProfileForm","TeacherProfile","SearchBox","setStudentId","hdSubmitStudentId","onKeyDown","Body","certPart1","gender","Trường","university","faculty","degree","gradyear","certPart2","level","eduform","issuelocation","issuedate","headmaster","globalregisno","Txid","separateCertificate","entries","entry","typo","Title","confirmDialog","setConfirmDialog","revoke","dialog","DialogContentText","DialogActions","hdReactive","hdRevoke","CertificateInfoTable","SearchResult","lastestVersion","Timeline","TimelineItem","TimelineSeparator","TimelineDot","TimelineConnector","TimelineContent","reverse","version","RevokeCertificate","isEnable2FA","accordionHeader","SubmitGrade","setFetching","setClasses","askOTPDialog","setAskOTPDialog","groupedClassesBySemester","reduce","accumulator","semester","classId","find","students","some","student","halfPoint","halfSemesterPoint","halfError","Number","finalPoint","finalSemesterPoint","finalError","sendGrade","cloneClasses","clxx","fetchMyClasses","isSubmited","studentIndex","hdChangeHalfSemester","hdChangeFinalSemester","hdSaveDraff","hdSubmitGrade","InputClassId","setClassId","hdGetClass","EditGradeForm","hdSubmit","setHalfSemesterPoint","setFinalSemesterPoint","EditGradeHistory","vIndex","useRowStyles","borderBottom","timeline","RowWithCollapseContent","setClaxx","setOpen","sendEditedGrade","clonedClass","std","colSpan","timeout","unmountOnExit","border","EditGrade","Redirector","routes","path","element","replace","App","routing","useRoutes","ThemeProvider","store","maxSnack","baseURL","ReactDOM","render","getElementById"],"mappings":"mHAAA,+UAEIA,GAAW,EAEf,SAASC,EAAYC,GACnBF,EAAWE,EAGb,SAASC,IACP,OAAOH,EAGT,SAASI,EAASC,GACZL,EAAUM,aAAaC,QAAQ,QAAS,UAAYF,GACnDG,eAAeD,QAAQ,QAAS,UAAYF,GAGnD,SAASI,EAAgBJ,GACvBK,IAAMC,SAASC,QAAQC,OAAvB,cAAiD,UAAYR,EAC7DG,eAAeD,QAAQ,QAAS,UAAYF,GAG9C,SAASS,EAAcT,GACrBK,IAAMC,SAASC,QAAQC,OAAvB,cAAiD,UAAYR,EAC7DC,aAAaC,QAAQ,QAAS,UAAYF,GAG5C,SAASU,IACP,OAAIf,EAAiBM,aAAaU,QAAQ,SAC9BR,eAAeQ,QAAQ,SAGrC,SAASC,IACHjB,GACFU,IAAMC,SAASC,QAAQC,OAAvB,cAAiD,KACjDP,aAAaY,WAAW,UAExBV,eAAeU,WAAW,W,mbCnCxBC,EAAYC,aAAW,kBAAMC,YAAa,CAC9C,UAAW,CACT,IAAK,CACHC,UAAW,aACXC,OAAQ,EACRC,QAAS,GAEXC,KAAM,CACJ,yBAA0B,cAC1B,0BAA2B,YAC3BC,OAAQ,OACRC,MAAO,QAETC,KAAM,CACJC,gBAAiB,UACjBH,OAAQ,OACRC,MAAO,QAETG,EAAG,CACDC,eAAgB,QAElB,QAAS,CACPL,OAAQ,OACRC,MAAO,cAWEK,EANM,WAGnB,OAFAb,IAEO,M,iBCHMc,EAxBDC,YAAe,CAC3BC,QAAS,CACPC,WAAY,CACVC,KAAM,UACNC,QAASC,IAAO1B,OAAO2B,MACvBC,MAAOF,IAAO1B,OAAO2B,OAUvBE,KAAM,CACJC,QAASJ,IAAOK,SAAS,KACzBC,UAAWN,IAAOK,SAAS,OAG/BE,QC1Ba,CACb,OACA,iEACA,8DACA,8DACA,8DACA,8DACA,8DACA,8DACA,8DACA,+DACA,+DACA,+DACA,+DACA,+DACA,+DACA,gEACA,gEACA,gEACA,gEACA,gEACA,gEACA,gEACA,gEACA,gEACA,iEDEAC,WE3Ba,CACbC,GAAI,CACFC,WAAY,IACZC,SAAU,GACVC,cAAe,WAEjBC,GAAI,CACFH,WAAY,IACZC,SAAU,GACVC,cAAe,WAEjBE,GAAI,CACFJ,WAAY,IACZC,SAAU,GACVC,cAAe,WAEjBG,GAAI,CACFL,WAAY,IACZC,SAAU,GACVC,cAAe,WAEjBI,GAAI,CACFN,WAAY,IACZC,SAAU,GACVC,cAAe,WAEjBK,GAAI,CACFP,WAAY,IACZC,SAAU,GACVC,cAAe,WAEjBM,SAAU,CACRR,WAAY,Q,2GC7BV9B,EAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJhC,OAAQ,QAERiC,QAAS,OACTC,oBAAqB,MACrBC,iBAAkB,YAClBC,OAAQ,MACR,MAAO,CACLpC,OAAQ,SAGZqC,KAAM,CACJJ,QAAS,OACTC,oBAAqB,aACrBI,UAAW,OAEbC,QAAS,CACPN,QAAS,OACTC,oBAAqB,MACrBC,iBAAkB,aAClBC,OAAQ,WAGG,SAASI,EAAQC,GAC9B,IAAMC,EAAMjD,IAEZ,OACE,sBAAKkD,UAAWD,EAAIV,KAApB,UACE,qBAAKW,UAAWD,EAAIE,OAApB,SACE,cAACC,EAAA,EAAD,CAAUC,QAAQ,WAEpB,sBAAKH,UAAWD,EAAIL,KAApB,UACE,sBAAKM,UAAWD,EAAIH,QAApB,UACE,qBAAKI,UAAWD,EAAIK,KAApB,SACE,cAACF,EAAA,EAAD,CAAUC,QAAQ,WAEpB,qBAAKH,UAAWD,EAAIM,QAApB,SACE,cAACH,EAAA,EAAD,CAAUC,QAAQ,cAGtB,qBAAKH,UAAWD,EAAIO,QAApB,SACE,cAACJ,EAAA,EAAD,CAAUC,QAAQ,iB,YC3CfI,EAAeC,sBAAY,CACtCC,KAAM,eACNC,aAAc,CACZC,UAAU,EACVC,eAAgB,GAChBC,cAAe,GACfC,QAAS,GACTC,MAAO,GACPC,MAAO,GACPC,UAAW,GACXC,YAAa,GACbC,OAAQ,KACRC,MAAO,IAETC,SAAU,CACRC,WAAY,SAACC,EAAOC,GAClBD,EAAMZ,UAAW,EACjBc,OAAOC,OAAOH,EAAOC,EAAOG,UAE9BC,aAAc,SAACL,EAAOC,GACpBD,EAAMJ,OAASK,EAAOG,SAExBE,kBAAmB,SAACN,EAAOC,GACrBD,EAAMA,QAAUC,EAAOG,QAAQJ,QAAOA,EAAMA,MAAQC,EAAOG,QAAQJ,OACnEA,EAAMH,MAAMU,OAASN,EAAOG,QAAQP,MAAMU,SAAQP,EAAMH,MAAQI,EAAOG,QAAQP,W,EAK1Bb,EAAawB,QAA7DT,E,EAAAA,WAAYM,E,EAAAA,aAAcC,E,EAAAA,kBAC1BtB,IAAf,Q,mMChCA,SAASyB,KAA2Q,OAA9PA,GAAWP,OAAOC,QAAU,SAAUO,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUL,OAAQI,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcX,OAAOa,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAASQ,GAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAapB,OAAOqB,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWf,OAAQI,IAAOG,EAAMQ,EAAWX,GAAQU,EAASG,QAAQV,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxMe,CAA8BZ,EAAQQ,GAAuB,GAAInB,OAAOwB,sBAAuB,CAAE,IAAIC,EAAmBzB,OAAOwB,sBAAsBb,GAAS,IAAKF,EAAI,EAAGA,EAAIgB,EAAiBpB,OAAQI,IAAOG,EAAMa,EAAiBhB,GAAQU,EAASG,QAAQV,IAAQ,GAAkBZ,OAAOa,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,IAAI,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC3ImB,EAAG,yTAGDC,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC3ID,EAAG,6MAGDE,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,SAAU,CAC7IC,GAAI,QACJC,GAAI,OACJC,EAAG,WAGDC,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC3IN,EAAG,4tCAGDO,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,SAAU,CAC7IJ,GAAI,QACJC,GAAI,QACJC,EAAG,WAGDG,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC3IR,EAAG,wUAGDS,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC3IT,EAAG,+RAGDU,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC3IV,EAAG,yLAGDW,GAAsB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC5IX,EAAG,0WAGDY,GAAsB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC5IZ,EAAG,sLAGDa,GAAsB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC5Ib,EAAG,qvBAGDc,GAAsB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,SAAU,CAC9IX,GAAI,QACJC,GAAI,QACJC,EAAG,WAGDU,GAAsB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,SAAU,CAC9IZ,GAAI,OACJC,GAAI,QACJC,EAAG,WAGDW,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAEnD,SAASC,GAAaC,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfzF,EAAQ6C,GAAyByC,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAOpD,GAAS,CACtDwD,GAAI,UACJC,MAAO,6BACPC,WAAY,+BACZC,EAAG,MACHC,EAAG,MACHC,QAAS,sBACTC,MAAO,CACLC,iBAAkB,2BAEpBC,SAAU,WACVC,IAAKZ,EACL,kBAAmBE,GAClBzF,GAAQwF,EAAqB,gBAAoB,QAAS,CAC3DE,GAAID,GACHD,GAAS,KAAM,GAAOjC,GAAOC,GAAOI,GAAOC,GAAOC,GAAOC,GAAOC,GAAOC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,IAGpO,IAAIgB,GAA0B,aAAiBf,IAChC,I,+BChHTrI,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCuI,KAAM,CACJ7G,QAAS,OACT8G,WAAY,EACZC,cAAe,GAEjBC,OAAQ,CACNC,MAAO3I,EAAME,QAAQO,KAAKG,UAC1BI,WAAYhB,EAAMc,WAAW8H,iBAC7BC,eAAgB,aAChB3H,cAAe,EACf3B,QAAS,WACTuJ,cAAe,OACfpJ,MAAO,QAETqJ,KAAM,CACJC,YAAahJ,EAAMiJ,QAAQ,IAE7BvB,MAAO,CACLsB,YAAa,QAEfE,OAAQ,CACNP,MAAO3I,EAAME,QAAQQ,QAAQoB,KAC7B,WAAY,CACVd,WAAYhB,EAAMc,WAAW8H,kBAE/B,UAAW,CACTD,MAAO3I,EAAME,QAAQQ,QAAQoB,WA+CpBqH,GA1CC,SAAC,GAMV,IALL/G,EAKI,EALJA,UACAgH,EAII,EAJJA,KACMC,EAGF,EAHJN,KACArB,EAEI,EAFJA,MACG4B,EACC,oDACEC,EAAUrK,KAEhB,OACE,cAACsK,GAAA,EAAD,2BACEpH,UAAWqH,aAAKF,EAAQhB,KAAMnG,GAC9BsH,gBAAc,GACVJ,GAHN,aAKE,eAACK,EAAA,EAAD,CACEC,gBAAiBL,EAAQL,OACzB9G,UAAWmH,EAAQb,OACnBmB,UAAWC,IACXC,GAAIX,EAJN,UAMGC,GACC,cAACA,EAAD,CACEjH,UAAWmH,EAAQR,KACnBiB,KAAK,OAGT,sBAAM5H,UAAWmH,EAAQ7B,MAAzB,SACGA,WCvDLuC,GAAQ,CACZ,CACEb,KAAM,2BACNL,KAAMmB,IACNxC,MAAO,iCAET,CACE0B,KAAM,mBACNL,KAAMoB,KACNzC,MAAO,sBAOT,CACE0B,KAAM,4BACNL,KAAMqB,KACN1C,MAAO,iDAET,CACE0B,KAAM,2BACNL,KAAMsB,KACN3C,MAAO,2CAOT,CACE0B,KAAM,yBACNL,KC7CW,SAAuB7G,GACpC,OACE,cAACoI,GAAA,EAAD,6BAAapI,GAAb,aACE,cAAC,GAAD,QD2CFwF,MAAO,4BAET,CACE0B,KAAM,0BACNL,KAAMwB,IACN7C,MAAO,6BAET,CACE0B,KAAM,2BACNL,KAAMyB,IACN9C,MAAO,kCAILxI,GAAYC,aAAW,iBAAO,CAClCsL,aAAc,CACZ/K,MAAO,KAETgL,cAAe,CACbhL,MAAO,IACPiL,IAAK,GACLlL,OAAQ,qBAEVmL,OAAQ,CACNC,OAAQ,UACRnL,MAAO,GACPD,OAAQ,QAINqL,GAAS,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,cAAeC,EAAiB,EAAjBA,WACzBzB,EAAUrK,KACV+L,EAAWC,cAEXC,EAAOC,aAAY,SAACzH,GAAD,OAAWA,EAAMhB,gBAE1C0I,qBAAU,WACJL,GAAcD,GAChBA,MAGD,CAACE,EAASK,WAEb,IAAM5I,EACJ,eAAC6I,EAAA,EAAD,CAAK9L,OAAO,OAAOiC,QAAQ,OAAO8J,cAAc,SAAhD,UACE,eAACD,EAAA,EAAD,CAAKE,WAAW,SAAS/J,QAAQ,OAAO8J,cAAc,SAASE,EAAG,EAAlE,UACE,cAACC,EAAA,EAAD,CAAQvJ,UAAWmH,EAAQqB,OAAQf,UAAWC,IAAY8B,IAAKT,EAAK5H,OAAQwG,GAAG,6BAC/E,cAAC8B,EAAA,EAAD,CAAYzJ,UAAWmH,EAAQ1G,KAAM8F,MAAM,cAAcpG,QAAQ,KAAjE,SACG4I,EAAKnI,gBAAkB,iCAE1B,cAAC6I,EAAA,EAAD,CAAYlD,MAAM,gBAAgBpG,QAAQ,QAA1C,SACG,uCAGL,cAACuJ,EAAA,EAAD,IACA,cAACP,EAAA,EAAD,CAAKG,EAAG,EAAR,SACE,cAACK,EAAA,EAAD,UACG9B,GAAM+B,KAAI,SAACzD,GAAD,OACT,cAAC,GAAD,CAASa,KAAMb,EAAKa,KAAuB1B,MAAOa,EAAKb,MAAOqB,KAAMR,EAAKQ,MAA1CR,EAAKb,cAI1C,cAAC6D,EAAA,EAAD,CAAKU,SAAU,OAInB,OACE,qCACE,cAACC,EAAA,EAAD,CAAQC,MAAI,EAAZ,SACE,cAACC,EAAA,EAAD,CAAQC,OAAO,OAAO9C,QAAS,CAAE/I,MAAO+I,EAAQkB,cAAgB6B,QAASvB,EAAewB,KAAMvB,EAAYzI,QAAQ,YAAlH,SACGG,MAGL,cAACwJ,EAAA,EAAD,CAAQM,QAAM,EAAd,SACE,cAACJ,EAAA,EAAD,CAAQC,OAAO,OAAO9C,QAAS,CAAE/I,MAAO+I,EAAQmB,eAAiB6B,MAAI,EAAChK,QAAQ,aAA9E,SACGG,UAYXoI,GAAO2B,aAAe,CACpB1B,cAAe,aACfC,YAAY,GAGCF,U,sGEhIA4B,GAXF,SAACxK,GACZ,OACE,kCACEyK,IAAI,OACJf,IAAI,oBAEA1J,K,SCNJ0K,GAAchK,sBAAY,CAC9BC,KAAM,cACNC,aAAc,CAAEC,UAAU,EAAM8J,QAAS,GAAIC,eAAgB,EAAGC,WAAY,MAC5EtJ,SAAU,CACRuJ,WAAY,SAACrJ,EAAOC,GAClBD,EAAMZ,UAAW,EACjBY,EAAMkJ,QAAUjJ,EAAOG,QACvBJ,EAAMmJ,eAAiBlJ,EAAOG,QAAQG,QAExC+I,eANQ,SAMOtJ,EAAOC,GACpB,IAAMsJ,EAAQvJ,EAAMkJ,QAAQM,WAAU,SAACC,GAAD,OAAYA,EAAO/J,YAAcO,EAAOG,QAAQV,aACtFM,EAAMkJ,QAAQK,GAAOG,IAAK,EAC1B1J,EAAMmJ,gBAAkB,MAKfF,MAAf,Q,GACkEA,GAAYzI,QAA/D6I,G,GAAAA,WAAgCC,I,GAApBK,mB,GAAoBL,gBClBzCM,IAAe3K,EAFG4K,EAAQ,IAAxB5K,aAEyB,CAC/BC,KAAM,eACNC,aAAc,CAAEC,UAAU,EAAM0K,QAAS,GAAIC,WAAW,GACxDjK,SAAU,CACRkK,kBAAmB,SAAChK,EAAOC,GACzBD,EAAMZ,UAAW,EACjBY,EAAM8J,QAAU7J,EAAOG,SAEzB6J,gBAAiB,SAACjK,EAAOC,GACvBD,EAAM+J,WAAY,GAEpBG,kBAAmB,SAAClK,EAAOC,GACzBD,EAAM+J,WAAY,EAClB/J,EAAM8J,QAAQK,KAAKlK,EAAOG,UAE5BgK,eAAgB,SAACpK,EAAOC,GACtBD,EAAM+J,WAAY,MAKTH,MAAf,Q,GACyFA,GAAapJ,QAAvFwJ,G,GAAAA,kBAAmBC,G,GAAAA,gBAAiBC,G,GAAAA,kBAAmBE,G,GAAAA,eCtBzDC,GAAsBpL,sBAAY,CAC7CC,KAAM,sBACNC,aAAc,CAAEC,UAAU,EAAMkL,UAAW,GAAIpL,KAAM,GAAIM,MAAO,GAAI+K,WAAY,GAAI7K,UAAW,GAAIC,YAAa,GAAIC,OAAQ,IAC5HE,SAAU,CACRC,WAAY,SAACC,EAAOC,GAClBC,OAAOC,OAAOH,EAAOC,EAAOG,SAC5BJ,EAAMZ,UAAW,GAEnBiB,aAAc,SAACL,EAAOC,GACpBD,EAAMJ,OAASK,EAAOG,Y,GAKgBiK,GAAoB7J,QAAjDT,G,GAAAA,WAAYM,G,GAAAA,aACZgK,MAAf,QCfMG,IAAevL,EAFG4K,EAAQ,IAAxB5K,aAEyB,CAC/BC,KAAM,eACNC,aAAc,CAAEC,UAAU,EAAM0K,QAAS,GAAIC,WAAW,GACxDjK,SAAU,CACRkK,kBAAmB,SAAChK,EAAOC,GACzBD,EAAMZ,UAAW,EACjBY,EAAM8J,QAAU7J,EAAOG,SAEzB6J,gBAAiB,SAACjK,EAAOC,GACvBD,EAAM+J,WAAY,GAEpBG,kBAAmB,SAAClK,EAAOC,GACzBD,EAAM+J,WAAY,EAClB/J,EAAM8J,QAAQK,KAAKlK,EAAOG,UAE5BgK,eAAgB,SAACpK,EAAOC,GACtBD,EAAM+J,WAAY,MAKTS,MAAf,Q,GACyFA,GAAahK,QAAvFwJ,G,GAAAA,kBAAmBC,G,GAAAA,gBAAiBC,G,GAAAA,kBAAmBE,G,GAAAA,eCtBhEK,IAAaxL,EAFK4K,EAAQ,IAAxB5K,aAEuB,CAC7BC,KAAM,aACNC,aAAc,CAAEC,UAAU,EAAMwG,QAAS,GAAImE,WAAW,EAAOW,mBAAmB,GAClF5K,SAAU,CACR6K,kBAAmB,SAAC3K,EAAOC,GACzBD,EAAMZ,UAAW,EAEba,EAAOG,QAAQG,OAAS,IAC1BP,EAAM4F,QAAU3F,EAAOG,QAAQiI,KAAI,SAACuC,EAAOrB,GAAR,oBAAC,gBAC/BqB,GAD8B,IAEjC3G,GAAIsF,EAAQ,EACZsB,YAAaD,EAAME,QAAQ5L,KAC3B6L,UAAWH,EAAMI,QAAQD,UACzBE,YAAaL,EAAMI,QAAQC,mBAGjChB,gBAAiB,SAACjK,EAAOC,GACvBD,EAAM+J,WAAY,GAEpBG,kBAAmB,SAAClK,EAAOC,GACzBD,EAAM+J,WAAY,EAClB/J,EAAM4F,QAAU3F,EAAOG,QAAQ8K,OAAOlL,EAAM4F,SAASyC,KAAI,SAACuC,EAAOrB,GAAR,oBAAC,gBACrDqB,GADoD,IAEvD3G,GAAIsF,EAAQ,EACZsB,YAAaD,EAAME,QAAQ5L,KAC3B6L,UAAWH,EAAMI,QAAQD,UACzBE,YAAaL,EAAMI,QAAQC,kBAG/Bb,eAAgB,SAACpK,EAAOC,GACtBD,EAAM+J,WAAY,GAEpBoB,qBAAsB,SAACnL,EAAOC,GAC5BD,EAAM0K,kBAAoBzK,EAAOG,YAKxBqK,MAAf,Q,GAC+GA,GAAWjK,QAA3GmK,G,GAAAA,kBAAmBV,G,GAAAA,gBAAiBC,G,GAAAA,kBAAmBE,G,GAAAA,eAAgBe,G,GAAAA,qBCvChFC,IAAmBnM,EAFD4K,EAAQ,IAAxB5K,aAE6B,CACnCC,KAAM,mBACNC,aAAc,CAAEC,UAAU,EAAMiM,KAAM,GAAItB,WAAW,GACrDjK,SAAU,CACRwL,wBAAyB,SAACtL,EAAOC,GAC/BD,EAAMZ,UAAW,EACba,EAAOG,QAAQG,OAAS,IAAGP,EAAMqL,KAAOpL,EAAOG,UAErD6J,gBAAiB,SAACjK,EAAOC,GACvBD,EAAM+J,WAAY,GAEpBG,kBAAmB,SAAClK,EAAOC,GACzBD,EAAM+J,WAAY,EAClB/J,EAAMqL,KAAOpL,EAAOG,QAAQ8K,OAAOlL,EAAMqL,OAE3CjB,eAAgB,SAACpK,EAAOC,GACtBD,EAAM+J,WAAY,MAKTqB,MAAf,Q,GAC+FA,GAAiB5K,QAAjG8K,G,GAAAA,wBAAyBrB,G,GAAAA,gBAAiBC,G,GAAAA,kBAAmBE,G,GAAAA,eCtBtEmB,IAAyBtM,EAFP4K,EAAQ,IAAxB5K,aAEmC,CACzCC,KAAM,yBACNC,aAAc,CAAEqM,SAAU,MAC1B1L,SAAU,CACR2L,YAAa,SAACzL,EAAOC,GACnBD,EAAMwL,SAAWvL,EAAOG,YAKfmL,MAAf,QACeE,GAAgBF,GAAuB/K,QAAvCiL,YCYTC,GAAaC,aAAgB,CACjC3M,aAAc4M,EACd3C,YAAa4C,GAEbjC,aAAckC,GACdtB,aAAcuB,GAEdtB,WAAYuB,GACZZ,iBAAkBa,GAClB5B,oBAAqB6B,GACrBX,uBAAwBY,KAGXC,4BAAe,CAC5BC,QArBkB,SAACrM,EAAOC,GAI1B,MAHoB,gBAAhBA,EAAOqM,OACTtM,OAAQuM,GAEHb,GAAW1L,EAAOC,M,SCpBrBuM,GACG,QADHA,GAEI,SAFJA,GAGK,UAGX,SAASC,GAAaC,GACpBhS,aAAaC,QAAQ,OAAQ+R,GAG/B,SAASC,GAAeD,GACtB9R,eAAeD,QAAQ,OAAQ+R,GAgBjC,SAASE,KAEP,OADiBrS,yBACCG,aAAaY,WAAW,QAAUV,eAAeU,WAAW,QAGhF,SAASuR,GAAeH,GACtB,OAAIA,IAASF,GACJ,2BACEE,IAASF,GACX,gCACEE,IAASF,GACX,kCADF,ECvCF,IAAMM,GAAiB,CAAElO,QAAS,QAASmO,aAAc,CAAEC,SAAU,MAAOC,WAAY,WAElFC,GAAkB,CAAEtO,QAAS,OAAQmO,aAAc,CAAEC,SAAU,MAAOC,WAAY,WAElFE,GAAqB,CAAEvO,QAAS,UAAWmO,aAAc,CAAEC,SAAU,MAAOC,WAAY,WAExFG,GAAwB,CAAExO,QAAS,UAAWmO,aAAc,CAAEC,SAAU,SAAUC,WAAY,WAE9FI,GAAuB,CAAEzO,QAAS,UAAWmO,aAAc,CAAEC,SAAU,SAAUC,WAAY,UCNtGK,GAAgB,KAEb,SAASC,GAAiBC,GAC/BF,GAAgBE,EAOX,SAAeC,GAAtB,mC,8CAAO,WAAoCC,GAApC,SAAAxR,EAAA,0DACDoR,GADC,yCACqBA,IADrB,cAELI,EAAgB,0DAAgCR,IAF3C,kBAGE,IAAIS,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAQC,KAAKC,MAAsB,KAAhBD,KAAKE,UAC9BC,OAAOC,iBAAiB,WAAW,SAAUC,GACnB,kBAApBA,EAAMC,KAAK/B,MAA4B8B,EAAMC,KAAKP,QAAUA,IAC1DM,EAAMC,KAAKC,QACbhB,GAAgBc,EAAMC,KAAKE,QAAQnF,WACnCwE,EAAQN,MAERI,EAAgB,6HAAgEZ,IAChFe,SAINK,OAAOM,YAAY,CAAElC,KAAM,eAAgBwB,cAhBxC,4C,sBCGP,IAAMvS,GAAYC,aAAW,iBAAO,CAClCsC,KAAM,GACNmJ,OAAQ,CACNlL,MAAO,GACPD,OAAQ,QAkDG2S,GA9CA,SAAC,GAA6C,IAA3ChQ,EAA0C,EAA1CA,UAAWiQ,EAA+B,EAA/BA,gBAAoB/I,EAAW,gDACpDC,EAAUrK,KAD0C,EAElCoT,mBAAS,IAA1BC,EAFmD,oBAGpDC,EAAWC,cACXC,EAAKC,cACX,OACE,cAACC,GAAA,EAAD,2BAAQxQ,UAAWqH,aAAKF,EAAQ9H,KAAMW,GAAYyQ,UAAW,GAAOvJ,GAApE,aACE,eAACwJ,GAAA,EAAD,WACE,cAAC,IAAD,CAAY/I,GAAG,IAAf,SACE,cAAC,GAAD,MAEF,cAACwB,EAAA,EAAD,CAAKU,SAAU,IACf,eAACC,EAAA,EAAD,CAAQM,QAAM,EAAd,UACE,cAACuG,GAAA,EAAD,CAAYpK,MAAM,UAAlB,SACE,cAACqK,GAAA,EAAD,CAAOC,aAAcV,EAAcrO,OAAQyE,MAAM,UAAUpG,QAAQ,MAAnE,SACE,cAAC,KAAD,QAGJ,cAACwQ,GAAA,EAAD,CACEpK,MAAM,UACNuK,QAAS,SAACC,GACRnU,wBACAuR,KACAW,GAAiB,MACjBwB,EJlCL,CACLzC,KAAM,gBIkCIuC,EAAS,MAPb,SAUE,cAAC,KAAD,SAGJ,cAACtG,EAAA,EAAD,CAAQC,MAAI,EAAZ,SACE,cAAC4G,GAAA,EAAD,CAAYpK,MAAM,UAAUuK,QAASb,EAArC,SACE,cAAC,KAAD,eC5CNnT,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJhC,OAAQ,OACRC,MAAO,OACPgC,QAAS,OACT0R,SAAU,SACVxT,gBAAiBI,EAAME,QAAQC,WAAWC,MAE5CiT,QAAQ,aACNC,KAAM,WACN5R,QAAS,OACT0R,SAAU,SACV5K,WAAY,IACXxI,EAAMuT,YAAYC,GAAG,MAAQ,CAC5BC,YAAa,MAGjBC,iBAAkB,CAChBJ,KAAM,WACN5R,QAAS,OACT0R,SAAU,UAEZ1Q,QAAS,CACP4Q,KAAM,WAENF,SAAU,YAiECO,GA7Dc,WAC3B,IAAMpK,EAAUrK,KADiB,EAEWoT,oBAAS,GAFpB,mBAE1BsB,EAF0B,KAETC,EAFS,KAG3BC,EAAU1I,aAAY,SAACzH,GAAD,OAAWA,EAAMhB,aAAaI,YACpD2P,EAAKC,cACLH,EAAWC,cALgB,EAMUsB,cAAnC1C,EANyB,EAMzBA,gBAAiB2C,EANQ,EAMRA,cANQ,4CAajC,4BAAAnU,EAAA,+EAE2BpB,IAAMwV,IAAI,gCAFrC,OAEUC,EAFV,OAGIxB,EAAGhP,EAAWwQ,EAASlC,OAH3B,gDAKIX,EAAgB,wGAAuD,CACrEX,aAAc,CAAEC,SAAU,MAAOC,WAAY,UAC7ChN,OAAQ,SAACa,GAAD,OACN,cAACkF,EAAA,EAAD,CACEK,KAAK,QACL9B,MAAO,CAAES,MAAO,SAChBuK,QAAS,SAACC,GACRX,EAAS,cACTwB,EAAcvP,IALlB,yCARR,0DAbiC,sBAoCjC,OA5BA4G,qBAAU,YARuB,mCAS/B8I,KAEC,IA0BD,mCACGL,EACC,cAAC7R,EAAD,IAEA,mCACE,sBAAKG,UAAWmH,EAAQ9H,KAAxB,UACE,cAAC,GAAD,CAAQ4Q,gBAAiB,kBAAMwB,GAAiB,MAChD,cAAC,GAAD,CAAQ9I,cAAe,kBAAM8I,GAAiB,IAAQ7I,WAAY4I,IAClE,qBAAKxR,UAAWmH,EAAQ8J,QAAxB,SACE,qBAAKjR,UAAWmH,EAAQmK,iBAAxB,SACE,qBAAKtR,UAAWmH,EAAQ7G,QAAxB,SACE,cAAC,IAAD,UACE,cAAC,IAAD,oB,UChFdxD,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCuI,KAAM,CACJ7G,QAAS,OACT8G,WAAY,EACZC,cAAe,GAEjBC,OAAQ,CACNC,MAAO3I,EAAME,QAAQO,KAAKG,UAC1BI,WAAYhB,EAAMc,WAAW8H,iBAC7BC,eAAgB,aAChB3H,cAAe,EACf3B,QAAS,WACTuJ,cAAe,OACfpJ,MAAO,QAETqJ,KAAM,CACJC,YAAahJ,EAAMiJ,QAAQ,IAE7BvB,MAAO,CACLsB,YAAa,QAEfE,OAAQ,CACNP,MAAO3I,EAAME,QAAQQ,QAAQoB,KAC7B,WAAY,CACVd,WAAYhB,EAAMc,WAAW8H,kBAE/B,UAAW,CACTD,MAAO3I,EAAME,QAAQQ,QAAQoB,WA+CpBqH,GA1CC,SAAC,GAMV,IALL/G,EAKI,EALJA,UACAgH,EAII,EAJJA,KACMC,EAGF,EAHJN,KACArB,EAEI,EAFJA,MACG4B,EACC,oDACEC,EAAUrK,KAEhB,OACE,cAACsK,GAAA,EAAD,2BACEpH,UAAWqH,aAAKF,EAAQhB,KAAMnG,GAC9BsH,gBAAc,GACVJ,GAHN,aAKE,eAACK,EAAA,EAAD,CACEC,gBAAiBL,EAAQL,OACzB9G,UAAWmH,EAAQb,OACnBmB,UAAWC,IACXC,GAAIX,EAJN,UAMGC,GACC,cAACA,EAAD,CACEjH,UAAWmH,EAAQR,KACnBiB,KAAK,OAGT,sBAAM5H,UAAWmH,EAAQ7B,MAAzB,SACGA,W,0CC5DLuC,GAAQ,CACZ,CACEb,KAAM,gCACNL,KAAMqL,KACN1M,MAAO,8BAET,CACE0B,KAAM,gCACNL,KAAMsL,KACN3M,MAAO,8CAET,CACE0B,KAAM,uBACNL,KAAMuL,KACN5M,MAAO,4BAILxI,GAAYC,aAAW,iBAAO,CAClCsL,aAAc,CACZ/K,MAAO,KAETgL,cAAe,CACbhL,MAAO,IACPiL,IAAK,GACLlL,OAAQ,qBAEVmL,OAAQ,CACNC,OAAQ,UACRnL,MAAO,GACPD,OAAQ,QAINqL,GAAS,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,cAAeC,EAAiB,EAAjBA,WACzBzB,EAAUrK,KACV+L,EAAWC,cAEXC,EAAOC,aAAY,SAACzH,GAAD,OAAWA,EAAMqK,uBAE1C3C,qBAAU,WACJL,GAAcD,GAChBA,MAGD,CAACE,EAASK,WAEb,IAAM5I,EACJ,eAAC6I,EAAA,EAAD,CAAK9L,OAAO,OAAOiC,QAAQ,OAAO8J,cAAc,SAAhD,UACE,eAACD,EAAA,EAAD,CAAKE,WAAW,SAAS/J,QAAQ,OAAO8J,cAAc,SAASE,EAAG,EAAlE,UACE,cAACC,EAAA,EAAD,CAAQvJ,UAAWmH,EAAQqB,OAAQf,UAAWC,IAAY8B,IAAKT,EAAK5H,OAAQwG,GAAG,kCAC/E,cAAC8B,EAAA,EAAD,CAAYzJ,UAAWmH,EAAQ1G,KAAM8F,MAAM,cAAcpG,QAAQ,KAAjE,SACG4I,EAAKtI,OAER,cAACgJ,EAAA,EAAD,CAAYlD,MAAM,gBAAgBpG,QAAQ,QAA1C,mCAIF,cAACuJ,EAAA,EAAD,IACA,cAACP,EAAA,EAAD,CAAKG,EAAG,EAAR,SACE,cAACK,EAAA,EAAD,UACG9B,GAAM+B,KAAI,SAACzD,GAAD,OACT,cAAC,GAAD,CAASa,KAAMb,EAAKa,KAAuB1B,MAAOa,EAAKb,MAAOqB,KAAMR,EAAKQ,MAA1CR,EAAKb,cAI1C,cAAC6D,EAAA,EAAD,CAAKU,SAAU,OAInB,OACE,qCACE,cAACC,EAAA,EAAD,CAAQC,MAAI,EAAZ,SACE,cAACC,EAAA,EAAD,CAAQC,OAAO,OAAO9C,QAAS,CAAE/I,MAAO+I,EAAQkB,cAAgB6B,QAASvB,EAAewB,KAAMvB,EAAYzI,QAAQ,YAAlH,SACGG,MAGL,cAACwJ,EAAA,EAAD,CAAQM,QAAM,EAAd,SACE,cAACJ,EAAA,EAAD,CAAQC,OAAO,OAAO9C,QAAS,CAAE/I,MAAO+I,EAAQmB,eAAiB6B,MAAI,EAAChK,QAAQ,aAA9E,SACGG,UAYXoI,GAAO2B,aAAe,CACpB1B,cAAe,aACfC,YAAY,GAGCF,U,gKCtGA,SAASyJ,GAAT,GAA0E,IAAxDhI,EAAuD,EAAvDA,KAAMiI,EAAiD,EAAjDA,SAAUC,EAAuC,EAAvCA,QAASC,EAA8B,EAA9BA,UAAWC,EAAmB,EAAnBA,OAAmB,KAAXpL,QACrD+I,mBAAS,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,MADkC,mBAC/EsC,EAD+E,KAC1EC,EAD0E,OAE9DvC,mBAAS,aAAIwC,MAAM,GAAG5P,QAAQ8G,KAAI,kBAAM+I,0BAFsB,mBAE/EC,EAF+E,sDAoBtF,4BAAAnV,EAAA,6DACQoV,EAAYL,EAAIM,KAAK,IAD7B,kBAG2BzW,IAAM0W,KAAK,kBAAmB,CAAEP,IAAKK,IAHhE,cAIkBjD,KAAKoD,GAGjBV,IAFAC,IALN,gDAUIF,EAAQ,EAAD,IAVX,0DApBsF,sBAkCtF,OACE,eAACY,GAAA,EAAD,CACE9I,KAAMA,EACN+I,SAAS,KACTC,WAAS,EACTjJ,QAAS,WACPkI,KALJ,UAQE,cAACgB,GAAA,EAAD,gDACA,eAACC,GAAA,EAAD,WACE,cAAC5J,EAAA,EAAD,CAAY6J,MAAM,SAASnT,QAAQ,KAAnC,kCAGA,cAACgJ,EAAA,EAAD,CAAKoK,GAAI,IACT,cAACC,GAAA,EAAD,CAAMC,WAAS,EAAC5M,QAAS,EAAG6M,QAAQ,SAApC,SACG,aAAIhB,MAAM,GAAG5P,QAAQ8G,KAAI,SAACzD,EAAM2E,GAAP,OACxB,cAAC0I,GAAA,EAAD,CAAMrN,MAAI,EAAV,SACE,cAACwN,GAAA,EAAD,CACEC,WAAY,CAAEhM,KAAM,GACpBzH,QAAQ,WACRoG,MAAM,UACNsN,MAAOrB,EAAI1H,GACXgJ,QAAS,SAAC/C,GAAD,OArDvB,SAAiBA,EAAGjG,GAClB,IAAMiJ,EAAS,aAAOvB,GACJ,IAAdzB,EAAEiD,SACJD,EAAUjJ,GAAS,GACfA,EAAQ,GACV8H,EAAK9H,EAAQ,GAAGmJ,QAAQC,UAG1BH,EAAUjJ,GAASiG,EAAE1O,IACjByI,EAAQ,GACV8H,EAAK9H,EAAQ,GAAGmJ,QAAQC,SAG5BzB,EAAOsB,GAwCqBI,CAAQpD,EAAGjG,IAC3BsJ,SAAUxB,EAAK9H,GACfuJ,UAAqB,IAAVvJ,KARCA,QAapB,eAAC3B,EAAA,EAAD,CAAKmL,GAAI,EAAGC,UAAU,QAAtB,UACE,cAAChN,EAAA,EAAD,CAAQuJ,QAASsB,EAAUtM,MAAO,CAAEc,YAAa,QAAjD,mBAGA,cAACW,EAAA,EAAD,CAAQpH,QAAQ,YAAYoG,MAAM,UAAUuK,QApEkC,2CAoE9E,2B,kCCjEK,SAAS0D,GAAT,GAAiE,IAArCC,EAAoC,EAApCA,OAAQC,EAA4B,EAA5BA,UAAWC,EAAiB,EAAjBA,cAAiB,EACzCC,IAAM1E,SAAS,GAD0B,mBACtE2E,EADsE,KAC1DC,EAD0D,OAEvD5E,mBAAS,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,KAFyB,mBAEtEsC,EAFsE,KAEjEC,EAFiE,OAGrDvC,mBAAS,aAAIwC,MAAM,GAAG5P,QAAQ8G,KAAI,kBAAM+I,0BAHa,mBAGtEC,EAHsE,KAKrE3D,GALqE,KAKjD0C,cAApB1C,iBALqE,4CAuB7E,gCAAAxR,EAAA,6DACQoV,EAAYL,EAAIM,KAAK,IAD7B,kBAG2BzW,IAAM0W,KAAK,kBAAmB,CAAEP,IAAKK,IAHhE,QAGUf,EAHV,QAIkBlC,KAAKoD,IAGX+B,EAAajD,EAASlC,KAAK5T,MACjCD,oBAASgZ,GACTJ,GAAc,GACd1F,EAAgB,gFAA0CP,KAL1DO,EAAgB,gEAAwCZ,IAL9D,gDAaIY,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAbzD,0DAvB6E,sBAwC7E,OACE,eAAClF,EAAA,EAAD,CAAK+L,GAAI,EAAT,UACE,eAACC,GAAA,EAAD,CAASN,WAAYA,EAArB,UACE,cAACO,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,oDADQ,oBAGV,cAACD,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,6CAIJ,eAAClM,EAAA,EAAD,WACkB,IAAf0L,GACC,eAACrB,GAAA,EAAD,CAAMC,WAAS,EAAC6B,KAAK,SAArB,UACE,cAAC9B,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIC,GAAI,EAAGC,cAAY,EAAtC,SACE,eAACtM,EAAA,EAAD,CAAKoL,UAAU,SAAf,UACE,cAAC9K,EAAA,EAAD,CAAYtJ,QAAQ,KAAK2F,MAAO,CAAE4P,aAAc,cAAhD,mCAGA,qBAAKlM,IAAKkL,EAAWnK,IAAI,gBAG7B,cAACiJ,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIC,GAAI,EAAGC,cAAY,EAAtC,SACE,eAACtM,EAAA,EAAD,CAAKoL,UAAU,SAAf,UACE,cAAC9K,EAAA,EAAD,CAAYtJ,QAAQ,KAApB,8CACA,cAACgJ,EAAA,EAAD,CAAKoK,GAAI,IACT,cAAC9J,EAAA,EAAD,CAAY3D,MAAO,CAAE4P,aAAc,cAAnC,SAAoDjB,EAAOkB,iBAKnD,IAAfd,GACC,eAAC1L,EAAA,EAAD,WACE,cAACM,EAAA,EAAD,CAAY6J,MAAM,SAASnT,QAAQ,KAAnC,kCAGA,cAACgJ,EAAA,EAAD,CAAKoK,GAAI,IACT,cAACC,GAAA,EAAD,CAAMC,WAAS,EAAC5M,QAAS,EAAG6M,QAAQ,SAApC,SACG,aAAIhB,MAAM,GAAG5P,QAAQ8G,KAAI,SAACzD,EAAM2E,GAAP,OACxB,cAAC0I,GAAA,EAAD,CAAMrN,MAAI,EAAV,SACE,cAACwN,GAAA,EAAD,CACEC,WAAY,CAAEhM,KAAM,GACpBzH,QAAQ,WACRoG,MAAM,UACNsN,MAAOrB,EAAI1H,GAEXgJ,QAAS,SAAC/C,GAAD,OA/E3B,SAAiBA,EAAGjG,GAClB,IAAMiJ,EAAS,aAAOvB,GACJ,IAAdzB,EAAEiD,SACJD,EAAUjJ,GAAS,GACfA,EAAQ,GACV8H,EAAK9H,EAAQ,GAAGmJ,QAAQC,UAG1BH,EAAUjJ,GAASiG,EAAE1O,IACjByI,EAAQ,GACV8H,EAAK9H,EAAQ,GAAGmJ,QAAQC,SAG5BzB,EAAOsB,GAkEyBI,CAAQpD,EAAGjG,IAC3BsJ,SAAUxB,EAAK9H,GACfuJ,UAAqB,IAAVvJ,KATCA,cAkB1B,eAAC3B,EAAA,EAAD,CAAKmL,GAAI,EAAGC,UAAU,QAAtB,UACE,cAAChN,EAAA,EAAD,CAAQqO,SAAyB,IAAff,EAAkB/D,QAAS,kBAAMgE,EAAcD,EAAa,IAAI/O,MAAO,CAAEc,YAAa,IAAxG,kBAGgB,IAAfiO,GACC,cAACtN,EAAA,EAAD,CAAQpH,QAAQ,YAAYoG,MAAM,UAAUuK,QAAS,kBAAMgE,EAAcD,EAAa,IAAtF,kBAIc,IAAfA,GACC,cAACtN,EAAA,EAAD,CAAQpH,QAAQ,YAAYoG,MAAM,UAAUuK,QA3GyB,2CA2GrE,wBCpGK,SAAS+E,GAAT,GAAmD,IAAlBlB,EAAiB,EAAjBA,cAExCmB,EADQpZ,sBACSqZ,MAAM,KAAK,GAC5BC,EAAeC,mBAAUH,GAHgC,EAIjC5F,mBAAS8F,EAAaE,eAJW,mBAIxDC,EAJwD,KAI9CC,EAJ8C,KAMvDnH,EAAoB0C,cAApB1C,gBANuD,EASzBiB,oBAAS,GATgB,mBASxDmG,EATwD,KAS3CC,EAT2C,OAUzBpG,mBAAS,MAVgB,mBAUxDqG,EAVwD,KAU3CC,EAV2C,OAW7BtG,mBAAS,MAXoB,mBAWxDwE,EAXwD,KAW7C+B,EAX6C,OAc3BvG,oBAAS,GAdkB,mBAcxDwG,EAdwD,KAc5CC,EAd4C,iDAgB/D,WAAwB5F,GAAxB,iBAAAtT,EAAA,0DACMsT,EAAE9O,OAAO2U,QADf,0CAI6Bva,IAAM0W,KAAK,oBAAqB,IAJ7D,cAIYjB,EAJZ,yBAM8B+E,KAAOC,UAAUhF,EAASlC,KAAKmH,aAN7D,OAMcC,EANd,OAOQP,EAAaO,GACbR,EAAe1E,EAASlC,MACxB0G,GAAe,GACfF,GAAU,GAVlB,kDAYQa,MAAM,2BAZd,0DAeMhI,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAf3D,gCAkBIsI,GAAc,GAlBlB,kEAhB+D,sBAsC/D,OACE,eAAC1D,GAAA,EAAD,CACE9I,MAAM,EACN+I,SAAS,KACTC,WAAS,EACTjJ,QAAS,WACPyK,GAAc,IALlB,UAQE,cAACvB,GAAA,EAAD,UACE,cAAC3J,EAAA,EAAD,CAAYtJ,QAAQ,KAApB,iDAEF,eAACkT,GAAA,EAAD,WACE,cAAC6D,GAAA,EAAD,CACEC,QAAS,cAACC,GAAA,EAAD,CAAQR,QAASS,QAAQlB,GAAWmB,SApDU,8CAqDvDC,MAAM,qBACNC,eAAe,UAEhBnB,GAAe,cAAC7B,GAAD,CAAkBC,OAAQ8B,EAAa7B,UAAWA,EAAWC,cAAeA,IAC3F+B,GACC,cAACvE,GAAD,CACEhI,KAAMuM,EACNtE,SAAU,WACRuE,GAAc,GACdhC,GAAc,IAEhBpC,OAAQ,WACNtD,EAAgB,oEAA4CZ,KAE9DiE,UAAS,sBAAE,4BAAA7U,EAAA,sEACcpB,IAAM0W,KAAK,mBAAoB,IAD7C,QACHjB,EADG,QAEIlC,KAAKoD,IAChBjX,oBAAS+V,EAASlC,KAAK5T,OACvBiT,EAAgB,yDAA2BP,IAC3CiG,GAAc,IAEd1F,EAAgB,mCAAoCZ,IAP7C,2CAUXgE,QAAS,SAACoF,GACRxI,EAAgB+F,KAAKC,UAAUwC,EAAM3F,SAASlC,MAAOvB,aC1EnE,IAAMvR,GAAYC,aAAW,iBAAO,CAClCsC,KAAM,GACNmJ,OAAQ,CACNlL,MAAO,GACPD,OAAQ,QA+EG2S,GA3EA,SAAC,GAA6C,IAA3ChQ,EAA0C,EAA1CA,UAAWiQ,EAA+B,EAA/BA,gBAAoB/I,EAAW,gDACpDC,EAAUrK,KAD0C,EAElCoT,mBAAS,IAA1BC,EAFmD,sBAIlByE,IAAM1E,SAAS,MAJG,mBAInDwH,EAJmD,KAIrCC,EAJqC,OAKtBzH,oBAAS,GALa,mBAKnD0H,EALmD,KAKvCjD,EALuC,KAOpDvE,EAAWC,cACXC,EAAKC,cAEX,OACE,cAACC,GAAA,EAAD,2BAAQxQ,UAAWqH,aAAKF,EAAQ9H,KAAMW,GAAYyQ,UAAW,GAAOvJ,GAApE,aACE,eAACwJ,GAAA,EAAD,WACE,cAAC,IAAD,CAAY/I,GAAG,IAAf,SACE,cAAC,GAAD,MAEF,cAACwB,EAAA,EAAD,CAAKU,SAAU,IACf,eAACC,EAAA,EAAD,CAAQM,QAAM,EAAd,UACE,cAACuG,GAAA,EAAD,CAAYpK,MAAM,UAAlB,SACE,cAACqK,GAAA,EAAD,CAAOC,aAAcV,EAAcrO,OAAQyE,MAAM,UAAUpG,QAAQ,MAAnE,SACE,cAAC,KAAD,QAIJ,cAACwQ,GAAA,EAAD,CACEpK,MAAM,UACNuK,QAAS,SAACC,GACRnU,wBACAuR,KACAW,GAAiB,MACjBwB,EX3CL,CACLzC,KAAM,gBW2CIuC,EAAS,MAPb,SAUE,cAAC,KAAD,MAGF,cAACO,GAAA,EAAD,CAAYpK,MAAM,UAAUuK,QAAS,SAACnB,GAAD,OAAWgI,EAAgBhI,EAAMkI,gBAAtE,SACE,cAAC,KAAD,MAEF,eAAC,KAAD,CACEC,SAAUJ,EACVK,aAAW,EACX5N,KAAMkN,QAAQK,GACdxN,QAAS,kBAAMyN,EAAgB,OAC/BK,oBAAqBC,KALvB,UAOE,cAACC,GAAA,EAAD,+CAEA,cAACA,GAAA,EAAD,CACEpH,QAAS,WACP6D,GAAc,GACdgD,EAAgB,OAHpB,uEASDC,GAAc,cAAC/B,GAAD,CAAuBlB,cAAeA,OAEvD,cAAC7K,EAAA,EAAD,CAAQC,MAAI,EAAZ,SACE,cAAC4G,GAAA,EAAD,CAAYpK,MAAM,UAAUuK,QAASb,EAArC,SACE,cAAC,KAAD,eC7ENnT,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJhC,OAAQ,OACRC,MAAO,OACPgC,QAAS,OACT0R,SAAU,SACVxT,gBAAiBI,EAAME,QAAQC,WAAWC,MAE5CiT,QAAQ,aACNC,KAAM,WACN5R,QAAS,OACT0R,SAAU,SACV5K,WAAY,IACXxI,EAAMuT,YAAYC,GAAG,MAAQ,CAC5BC,YAAa,MAGjBC,iBAAkB,CAChBJ,KAAM,WACN5R,QAAS,OACT0R,SAAU,UAEZ1Q,QAAS,CACP4Q,KAAM,WAENF,SAAU,YAiDCmH,GA7CgB,WAC7B,IAAMhR,EAAUrK,KADmB,EAESoT,oBAAS,GAFlB,mBAE5BsB,EAF4B,KAEXC,EAFW,KAG7BC,EAAU1I,aAAY,SAACzH,GAAD,OAAWA,EAAMqK,oBAAoBjL,YAC3D2P,EAAKC,cAJwB,4CAWnC,4BAAA9S,EAAA,+EAE2BpB,IAAMwV,IAAI,oBAFrC,OAEUC,EAFV,OAGIxB,EAAGhP,GAAWwQ,EAASlC,OAH3B,gDAKIqH,MAAM,KAAMnF,SAASlC,MALzB,0DAXmC,sBAoBnC,OAdA3G,qBAAU,YANyB,mCAOjC8I,KAEC,IAYD,mCACGL,EACC,cAAC7R,EAAD,IAEA,mCACE,sBAAKG,UAAWmH,EAAQ9H,KAAxB,UACE,cAAC,GAAD,CAAQ4Q,gBAAiB,kBAAMwB,GAAiB,MAChD,cAAC,GAAD,CAAQ9I,cAAe,kBAAM8I,GAAiB,IAAQ7I,WAAY4I,IAClE,qBAAKxR,UAAWmH,EAAQ8J,QAAxB,SACE,qBAAKjR,UAAWmH,EAAQmK,iBAAxB,SACE,qBAAKtR,UAAWmH,EAAQ7G,QAAxB,SACE,cAAC,IAAD,UACE,cAAC,IAAD,oBClEdxD,GAAYC,YAAW,CAC3BsC,KAAM,GACN+Y,QAAS,CACP/a,OAAQ,MAsBG2S,GAlBA,SAAC,GAA4B,IAA1BhQ,EAAyB,EAAzBA,UAAckH,EAAW,8BACnCC,EAAUrK,KAEhB,OACE,cAAC0T,GAAA,EAAD,2BAAQxQ,UAAWqH,aAAKF,EAAQ9H,KAAMW,GAAYyQ,UAAW,GAAOvJ,GAApE,aACE,cAACwJ,GAAA,EAAD,CAAS1Q,UAAWmH,EAAQiR,QAA5B,SACE,cAAC,IAAD,CAAYzQ,GAAG,IAAf,SACE,cAAC,GAAD,YChBJ7K,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJ7B,gBAAiBI,EAAME,QAAQC,WAAWE,QAC1CqB,QAAS,OACTjC,OAAQ,OACR2T,SAAU,SACV1T,MAAO,QAET2T,QAAS,CACP3R,QAAS,OACT4R,KAAM,WACNF,SAAU,SACV5K,WAAY,IAEdkL,iBAAkB,CAChBhS,QAAS,OACT4R,KAAM,WACNF,SAAU,UAEZ1Q,QAAS,CACP4Q,KAAM,WACN7T,OAAQ,OACR2T,SAAU,YAqBCqH,GAjBI,WACjB,IAAMlR,EAAUrK,KAEhB,OACE,sBAAKkD,UAAWmH,EAAQ9H,KAAxB,UACE,cAAC,GAAD,IACA,qBAAKW,UAAWmH,EAAQ8J,QAAxB,SACE,qBAAKjR,UAAWmH,EAAQmK,iBAAxB,SACE,qBAAKtR,UAAWmH,EAAQ7G,QAAxB,SACE,cAAC,IAAD,c,oBCnCNxD,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJhC,OAAQ,OACRF,QAASS,EAAMiJ,QAAQ,UAsBZyR,GAlBFC,sBAAW,WAAoCtS,GAAS,IAA1CuS,EAAyC,EAAzCA,SAAyC,IAA/BlT,aAA+B,MAAvB,GAAuB,EAAhB4B,EAAgB,qCAC5DnH,EAAMjD,KAEZ,OACE,gDAAKmJ,IAAKA,GAASiB,GAAnB,IAAyBlH,UAAWD,EAAIV,KAAxC,UACE,cAACoZ,GAAA,EAAD,UACE,gCAAQnT,MAETkT,SChBD1b,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJ7B,gBAAiBI,EAAME,QAAQC,WAAWC,KAC1CX,OAAQ,OACRgJ,cAAezI,EAAMiJ,QAAQ,GAC7BT,WAAYxI,EAAMiJ,QAAQ,IAE5B6R,MAAO,CACLC,UAAW,GACXrZ,QAAS,eACT4T,SAAU,OACV5V,MAAO,SAwBIsb,GApBM,WACnB,IAAMzR,EAAUrK,KAEhB,OACE,cAAC,GAAD,CAAMkD,UAAWmH,EAAQ9H,KAAMiG,MAAM,MAArC,SACE,cAAC6D,EAAA,EAAD,CAAK7J,QAAQ,OAAO8J,cAAc,SAAS/L,OAAO,OAAOoJ,eAAe,SAAxE,SACE,eAACoS,GAAA,EAAD,CAAW3F,SAAS,KAApB,UACE,cAACzJ,EAAA,EAAD,CAAY6J,MAAM,SAAS/M,MAAM,cAAcpG,QAAQ,KAAvD,+DAGA,cAACsJ,EAAA,EAAD,CAAY6J,MAAM,SAAS/M,MAAM,cAAcpG,QAAQ,YAAvD,sHAGA,cAACgJ,EAAA,EAAD,CAAKoL,UAAU,mB,mDCbzB,SAASuE,KACP,OACE,eAACrP,EAAA,EAAD,CAAYtJ,QAAQ,QAAQoG,MAAM,gBAAgB+M,MAAM,SAAxD,UACG,kBACD,cAACyF,GAAA,EAAD,CAAMtR,UAAWC,IAAYC,GAAG,IAAhC,yBAEQ,KACP,IAAIqR,MAAOC,cACX,OAKP,IAAMnc,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCQ,MAAO,CACLua,UAAW/a,EAAMiJ,QAAQ,GACzBvH,QAAS,OACT8J,cAAe,SACfC,WAAY,UAEdb,OAAQ,CACNtL,OAAQU,EAAMiJ,QAAQ,GACtBrJ,gBAAiBI,EAAME,QAAQU,UAAUkB,MAE3CuX,MAAO,CACL0B,UAAW/a,EAAMiJ,QAAQ,IAE3BqS,KAAM,CACJ5b,MAAO,OACPqb,UAAW/a,EAAMiJ,QAAQ,IAE3BsS,OAAQ,CACNjc,OAAQU,EAAMiJ,QAAQ,EAAG,EAAG,IAE9BuS,KAAM,CACJ7S,MAAO3I,EAAME,QAAQQ,QAAQoB,UAIlB,SAAS2Z,KACtB,IAAMlS,EAAUrK,KADe,EAELoT,mBAAS,CACjCnP,MAAO,GACPuY,SAAU,GACV3d,UAAU,IALmB,mBAExB4F,EAFwB,KAEjBgY,EAFiB,OAOHrJ,mBAAS,MAPN,mBAOxBsJ,EAPwB,KAOhBC,EAPgB,KAQzBrJ,EAAWC,cARc,4CAU/B,WAAwBU,GAAxB,iBAAAtT,EAAA,6DACEsT,EAAE2I,iBADJ,kBAG2Brd,IAAM0W,KAAK,cAAe,CAAEhS,MAAOQ,EAAMR,MAAOuY,SAAU/X,EAAM+X,WAH3F,OAGUxH,EAHV,OAIUvU,EAAOuU,EAASlC,KAClBrO,EAAM5F,UACRc,yBAAcc,EAAKvB,OACnBgS,GAAazQ,EAAK0Q,MAClBrS,wBAAY,KAEZQ,2BAAgBmB,EAAKvB,OACrBkS,GAAe3Q,EAAK0Q,MACpBrS,wBAAY,IAEdwU,EAAShC,GAAe7Q,EAAK0Q,OAdjC,kDAgBIwL,EAAU,KAAM3H,SAASlC,MAhB7B,2DAV+B,sBA8B/B,OACE,eAACiJ,GAAA,EAAD,CAAWpR,UAAU,OAAOyL,SAAS,KAArC,UACE,cAACyG,GAAA,EAAD,IACA,sBAAK3Z,UAAWmH,EAAQ/I,MAAxB,UACE,cAACmL,EAAA,EAAD,CAAQvJ,UAAWmH,EAAQqB,OAA3B,SACE,cAAC,KAAD,MAEF,cAACiB,EAAA,EAAD,CAAYhC,UAAU,KAAKtH,QAAQ,KAAnC,sCAGA,uBAAMH,UAAWmH,EAAQ+R,KAAMU,YAAU,EAAzC,UACE,cAACjG,GAAA,EAAD,CACExT,QAAQ,WACRjD,OAAO,SACP2c,UAAQ,EACR1G,WAAS,EACT3N,GAAG,QACH+R,MAAM,QACN9W,KAAK,QACLqZ,aAAa,QACbzF,WAAS,EACTR,MAAOtS,EAAMR,MACbuW,SAAU,SAACvG,GACTwI,EAAS,6BAAKhY,GAAN,IAAaR,MAAOgQ,EAAE9O,OAAO4R,SACrC4F,EAAU,6BAAKD,GAAN,IAAczY,MAAO,SAEhC0W,MAAOJ,QAAO,OAACmC,QAAD,IAACA,OAAD,EAACA,EAAQzY,OACvBgZ,WAAU,OAAEP,QAAF,IAAEA,OAAF,EAAEA,EAAQzY,QAEtB,cAAC4S,GAAA,EAAD,CACExT,QAAQ,WACRjD,OAAO,SACP2c,UAAQ,EACR1G,WAAS,EACT1S,KAAK,WACL8W,MAAM,qBACN1J,KAAK,WACLrI,GAAG,WACHsU,aAAa,WACbjG,MAAOtS,EAAM+X,SACbhC,SAAU,SAACvG,GACTwI,EAAS,6BAAKhY,GAAN,IAAa+X,SAAUvI,EAAE9O,OAAO4R,SACxC4F,EAAU,6BAAKD,GAAN,IAAcF,SAAU,SAEnC7B,MAAOJ,QAAO,OAACmC,QAAD,IAACA,OAAD,EAACA,EAAQF,UACvBS,WAAU,OAAEP,QAAF,IAAEA,OAAF,EAAEA,EAAQF,WAEtB,cAACpC,GAAA,EAAD,CACEC,QACE,cAAC6C,GAAA,EAAD,CAAUpD,QAASrV,EAAM5F,SAAU2b,SAAU,SAACvG,GAAD,OAAOwI,EAAS,6BAAKhY,GAAN,IAAa5F,UAAW4F,EAAM5F,aAAa4K,MAAM,YAE/GgR,MAAM,sCAER,cAAChQ,EAAA,EAAD,CAAQsG,KAAK,SAASsF,WAAS,EAAChT,QAAQ,YAAYoG,MAAM,UAAUvG,UAAWmH,EAAQgS,OAAQrI,QAnFxE,4CAmFvB,sCAGA,eAAC0C,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,WAAxB,UACE,cAACF,GAAA,EAAD,CAAMrN,MAAI,EAACoP,IAAE,IACb,cAAC/B,GAAA,EAAD,CAAMrN,MAAI,EAACoP,IAAE,EAAb,SACE,cAAC9L,EAAA,EAAD,CAAY6J,MAAM,QAAlB,SACE,cAACyF,GAAA,EAAD,CAAMkB,SAAUvS,IAAYC,GAAG,IAAIxH,QAAQ,QAA3C,sDAaV,cAACgJ,EAAA,EAAD,CAAKmL,GAAI,EAAT,SACE,cAACwE,GAAD,S,cCnIU/b,aAAW,SAACa,GAAD,MAAY,CACvCQ,MAAO,CACLua,UAAW/a,EAAMiJ,QAAQ,GACzBvH,QAAS,OACT8J,cAAe,SACfC,WAAY,UAEdb,OAAQ,CACNtL,OAAQU,EAAMiJ,QAAQ,GACtBrJ,gBAAiBI,EAAME,QAAQU,UAAUkB,MAE3CuX,MAAO,CACL0B,UAAW/a,EAAMiJ,QAAQ,IAE3BqS,KAAM,CACJ5b,MAAO,OACPqb,UAAW/a,EAAMiJ,QAAQ,IAE3BsS,OAAQ,CACNjc,OAAQU,EAAMiJ,QAAQ,EAAG,EAAG,Q,kCCxC1B/J,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,GACNmJ,OAAQ,CACNnL,OAAQ,IACRC,MAAO,IACPJ,OAAQ,OACRgd,SAAU,YAEZ9b,MAAO,CACLua,UAAW,QACXrb,MAAO,QAETmD,KAAM,CACJ7B,WAAY,KAEdsC,YAAa,CACXtC,WAAY,IACZub,WAAY,cAID,SAASC,KACtB,IAAMra,EAAMjD,KACNud,EAAarR,aAAY,SAACzH,GAAD,OAAWA,EAAMhB,aAAaK,kBACvD0Z,EAAYtR,aAAY,SAACzH,GAAD,OAAWA,EAAMhB,aAAaY,UACtDD,EAAc8H,aAAY,SAACzH,GAAD,OAAWA,EAAMhB,aAAaW,eAEtD+N,EAAoB0C,cAApB1C,gBACFqB,EAAKC,cAPuB,EASQL,oBAAUoK,GATlB,mBAS3BC,EAT2B,KASTC,EATS,OAUYtK,mBAAS,MAVrB,mBAU3BuK,EAV2B,KAUVC,EAVU,iDAgBlC,sBAAAjd,EAAA,sEACQkd,EAAqBC,EAAaH,EAAiB,WAD3D,OAEED,GAAc,GAFhB,4CAhBkC,sBAsBlC,SAASI,EAAaC,EAASC,GAM7B,IALA,IAAIC,EAAMF,EAAQ9E,MAAM,KACtBiF,EAAOD,EAAI,GAAGE,MAAM,WAAW,GAC/BC,EAAOC,KAAKJ,EAAI,IAChBK,EAAIF,EAAKpZ,OACTuZ,EAAQ,IAAIC,WAAWF,GAClBA,KACLC,EAAMD,GAAKF,EAAKK,WAAWH,GAE7B,OAAO,IAAII,KAAK,CAACH,GAAQP,EAAU,CAAEjN,KAAMmN,IA/BX,SAkCnBL,EAlCmB,8EAkClC,WAAoCc,GAApC,iBAAAhe,EAAA,6DACQie,EAAW,IAAIC,UACZC,OAAO,SAAUH,GAF5B,kBAI2Bpf,IAAM0W,KAAK,uBAAwB2I,GAJ9D,OAIU5J,EAJV,OAKIxB,EAAG1O,EAAakQ,EAASlC,OACzBX,EAAgB,8CAA+BL,IANnD,kDAQIiN,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAT7E,2DAlCkC,sBAmDlC,OACE,eAAClF,EAAA,EAAD,CAAKnJ,UAAWD,EAAIV,KAApB,UACGkb,EACC,8BACE,qBAAKzU,MAAO,CAAExI,MAAO,IAAKD,OAAQ,IAAKH,OAAQ,OAAQgd,SAAU,YAAjE,SACE,cAAC,KAAD,CACE5c,MAAO,IACPD,OAAQ,IACRka,MAAM,mCACNuE,YAAa,IAGbC,OAnDZ,SAAgBC,GACdtB,EAAmBsB,IAmDT9R,QAhEsB,iDAyE5B,cAACX,EAAA,EAAD,CAAQC,IAAK8Q,EAAWta,UAAWD,EAAIyI,OAAQsI,QAAS,eAG1D,cAACmL,GAAA,EAAD,CAAOjc,UAAWD,EAAI3B,MAAtB,SACE,eAAC+K,EAAA,EAAD,CAAKoL,UAAU,SAAS2H,GAAI,EAAGhH,GAAI,EAAGiH,GAAI,OAA1C,UACE,cAAC1S,EAAA,EAAD,CAAYtJ,QAAQ,KAAKic,cAAY,EAArC,6CAGA,cAAC3S,EAAA,EAAD,CAAYtJ,QAAQ,KAAKic,cAAY,EAACpc,UAAWD,EAAIU,KAArD,SACG4Z,GAAc,iCAEjB,cAAC5Q,EAAA,EAAD,CAAYtJ,QAAQ,QAAQH,UAAWD,EAAImB,YAA3C,SACGA,GACC,gU,mCC3GNmb,GAAejR,EAAQ,KAAvBiR,WAEFvf,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJ,oCAAqC,CACnCkH,MAAO3I,EAAME,QAAQQ,QAAQoB,MAE/B,qCAAsC,CACpC6G,MAAO,UAGX+V,KAAM,CACJhf,MAAO,MACPJ,OAAQ,OACRC,QAASS,EAAMiJ,QAAQ,IAAK,GAC5BrJ,gBAAiBI,EAAME,QAAQQ,QAAQoB,KACvC6G,MAAO,QACP2T,SAAU,YAEZ3c,KAAM,CAAED,MAAO,OAAQqb,UAAW,SAClC4D,IAAK,CACHpf,QAASS,EAAMiJ,QAAQ,EAAG,EAAG,EAAG,GAChC,QAAS,CACP2V,aAAc5e,EAAMiJ,QAAQ,GAC5B,eAAgB,CACd2V,aAAc,SAMP,SAASC,KACtB,IAAM1c,EAAMjD,KACN4f,EAAU1T,aAAY,SAACzH,GAAD,OAAWA,EAAMhB,gBAFT,EAGV2P,mBAASwM,GAHC,mBAG7Bnb,EAH6B,KAGtBgY,EAHsB,KAI9BjJ,EAAKC,cACHtB,EAAoB0C,cAApB1C,gBACF0N,EAAUtF,QAA0B,WAAlBqF,EAAQnb,OAAwC,aAAlBmb,EAAQnb,OAA0C,aAAlBmb,EAAQnb,OAN1D,4CAQpC,WAAwBwP,GAAxB,eAAAtT,EAAA,yDACOif,EAAQvb,OADf,yCAEW8N,EAAgB,2GAAuDR,KAFlF,gCAMgCO,GAAqBC,GANrD,cAMUJ,EANV,gBAOUxS,IAAM0W,KAAK,kBAAmB,CAClC2J,QAAQ,6BAAMnb,GAAP,IAAcZ,cAAUmN,EAAW3M,OAAQub,EAAQvb,SAC1D0N,kBATN,OAYII,EAAgB,2GAA2DN,IAC3E2B,EAAGhP,EAAW,6BAAKC,GAAN,IAAaJ,OAAQub,EAAQvb,OAAQI,MAAO,aAb7D,yDAeIsa,QAAQe,WAAW,KAAM9K,SAASlC,MAftC,kBAgBWiM,QAAQpE,MAAR,OAhBX,2DARoC,kEA8BpC,4BAAAha,EAAA,sEAC8BuR,GAAqBC,GADnD,OACQJ,EADR,OAEE0K,EAAS,6BAAKhY,GAAN,IAAaN,UAAWob,GAAWQ,QAAQhO,GAAe5N,UAAU6b,OAAM,MAFpF,4CA9BoC,sBAmCpC,OACE,eAAC3T,EAAA,EAAD,CAAKnJ,UAAWD,EAAIV,KAApB,UACE,eAAC4c,GAAA,EAAD,CAAOjc,UAAWD,EAAIuc,KAAtB,UACE,cAAC7S,EAAA,EAAD,CAAYtJ,QAAQ,KAApB,oDACA,cAACsJ,EAAA,EAAD,CAAYtJ,QAAQ,YAApB,sIAEF,cAACgJ,EAAA,EAAD,CAAKnJ,UAAWD,EAAIxC,KAApB,SACE,cAAC0e,GAAA,EAAD,UACE,eAAC9S,EAAA,EAAD,CAAKnJ,UAAWD,EAAIwc,IAApB,UACE,eAAC/I,GAAA,EAAD,CAAMC,WAAS,EAAC5M,QAAS,EAAzB,UACE,cAAC2M,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAACpJ,GAAA,EAAD,CACEqJ,gBAAiB,CAAEC,QAAQ,GAC3B9J,WAAS,EACToE,MAAM,0BACN1D,MAAK,OAAEtS,QAAF,IAAEA,OAAF,EAAEA,EAAOX,eACd0W,SAAU,SAACvG,GAAD,OAAOwI,EAAS,6BAAKhY,GAAN,IAAaX,eAAgBmQ,EAAE9O,OAAO4R,UAC/D+B,SAAU+G,MAGd,cAACnJ,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAACpJ,GAAA,EAAD,CACEqJ,gBAAiB,CAAEC,QAAQ,GAC3B9J,WAAS,EACToE,MAAM,wBACN1D,MAAK,OAAEtS,QAAF,IAAEA,OAAF,EAAEA,EAAOV,cACdyW,SAAU,SAACvG,GAAD,OAAOwI,EAAS,6BAAKhY,GAAN,IAAaV,cAAekQ,EAAE9O,OAAO4R,UAC9D+B,SAAU+G,SAKhB,cAAChJ,GAAA,EAAD,CACEqJ,gBAAiB,CAAEC,QAAQ,GAC3B9J,WAAS,EACToE,MAAM,yBACN1D,MAAK,OAAEtS,QAAF,IAAEA,OAAF,EAAEA,EAAOT,QACdwW,SAAU,SAACvG,GAAD,OAAOwI,EAAS,6BAAKhY,GAAN,IAAaT,QAASiQ,EAAE9O,OAAO4R,UACxD+B,SAAU+G,IAEZ,eAACnJ,GAAA,EAAD,CAAMC,WAAS,EAAC5M,QAAS,EAAzB,UACE,cAAC2M,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAACpJ,GAAA,EAAD,CACEqJ,gBAAiB,CAAEC,QAAQ,GAC3B9J,WAAS,EACToE,MAAM,QACN1D,MAAK,OAAEtS,QAAF,IAAEA,OAAF,EAAEA,EAAOR,MACduW,SAAU,SAACvG,GAAD,OAAOwI,EAAS,6BAAKhY,GAAN,IAAaR,MAAOgQ,EAAE9O,OAAO4R,UACtD+B,UAAU,MAGd,cAACpC,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAACpJ,GAAA,EAAD,CACEqJ,gBAAiB,CAAEC,QAAQ,GAC3B9J,WAAS,EACToE,MAAM,oCACN1D,MAAK,OAAEtS,QAAF,IAAEA,OAAF,EAAEA,EAAOP,MACdsW,SAAU,SAACvG,GAAD,OAAOwI,EAAS,6BAAKhY,GAAN,IAAaP,MAAO+P,EAAE9O,OAAO4R,UACtD+B,SAAU+G,SAIhB,cAAChJ,GAAA,EAAD,CACEqJ,gBAAiB,CAAEC,QAAQ,GAC3B9J,WAAS,EACToE,MAAM,uBACN1D,MAAK,OAAEtS,QAAF,IAAEA,OAAF,EAAEA,EAAON,UACdqW,SAAU,SAACvG,GAAD,OAAOwI,EAAS,6BAAKhY,GAAN,IAAaN,UAAW8P,EAAE9O,OAAO4R,UAC1D+B,SAAU+G,EACVO,WAAY,CACVC,cAAeR,GACb,cAACS,GAAA,EAAD,CAAgBlD,SAAS,MAAzB,SACE,cAACvJ,GAAA,EAAD,CAAYG,QA3GM,2CA2GlB,SACE,cAAC,KAAD,WAMV,cAAC6C,GAAA,EAAD,CACEqJ,gBAAiB,CAAEC,QAAQ,GAC3B9J,WAAS,EACToE,MAAM,wBACN8F,WAAS,EACTC,KAAM,EACNzJ,MAAK,OAAEtS,QAAF,IAAEA,OAAF,EAAEA,EAAOL,YACdoW,SAAU,SAACvG,GAAD,OAAOwI,EAAS,6BAAKhY,GAAN,IAAaL,YAAa6P,EAAE9O,OAAO4R,UAC5D+B,SAAU+G,KAEVA,GACA,cAACxT,EAAA,EAAD,CAAKoL,UAAU,QAAf,SACE,cAAChN,EAAA,EAAD,CAAQhB,MAAM,UAAUpG,QAAQ,YAAY2Q,QA9HtB,4CA8HtB,uD,qHC7JVhU,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJ,4BAA6B,CAC3BlC,QAASS,EAAMiJ,QAAQ,KAG3ByV,KAAM,CACJhf,MAAO,MACPJ,OAAQ,OACRC,QAASS,EAAMiJ,QAAQ,IAAK,GAC5BrJ,gBAAiB,SAACsC,GAChB,MAA0B,WAAtBA,EAAMyd,YAAiC3f,EAAME,QAAQsC,KAAKV,KAC/B,aAAtBI,EAAMyd,YAAmC3f,EAAME,QAAQ0f,QAAQ9d,KACzC,aAAtBI,EAAMyd,YAAmC3f,EAAME,QAAQ2Z,MAAM/X,KAC1D9B,EAAME,QAAQQ,QAAQoB,MAEpC6G,MAAO,QACP2T,SAAU,YAEZ3c,KAAM,CAAED,MAAO,OAAQqb,UAAW,QAASxb,QAASS,EAAMiJ,QAAQ,EAAG,EAAG,EAAG,QAG9D,SAAS4W,GAAY3d,GAClC,IAAMyd,EAAcvU,aAAY,SAACzH,GAAD,OAAWA,EAAMhB,aAAagB,SACxDH,EAAQ4H,aAAY,SAACzH,GAAD,OAAWA,EAAMhB,aAAaa,SAClDrB,EAAMjD,GAAU,CAAEygB,gBAClBjN,EAAKC,cAmBX,OAhBAtH,qBAAU,WACR,GAAoB,WAAhBsU,EAA0B,CAC5B,IAAMG,EAAUC,YAAW,sBAAC,4BAAAlgB,EAAA,+EAEDpB,IAAMwV,IAAI,gCAFT,OAElBC,EAFkB,OAGxBxB,EAAGzO,EAAkBiQ,EAASlC,OAHN,gDAKxBiM,QAAQpE,MAAR,MALwB,yDAOzB,KACH,OAAO,WACLhI,OAAOmO,cAAcF,QAMzB,8BACE,eAACvU,EAAA,EAAD,CAAKnJ,UAAWD,EAAIV,KAApB,UACE,cAAC4c,GAAA,EAAD,CAAOjc,UAAWD,EAAIuc,KAAtB,SACE,eAAC7S,EAAA,EAAD,CAAYtJ,QAAQ,KAApB,UACmB,WAAhBod,GACC,qEACgB,cAAC,KAAD,OAGD,aAAhBA,GACC,4DACc,cAAC,KAAD,OAGC,aAAhBA,GACC,6EACgB,cAAC,KAAD,YAKtB,cAACtB,GAAA,EAAD,CAAOjc,UAAWD,EAAIxC,KAAtB,SACE,cAACsgB,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAOlW,KAAK,QAAZ,SACE,cAACmW,GAAA,EAAD,UACG3c,GACCA,EAAMwI,KAAI,SAACoU,EAAMlT,GAAP,OACR,eAACmT,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,cAAC3U,EAAA,EAAD,CAAQC,IAAKwU,EAAK7c,WAEpB,cAAC+c,GAAA,EAAD,UAAYF,EAAKG,WAAaH,EAAKvd,KAAOud,EAAKpd,iBAC/C,eAACsd,GAAA,EAAD,WACqB,WAAlBF,EAAKI,UAAyB,cAAC,KAAD,CAAW7X,MAAM,YAC7B,YAAlByX,EAAKI,UAA0B,cAAC,KAAD,CAAW7X,MAAM,iBAEnD,cAAC2X,GAAA,EAAD,UACE,4BACE,gCAAQF,EAAKK,aAXJvT,mBC5EpB,SAASwT,KACtB,IAAMf,EAAcvU,aAAY,SAACzH,GAAD,OAAWA,EAAMhB,aAAagB,SAC9D,OACE,cAAC,GAAD,CAAM+D,MAAM,gCAAZ,SACE,eAACkO,GAAA,EAAD,CAAMC,WAAS,EAAC5M,QAAS,EAAzB,UACE,cAAC2M,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAACN,GAAD,MAEF,eAACjJ,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,UACE,cAAC3C,GAAD,IACA,cAACjR,EAAA,EAAD,CAAKmL,GAAI,EAAT,UACoB,WAAhBiJ,GAA4C,aAAhBA,GAA8C,aAAhBA,IAA+B,cAACE,GAAD,c,cCVxF,SAASc,GAAT,GAAiC,IAAXvT,EAAU,EAAVA,OACnC,OACE,8BACE,cAAC6S,GAAA,EAAD,CAAgBpW,UAAWwU,KAA3B,SACE,cAAC6B,GAAA,EAAD,CAAOlW,KAAK,QAAZ,SACE,eAACmW,GAAA,EAAD,WACE,eAACE,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,oCACA,cAACA,GAAA,EAAD,UAAYlT,EAAOnK,mBAErB,eAACod,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,qCACA,cAACA,GAAA,EAAD,UAAYlT,EAAOlK,aAErB,eAACmd,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,oBACA,cAACA,GAAA,EAAD,UAAYlT,EAAOjK,WAErB,eAACkd,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,gDACA,cAACA,GAAA,EAAD,UAAYlT,EAAOhK,WAErB,eAACid,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,yBACA,cAACA,GAAA,EAAD,UAAYlT,EAAO/J,wBCxBlB,SAASud,GAAT,GAAmC,IAAXxT,EAAU,EAAVA,OAC/BsF,EAAKC,cACHtB,EAAoB0C,cAApB1C,gBAFuC,SAIhCwP,EAJgC,gFAI/C,WAAsBL,EAAUM,GAAhC,eAAAjhB,EAAA,sEAC8BuR,GAAqBC,GADnD,cACQJ,EADR,yBAG2BxS,IAAM0W,KAAK,cAAe,CAAEqL,WAAUM,qBAAoB7P,kBAHrF,cAIIyB,EAAGzF,GAAe,CAAE5J,UAAWyd,KAC/BzP,EAAgB,sCAAqBN,IALzC,kDAOIkN,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAR7E,2DAJ+C,sBAgB/C,OACE,8BACE,eAAClF,EAAA,EAAD,CAAKwV,QAAQ,QAAQzC,GAAI,EAAG0C,GAAI,EAAGtf,QAAQ,OAAO+J,WAAW,SAA7D,UACE,eAACF,EAAA,EAAD,CAAKU,SAAU,EAAGvK,QAAQ,OAAO+J,WAAW,SAA5C,UACE,cAACE,EAAA,EAAD,CAAQC,IAAKwB,EAAO7J,SACpB,cAACgI,EAAA,EAAD,CAAK0V,GAAI,EAAT,SACE,cAACpV,EAAA,EAAD,CAAYtJ,QAAQ,KAApB,SAA0B6K,EAAOpK,sBAGrC,cAACuI,EAAA,EAAD,CAAK2V,GAAI,EAAGC,WAAY,EAAxB,SACE,cAACxX,EAAA,EAAD,CAAQpH,QAAQ,YAAYoG,MAAM,UAAUuK,QAAS,SAACC,GAAD,OAAO0N,EAAO,SAAUzT,EAAO/J,YAApF,mCAIF,cAACkI,EAAA,EAAD,CAAK4V,WAAY,EAAjB,SACE,cAACxX,EAAA,EAAD,CAAQuJ,QAAS,SAACC,GAAD,OAAO0N,EAAO,UAAWzT,EAAO/J,YAAjD,sCCnCK,SAAS+d,GAAT,GAA6B,IAAD,EAAVhU,EAAU,EAAVA,OAC/B,OACE,cAACiU,GAAA,EAAD,CAAUhU,GAAE,UAAED,EAAOC,UAAT,SAAqBiU,gBAAiB,EAAlD,SACE,eAAC/V,EAAA,EAAD,CAAKoK,GAAI,EAAT,UACE,cAACiL,GAAD,CAAcxT,OAAQA,IACtB,cAACuT,GAAD,CAAYvT,OAAQA,SCAb,SAASmU,GAAQrf,GAC9B,IAAM4R,EAAU1I,aAAY,SAACzH,GAAD,OAAWA,EAAMiJ,YAAY7J,YACnD8J,EAAUzB,aAAY,SAACzH,GAAD,OAAWA,EAAMiJ,YAAYC,WACnDC,EAAiB1B,aAAY,SAACzH,GAAD,OAAWA,EAAMiJ,YAAYE,kBAE1D4F,EAAKC,cACHtB,EAAoB0C,cAApB1C,gBAGFmQ,EAAkBC,sBAAW,sBAAC,4BAAA5hB,EAAA,+EAETpB,IAAMwV,IAAI,4BAFD,OAE1BC,EAF0B,OAGhCxB,EAAG1F,GAAWkH,EAASlC,OAHS,gDAKhCiM,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IANzC,yDAQjC,CAACiC,EAAIrB,IAERhG,qBAAU,WACRmW,MACC,CAACA,IAEJnW,qBAAU,WACR,IAAMyU,EAAUC,aAAY,WAC1ByB,MACC,KACH,OAAO,WACL3P,OAAOmO,cAAcF,OAIzB,IAAIpd,EACFoK,EAAiB,EACfD,EAAQb,KAAI,SAACoB,EAAQF,GAAT,OAAmB,cAACkU,GAAD,CAAQhU,OAAQA,GAAaF,MAE5D,cAAC3B,EAAA,EAAD,CAAKyV,GAAI,EAAGrL,GAAI,EAAGoL,QAAQ,QAA3B,SACE,cAAClV,EAAA,EAAD,CAAYtJ,QAAQ,KAAKmT,MAAM,SAA/B,2FAMN,OAAO,8BAAM5B,EAAU,KAAOpR,IC/ChC,IAAMxD,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvC0hB,cAAe,CACbjiB,OAAQ,OACRC,MAAO,OACPgC,QAAS,OACT8J,cAAe,SACf3C,eAAgB,SAChB4C,WAAY,cAGD,SAASkW,GAAOzf,GAC7B,IAAMC,EAAMjD,KACN0iB,EAAoBxW,aAAY,SAACzH,GAAD,OAAWA,EAAMhB,aAAagB,SAEpE,OACE,cAAC,GAAD,CAAM+D,MAAM,qBAAZ,SACyB,aAAtBka,EACC,cAACL,GAAD,IAEA,sBAAKnf,UAAWD,EAAIuf,cAApB,UACE,cAAC7V,EAAA,EAAD,CAAYtJ,QAAQ,KAApB,oGACA,cAACsJ,EAAA,EAAD,CAAYtJ,QAAQ,YAApB,4H,6ECjBJsf,GAAY,CAChBvO,KAAM,EACN5R,QAAS,OACT8J,cAAe,SACfC,WAAY,SACZlM,QAAS,OACTuiB,YAAa,EACbC,aAAc,EACdC,YAAa,UACbC,YAAa,SAIbtZ,MAAO,kBAEPuZ,WAAY,2BAGRC,GAAc,CAClBH,YAAa,WAGTI,GAAc,CAClBJ,YAAa,WAGTK,GAAc,CAClBL,YAAa,WAGA,SAASM,GAAT,GAAuD,IAA9BC,EAA6B,EAA7BA,eAAgB7U,EAAa,EAAbA,UAC9C2D,EAAoB0C,cAApB1C,gBAD2D,MAOemR,aAAY,CAC5FvQ,OAAQ,oEACRwQ,eANF,SAAwBC,GACtBrR,EAAgB,2CAA6BZ,KAM7C8R,mBAHMI,EAP2D,EAO3DA,aAAcC,EAP6C,EAO7CA,cAAeC,EAP8B,EAO9BA,aAAcC,EAPgB,EAOhBA,aAAcC,EAPE,EAOFA,aAM3D7a,EAAQ8a,mBACZ,+BAAC,0CACInB,IACCgB,EAAeV,GAAc,IAC7BW,EAAeV,GAAc,IAC7BW,EAAeV,GAAc,MAEnC,CAACQ,EAAcE,EAAcD,IAG/B,OACE,cAACzE,GAAA,EAAD,UACE,kDAASsE,EAAa,CAAEza,WAAxB,cACE,sCAAW0a,MACVlV,EACC,qCACE,cAAC,KAAD,CAAYuV,QAAQ,EAAMhiB,SAAS,SACnC,gDAGF,qCACE,cAAC,KAAD,CAAeiiB,UAAWC,KAAWnZ,KAAM,KAC3C,gG,mCCvEG,SAASoZ,GAAT,GAAgD,IAAzB1E,EAAwB,EAAxBA,KAAM/e,EAAkB,EAAlBA,KAAM0jB,EAAY,EAAZA,SAChD,OACE,cAACpD,GAAA,EAAD,UACE,cAAC,IAAD,CAAkB/X,MAAO,CAAEO,cAAe4a,EAAW,OAAS,GAA9D,SACE,eAACnD,GAAA,EAAD,CAAOlW,KAAK,QAAQ9B,MAAO,CAAEmb,YAA7B,UACE,cAACC,GAAA,EAAD,UACE,cAACjD,GAAA,EAAD,UACG3B,EAAK1S,KAAI,SAACuX,EAAarW,GAAd,OACR,cAACoT,GAAA,EAAD,UAAwBiD,GAARrW,UAItB,cAACiT,GAAA,EAAD,UACGxgB,EAAKqM,KAAI,SAACwX,EAAKC,GAAN,OACR,cAACpD,GAAA,EAAD,UACGmD,EAAIxX,KAAI,SAAC0X,EAAMxW,GAAP,OACP,cAACoT,GAAA,EAAD,UAAwBoD,GAARxW,OAFLuW,e,mECTvBvkB,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvC0I,OAAQ,CACNpJ,OAAQU,EAAMiJ,QAAQ,QAIX,SAAS0a,GAAT,GAAyE,IAA1Cjc,EAAyC,EAAzCA,MAAOkc,EAAkC,EAAlCA,SAAUlF,EAAwB,EAAxBA,KAAM/e,EAAkB,EAAlBA,KAAM0jB,EAAY,EAAZA,SAAY,GACzEnkB,KACYoT,oBAAS,IAFoD,mBAE9EuR,EAF8E,KAExEC,EAFwE,KASrF,SAASC,IACPD,GAASD,GAGX,OACE,eAACxF,GAAA,EAAD,WACE,eAAC9S,EAAA,EAAD,CACEyY,GAAI,EACJ9C,GAAI,EACJxf,QAAQ,OACRmH,eAAe,gBACf4C,WAAW,SACXyH,QAAS6Q,EACT7b,MAAO,CAAE2C,OAAQ,WAPnB,UASE,cAACgB,EAAA,EAAD,CAAYtJ,QAAQ,KAApB,SAA0BmF,GAAS,+BACnC,eAAC6D,EAAA,EAAD,WACE,cAACwH,GAAA,EAAD,CAAYG,QAtBpB,SAAyBC,GACvBA,EAAE8Q,kBACFC,KAAUC,OAAV,yBAAmCP,GAAYA,IAoBzC,SACE,cAAC,KAAD,MAEDC,EACC,cAAC9Q,GAAA,EAAD,CAAYG,QAAS6Q,EAArB,SACE,cAAC,KAAD,MAGF,cAAChR,GAAA,EAAD,CAAYG,QAAS6Q,EAArB,SACE,cAAC,KAAD,YAKR,cAACjY,EAAA,EAAD,IACA,cAACuV,GAAA,EAAD,CAAUhU,GAAIwW,EAAd,SACE,cAACT,GAAD,CAAa1E,KAAMA,EAAM/e,KAAMA,EAAM0jB,SAAUA,SCrDxC,SAASe,KA8CtB,OAAO,cAACT,GAAD,6BAAyB,CAAEjc,MA7CpB,qDA6C2Bkc,SA5CxB,+BA4CkClF,KA3CtC,CAAC,kBAAc,kBAAW,4BAAkB,wBAAc,SAAU,oCAAiB,wBA2CzC/e,KA1C5C,CACX,CACE,QACA,OACA,UACA,8BACA,0BACA,UACA,sEAEF,CAAC,QAAS,oBAAqB,UAAW,wBAAiB,2BAA4B,YACvF,CACE,QACA,OACA,UACA,aACA,+BACA,GACA,sEAEF,CAAC,QAAS,OAAQ,UAAW,kCAAsB,6BACnD,CACE,QACA,OACA,UACA,mBACA,2BACA,UACA,sEAEF,CACE,QACA,OACA,UACA,+BACA,8BACA,GACA,yEAKG,IAA0D0jB,SAAU,Y,qFCtC7E,SAASgB,GAAgBC,EAAMpgB,GAE7B,OADKA,IAAQA,EAAS,IAEpB,eAACiX,GAAA,EAAD,CAAM9W,OAAO,SAAS+E,KAAI,UAAKmb,uCAAL,2BAA0DD,GAApF,UACGA,EAAKE,MAAM,EAAGtgB,GADjB,SAMJ,SAASugB,GAAiBC,GACxB,MAAM,IAAN,OAAW,IAAItJ,KAAKsJ,GAAWC,cAAcxM,MAAM,KAAK,GAAxD,aAA+D,IAAIiD,KAAKsJ,GAAWC,cAAcxM,MAAM,KAAK,GAAGA,MAAM,KAAK,ICE5H,IAAMjZ,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJ/B,MAAO,QAETklB,QAAS,CACP3jB,SAAUjB,EAAMc,WAAW+jB,QAAQ,IACnC7jB,WAAYhB,EAAMc,WAAWgkB,uBAIlB,SAASC,KACtB,IAAM5iB,EAAMjD,KACN6D,EAAWqI,aAAY,SAACzH,GAAD,OAAWA,EAAM4J,aAAaxK,YACrD0K,EAAUrC,aAAY,SAACzH,GAAD,OAAWA,EAAM4J,aAAaE,WACpDiF,EAAKC,cACHtB,EAAoB0C,cAApB1C,gBALqC,4CAY7C,8BAAAxR,EAAA,sEACyBmlB,MAAM,GAAD,OAAIT,qCAAJ,mCAAwE,CAClG5lB,QAAS,CAAEsmB,cAAenmB,yBAF9B,WACQoV,EADR,QAIgBkB,GAJhB,6BAKI/D,EALJ,eAKuB6C,EAASgR,OALhC,eAKiDhR,EAASzT,OAL1D,yDAKoEgQ,IALpE,4DAOyByD,EAASiR,OAPlC,QAOUC,EAPV,OAQI1S,EAAG/E,GAAkByX,IARzB,6CAZ6C,kEAuB7C,WAA+BjS,EAAG5K,GAAlC,iBAAA1I,EAAA,sDACQwlB,EAAKC,KAAKC,MAAMC,WAChBC,EAAKH,KAAKC,MAAMG,cAAcnd,EAAKod,UACzCL,KAAKC,MAAMK,kBAAkBP,EAAII,EAAI,wBAAkBld,EAAKkY,MAC5D6E,KAAKO,UAAUR,EAAI9c,EAAKkY,KAAO,MAAQlY,EAAKud,kBAJ9C,4CAvB6C,sBAO7Cza,qBAAU,YAPmC,mCAQ3C0a,KAEC,IAmBH,IAAMrH,EAAO,CAAC,iBAAU,2BAAiB,uBAAa,UAAW,WAAY,QAEvEhc,EACJ,cAAC6I,EAAA,EAAD,UACGkC,EAAQzB,KAAI,SAACzD,EAAM2E,GAClB,IAAMvN,EAAO4I,EAAKod,SAAS3Z,KAAI,SAAC8S,GAAD,MAAa,CAC1CA,EAAQ5Q,WACR4Q,EAAQ7Q,UACR6Q,EAAQjc,KACRic,EAAQ3b,MACR2b,EAAQkH,kBACR3B,GAAgBvF,EAAQwF,UAE1B,OACE,eAAC2B,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAkBC,WAAY,cAAC,KAAD,IAAoBve,GAAIW,EAAK6d,IAA3D,SACE,cAACva,EAAA,EAAD,CAAYzJ,UAAWD,EAAIyiB,QAA3B,oBAAyC1X,EAAQ,EAAjD,aAAuD3E,EAAKkY,KAA5D,aAAqElY,EAAKud,sBAE5E,cAACO,GAAA,EAAD,UACE,cAACjD,GAAD,CAAa1E,KAAMA,EAAM/e,KAAMA,MAEjC,cAAC2mB,GAAA,EAAD,UACE,cAAC3c,EAAA,EAAD,CAAQ4c,UAAW,cAAC,KAAD,IAAgBhkB,QAAQ,WAAWoG,MAAM,UAAUuK,QAAS,SAACC,GAAD,OAnD9C,6CAmDqDqT,CAAgBrT,EAAG5K,IAAzG,0BARY2E,QAiBxB,OAAOnK,EAAW,KAAOL,EChF3B,IAAMxD,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJ,QAAS,CACPmd,aAAc5e,EAAMiJ,QAAQ,GAC5B,eAAgB,CACd2V,aAAc,IAGlBnW,cAAezI,EAAMiJ,QAAQ,UAIlB,SAASwd,KACtB,IAAMtkB,EAAMjD,KACNwO,EAAYtC,aAAY,SAACzH,GAAD,OAAWA,EAAM4J,aAAaG,aACtDgF,EAAKC,cACHtB,EAAoB0C,cAApB1C,gBAJqC,4CAM7C,WAA4BqV,GAA5B,mBAAA7mB,EAAA,sEAC8BuR,GAAqBC,GADnD,cACQJ,EADR,OAEEyB,EAAG9E,OACGkQ,EAAW,IAAIC,UACZC,OAAO,aAAc0I,EAAM,IACpC5I,EAASE,OAAO,gBAAiB/M,GALnC,mBAO2BxS,IAAM0W,KAAK,wBAAyB2I,GAP/D,QAOU5J,EAPV,OAQIxB,EAAG7E,GAAkBqG,EAASlC,OAC9BX,EAAgB,yEAA4CN,IAThE,kDAWI2B,EAAG3E,MACHkQ,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAb7E,2DAN6C,sBAuB7C,OACE,cAAC,GAAD,CAAM/I,MAAM,iDAAZ,SACE,sBAAKtF,UAAWD,EAAIV,KAApB,UACE,cAAC2iB,GAAD,IACA,cAAC9B,GAAD,CAAeC,eA3BwB,4CA2BM7U,UAAWA,IACxD,cAACqX,GAAD,SClDO,SAAS4B,KA2GtB,OAAO,cAAChD,GAAD,6BAAyB,CAAEjc,MA1GpB,+CA0G2Bkc,SAzGxB,8BAyGkClF,KAxGtC,CACX,QACA,kBACA,gBACA,qBACA,SACA,YACA,kBACA,mBACA,oBACA,2BACA,wCACA,qCACA,wBA2FuD/e,KAzF5C,CACX,CACE,SACA,yBACA,aACA,MACA,8BACA,UACA,sEACA,YACA,0CACA,IACA,EACA,EACA,sEAEF,CACE,SACA,2CACA,aACA,MACA,+BACA,UACA,sEACA,YACA,qCACA,IACA,EACA,GAEF,CACE,SACA,sBACA,aACA,MACA,+BACA,UACA,sEACA,WACA,iCACA,IACA,EACA,EACA,sEAEF,CACE,SACA,mBACA,aACA,MACA,6BACA,UACA,sEACA,YACA,0CACA,IACA,EACA,EACA,sEAEF,CACE,SACA,2BACA,aACA,MACA,+BACA,UACA,sEACA,YACA,6CACA,IACA,EACA,GAEF,CACE,SACA,sCACA,aACA,MACA,gCACA,UACA,sEACA,WACA,0CACA,IACA,EACA,MAGG,IAA0D0jB,SAAU,YCjG7E,IAAMnkB,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJ/B,MAAO,QAETklB,QAAS,CACP3jB,SAAUjB,EAAMc,WAAW+jB,QAAQ,IACnC7jB,WAAYhB,EAAMc,WAAWgkB,uBAIlB,SAAS8B,KACtB,IAAMzkB,EAAMjD,KACN6D,EAAWqI,aAAY,SAACzH,GAAD,OAAWA,EAAMwK,aAAapL,YACrD0K,EAAUrC,aAAY,SAACzH,GAAD,OAAWA,EAAMwK,aAAaV,WACpDiF,EAAKC,cACHtB,EAAoB0C,cAApB1C,gBALqC,4CAY7C,4BAAAxR,EAAA,+EAE2BpB,IAAMwV,IAAI,0BAFrC,OAEUC,EAFV,OAGIxB,EAAG/E,GAAkBuG,EAASlC,OAHlC,gDAKIiM,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAN7E,0DAZ6C,kEAsB7C,WAA+B0C,EAAG5K,GAAlC,iBAAA1I,EAAA,sDACQwlB,EAAKC,KAAKC,MAAMC,WAChBC,EAAKH,KAAKC,MAAMG,cAAcnd,EAAKod,UACzCL,KAAKC,MAAMK,kBAAkBP,EAAII,EAAI,kBAAiBld,EAAKkY,MAC3D6E,KAAKO,UAAUR,EAAI9c,EAAKkY,KAAO,MAAQlY,EAAKud,kBAJ9C,4CAtB6C,sBAO7Cza,qBAAU,YAPmC,mCAQ3C0a,KAEC,IAmBH,IAAMrH,EAAO,CAAC,OAAQ,uBAAa,eAAa,QAAS,YAEnDhc,EACJ,cAAC6I,EAAA,EAAD,UACGkC,EAAQzB,KAAI,SAACzD,EAAM2E,GAClB,IAAMvN,EAAO4I,EAAKod,SAAS3Z,KAAI,SAAC8S,GAAD,MAAa,CAC1CA,EAAQ+H,UACR/H,EAAQjc,KACRic,EAAQgI,SACRhI,EAAQ3b,MACR2b,EAAQkH,sBAGV,OACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAkBC,WAAY,cAAC,KAAD,IAAoBve,GAAIW,EAAK6d,IAA3D,SACE,cAACva,EAAA,EAAD,CAAYzJ,UAAWD,EAAIyiB,QAA3B,oBAAyC1X,EAAQ,EAAjD,aAAuD3E,EAAKkY,KAA5D,aAAqElY,EAAKud,sBAE5E,cAACO,GAAA,EAAD,UACE,cAACjD,GAAD,CAAa1E,KAAMA,EAAM/e,KAAMA,MAEjC,cAAC2mB,GAAA,EAAD,UACE,cAAC3c,EAAA,EAAD,CAAQ4c,UAAW,cAAC,KAAD,IAAgBhkB,QAAQ,WAAWoG,MAAM,UAAUuK,QAAS,SAACC,GAAD,OAnD9C,6CAmDqDqT,CAAgBrT,EAAG5K,IAAzG,0BARY2E,QAiBxB,OAAOnK,EAAW,KAAOL,ECtE3B,IAAMxD,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJ,QAAS,CACPmd,aAAc5e,EAAMiJ,QAAQ,GAC5B,eAAgB,CACd2V,aAAc,IAGlBnW,cAAezI,EAAMiJ,QAAQ,UAIlB,SAAS8d,KACtB,IAAM5kB,EAAMjD,KACNwO,EAAYtC,aAAY,SAACzH,GAAD,OAAWA,EAAMwK,aAAaT,aACtDgF,EAAKC,cACHtB,EAAoB0C,cAApB1C,gBAJqC,4CAM7C,WAA4BqV,GAA5B,qBAAA7mB,EAAA,sEAC8BuR,GAAqBC,GADnD,cACQJ,EADR,OAEEyB,EAAG9E,OACGkQ,EAAW,IAAIC,UACZC,OAAO,aAAc0I,EAAM,IACpC5I,EAASE,OAAO,gBAAiB/M,GALnC,SAMyB+T,MAAM,GAAD,OAAIT,qCAAJ,kCAAuE,CACjGyC,OAAQ,OACRroB,QAAS,CAAEsmB,cAAenmB,uBAC1Ba,KAAMme,IATV,WAMQ5J,EANR,QAWgBkB,GAXhB,wBAYI1C,EAAG3E,MAZP,KAaIsD,EAbJ,UAasD6C,EAASzT,OAb/D,yBAaoB,yBAbpB,UAawEgQ,IAbxE,4DAeyByD,EAASiR,OAflC,QAeUC,EAfV,OAgBI1S,EAAG7E,GAAkBuX,IACrB/T,EAAgB,mEAA2CN,IAjB/D,6CAN6C,sBA2B7C,OACE,cAAC,GAAD,CAAMrJ,MAAM,0CAAZ,SACE,sBAAKtF,UAAWD,EAAIV,KAApB,UACE,cAACklB,GAAD,IACA,cAACrE,GAAD,CAAeC,eA/BwB,4CA+BM7U,UAAWA,IACxD,cAACkZ,GAAD,SCtDO,SAASK,KA4EtB,OAAO,cAACtD,GAAD,gBAAyB,CAAEjc,MA3EpB,oDA2E2Bkc,SA1ExB,4BA0EkClF,KAzEtC,CAAC,oBAAW,2BAAe,yBAAe,0BAAgB,2BAAe,+BAAmB,4BAAkB,SAyElE/e,KAxE5C,CACX,CACE,MACA,OACA,SACA,wDACA,EACA,iCACA,SACA,oFAEF,CACE,MACA,OACA,SACA,uCACA,EACA,wCACA,SACA,oFAEF,CACE,MACA,OACA,SACA,sEACA,EACA,sDACA,SACA,oFAEF,CACE,MACA,OACA,UACA,0EACA,EACA,0CACA,SACA,oFAEF,CACE,MACA,OACA,SACA,6CACA,EACA,0BACA,SACA,oFAEF,CACE,MACA,OACA,SACA,mCACA,EACA,+BACA,SACA,oFAEF,CACE,MACA,OACA,SACA,+BACA,EACA,gBACA,SACA,wF,cClEAunB,GAAU,CACd,CAAEC,MAAO,KAAMC,WAAY,IAAK1nB,MAAO,GAAIuQ,KAAM,UACjD,CAAEkX,MAAO,WAAYC,WAAY,iBAAU1nB,MAAO,IAAKuQ,KAAM,UAC7D,CAAEkX,MAAO,UAAWC,WAAY,0BAAc1nB,MAAO,IAAKuQ,KAAM,UAChE,CAAEkX,MAAO,YAAaC,WAAY,wBAAc1nB,MAAO,IAAKuQ,KAAM,UAClE,CAAEkX,MAAO,cAAeC,WAAY,yBAAe1nB,MAAO,IAAKuQ,KAAM,UAErE,CAAEkX,MAAO,cAAeC,WAAY,KAAM1nB,MAAO,IAAKuQ,KAAM,UAC5D,CAAEkX,MAAO,aAAcC,WAAY,OAAQ1nB,MAAO,IAAKuQ,KAAM,WAQhD,SAASoX,GAAmBnlB,GACzC,IAAMa,EAAWqI,aAAY,SAACzH,GAAD,OAAWA,EAAMyK,WAAWrL,YACnDwG,EAAU6B,aAAY,SAACzH,GAAD,OAAWA,EAAMyK,WAAW7E,WAClD+d,EAAkB/d,EAAQyC,KAAI,SAACub,GAAD,oBAAC,gBAChCA,GAD+B,IAElC/L,KAAM6I,GAAgBkD,EAAIjD,WAEtB5R,EAAKC,cACHtB,EAAoB0C,cAApB1C,gBARwC,4CAchD,8BAAAxR,EAAA,sEACyBmlB,MAAM,GAAD,OAAIT,qCAAJ,2BAAgE,CAC1F5lB,QAAS,CAAEsmB,cAAenmB,yBAF9B,WACQoV,EADR,QAIgBkB,GAJhB,6BAKI/D,EALJ,eAKuB6C,EAASgR,OALhC,eAKiDhR,EAASzT,OAL1D,yDAKoEgQ,IALpE,4DAOyByD,EAASiR,OAPlC,QAOUC,EAPV,OAQI1S,EAAGpE,GAAkB8W,IARzB,6CAdgD,sBA0BhD,OAhBA/Z,qBAAU,YAVsC,mCAW9Cmc,KACC,IAekB,IAAnBje,EAAQrF,QACN,cAACma,GAAA,EAAD,CAAOnW,MAAO,CAAEzI,OAAQ,QAASC,MAAO,QAAxC,SACGqD,EAAW,KACV,cAAC,KAAD,CACE2c,KAAM4H,EACNJ,QAASA,GACTO,SAAU,GACVC,mBAAoB,CAAC,EAAG,GAAI,IAC5BC,YAAU,EACVC,UAAW,GACX9T,QAAS/Q,MClDrB,IAAM7D,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJ,QAAS,CACPmd,aAAc5e,EAAMiJ,QAAQ,GAC5B,eAAgB,CACd2V,aAAc,IAGlBnW,cAAezI,EAAMiJ,QAAQ,KAC7B,mBAAoB,CAClBwC,WAAY,eAKH,SAASoc,KACtB,IAAM1lB,EAAMjD,KACNwO,EAAYtC,aAAY,SAACzH,GAAD,OAAWA,EAAMyK,WAAWV,aACpDW,EAAoBjD,aAAY,SAACzH,GAAD,OAAWA,EAAMyK,WAAWC,qBAC5DqE,EAAKC,cACHtB,EAAoB0C,cAApB1C,gBAL4B,4CAOpC,WAA4BqV,GAA5B,mBAAA7mB,EAAA,sEAC8BuR,GAAqBC,GADnD,cACQJ,EADR,OAEEyB,EAAG9E,OACGkQ,EAAW,IAAIC,UACZC,OAAO,aAAc0I,EAAM,IACpC5I,EAASE,OAAO,gBAAiB/M,GALnC,mBAO2BxS,IAAM0W,KAAK,wBAAyB2I,GAP/D,QAOU5J,EAPV,OAQI7C,EAAgB,gCAA2BN,IAC3C2B,EAAG7E,GAAkBqG,EAASlC,OATlC,kDAWIiM,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IACzEiC,EAAG3E,MAbP,2DAPoC,sBAwBpC,OACE,cAAC,GAAD,CAAMrG,MAAM,2BAAZ,SACE,sBAAKtF,UAAWD,EAAIV,KAApB,UAEE,cAACwlB,GAAD,IAEC5Y,GACC,cAACyZ,GAAA,EAAD,CAAOC,SAAS,OAAOxlB,QAAQ,SAAS+J,QAAS,kBAAMoG,EAAG5D,IAAqB,KAAS5G,MAAO,CAAEjH,SAAU,WAA3G,yJAIF,cAACqhB,GAAD,CAAeC,eAnCe,4CAmCe7U,UAAWA,IACxD,cAAC2Z,GAAD,SC7DO,SAASW,KAuBtB,OAAO,cAACrE,GAAD,6BAAyB,CAAEjc,MAtBpB,qDAsB2Bkc,SApBxB,6BAoBkClF,KAnBtC,CACX,6BACA,qBACA,sBACA,gCACA,qBACA,yCACA,oBACA,mBACA,6BACA,oBACA,oCAQuD/e,KAN5C,CACX,CAAC,SAAU,+BAAqB,kBAAS,KAAM,YAAQ,eAAa,iBAAU,aAAc,mCAAqB,QAAS,aAC1H,CAAC,SAAU,kCAAsB,kBAAS,KAAM,YAAQ,eAAa,iBAAU,aAAc,mCAAqB,QAAS,aAC3H,CAAC,SAAU,uCAAsB,kBAAS,KAAM,YAAQ,eAAa,iBAAU,aAAc,mCAAqB,QAAS,aAC3H,CAAC,SAAU,2BAAiB,kBAAS,KAAM,YAAQ,eAAa,iBAAU,aAAc,mCAAqB,QAAS,gBAEjH,IAA0D0jB,SAAU,YCjB7E,IAAM6D,GAAU,CACd,CAAEC,MAAO,KAAMC,WAAY,IAAK1nB,MAAO,GAAIuQ,KAAM,UACjD,CAAEkX,MAAO,YAAaC,WAAY,mBAAY1nB,MAAO,IAAKuQ,KAAM,UAChE,CAAEkX,MAAO,OAAQC,WAAY,uBAAa1nB,MAAO,IAAKuQ,KAAM,UAC5D,CAAEkX,MAAO,WAAYC,WAAY,eAAa1nB,MAAO,IAAKuQ,KAAM,UAChE,CAAEkX,MAAO,SAAUC,WAAY,oBAAa1nB,MAAO,IAAKuQ,KAAM,UAC9D,CAAEkX,MAAO,aAAcC,WAAY,mBAAU1nB,MAAO,IAAKuQ,KAAM,UAC/D,CAAEkX,MAAO,UAAWC,WAAY,oBAAa1nB,MAAO,IAAKuQ,KAAM,UAC/D,CAAEkX,MAAO,SAAUC,WAAY,sBAAa1nB,MAAO,IAAKuQ,KAAM,UAC9D,CACEkX,MAAO,WACPC,WAAY,gCACZ1nB,MAAO,IACPuQ,KAAM,UAER,CAAEkX,MAAO,QAASC,WAAY,qBAAY1nB,MAAO,IAAKuQ,KAAM,UAC5D,CACEkX,MAAO,UACPC,WAAY,yCACZ1nB,MAAO,IACPuQ,KAAM,UAER,CAAEkX,MAAO,gBAAiBC,WAAY,oBAAW1nB,MAAO,IAAKuQ,KAAM,UACnE,CAAEkX,MAAO,YAAaC,WAAY,mBAAY1nB,MAAO,IAAKuQ,KAAM,UAChE,CACEkX,MAAO,aACPC,WAAY,6BACZ1nB,MAAO,IACPuQ,KAAM,UAER,CAAEkX,MAAO,UAAWC,WAAY,oBAAW1nB,MAAO,IAAKuQ,KAAM,UAC7D,CACEkX,MAAO,gBACPC,WAAY,mCACZ1nB,MAAO,IACPuQ,KAAM,UAER,CAAEkX,MAAO,UAAWC,WAAY,UAAW1nB,MAAO,IAAKuQ,KAAM,UAC7D,CAAEkX,MAAO,OAAQC,WAAY,qBAAc1nB,MAAO,IAAKuQ,KAAM,UAC7D,CAAEkX,MAAO,YAAaC,WAAY,YAAa1nB,MAAO,IAAKuQ,KAAM,UACjE,CAAEkX,MAAO,OAAQC,WAAY,OAAQ1nB,MAAO,IAAKuQ,KAAM,WAG1C,SAASgY,GAAyB/lB,GAC/C,IAAMa,EAAWqI,aAAY,SAACzH,GAAD,OAAWA,EAAMoL,iBAAiBhM,YAEzDmlB,EADO9c,aAAY,SAACzH,GAAD,OAAWA,EAAMoL,iBAAiBC,QAExDhD,KAAI,SAACmc,GAAD,OAASA,EAAIC,SAASD,EAAIC,SAASlkB,OAAS,MAChD8H,KAAI,SAACqc,EAAMnb,GAAP,oBAAC,gBAAsBmb,GAAvB,IAA6BzgB,GAAIsF,EAAQ,OAE1CwF,EAAKC,cACHtB,EAAoB0C,cAApB1C,gBAR8C,4CAetD,4BAAAxR,EAAA,+EAE2BpB,IAAMwV,IAAI,uBAFrC,OAEUC,EAFV,OAGIxB,EAAGzD,GAAwBiF,EAASlC,OAHxC,gDAKIiM,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAN7E,0DAfsD,sBAyBtD,OAfApF,qBAAU,YAV4C,mCAWpDid,KAEC,IAaoC,IAArCJ,EAA0BhkB,QACxB,cAACma,GAAA,EAAD,CAAOnW,MAAO,CAAEzI,OAAQ,QAASC,MAAO,QAAxC,SACGqD,EAAW,KACV,cAAC,KAAD,CACE2c,KAAMwI,EACNhB,QAASA,GACTO,SAAU,GACVC,mBAAoB,CAAC,EAAG,GAAI,IAC5BC,YAAU,EACVC,UAAW,GACX9T,QAAS/Q,MC3ErB,IAAM7D,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJ,QAAS,CACPmd,aAAc5e,EAAMiJ,QAAQ,GAC5B,eAAgB,CACd2V,aAAc,IAGlBnW,cAAezI,EAAMiJ,QAAQ,UAIlB,SAASsf,KACtB,IAAMpmB,EAAMjD,KACNwO,EAAYtC,aAAY,SAACzH,GAAD,OAAWA,EAAMoL,iBAAiBrB,aAC1DgF,EAAKC,cACHtB,EAAoB0C,cAApB1C,gBAJkC,4CAM1C,WAA4BqV,GAA5B,mBAAA7mB,EAAA,sEAC8BuR,GAAqBC,GADnD,cACQJ,EADR,OAEEyB,EAAG9E,OACGkQ,EAAW,IAAIC,UACZC,OAAO,aAAc0I,EAAM,IACpC5I,EAASE,OAAO,gBAAiB/M,GALnC,mBAO2BxS,IAAM0W,KAAK,6BAA8B2I,GAPpE,QAOU5J,EAPV,OAQI7C,EAAgB,gCAA2BN,IAC3C2B,EAAG7E,GAAkBqG,EAASlC,OATlC,kDAWIiM,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IACzEiC,EAAG3E,MAbP,2DAN0C,sBAuB1C,OACE,cAAC,GAAD,CAAMrG,MAAM,4BAAZ,SACE,sBAAKtF,UAAWD,EAAIV,KAApB,UACE,cAACumB,GAAD,IACA,cAAC1F,GAAD,CAAeC,eA3BqB,4CA2BS7U,UAAWA,IACxD,cAACua,GAAD,SC7CR,IAAM/oB,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,GACNmJ,OAAQ,CACNnL,OAAQ,QACRC,MAAO,QACPJ,OAAQ,OACRgd,SAAU,YAEZ9b,MAAO,CACLua,UAAW,QACXrb,MAAO,QAETmD,KAAM,CACJ7B,WAAY,KAEdsC,YAAa,CACXtC,WAAY,IACZub,WAAY,cAID,SAASC,KACtB,IAAMra,EAAMjD,KACN2D,EAAOuI,aAAY,SAACzH,GAAD,OAAWA,EAAMqK,oBAAoBnL,QACxD6Z,EAAYtR,aAAY,SAACzH,GAAD,OAAWA,EAAMqK,oBAAoBzK,UAC7DD,EAAc8H,aAAY,SAACzH,GAAD,OAAWA,EAAMqK,oBAAoB1K,eAC7D+N,EAAoB0C,cAApB1C,gBACFqB,EAAKC,cANuB,4CAQlC,WAA8BQ,GAA9B,mBAAAtT,EAAA,6DACQie,EAAW,IAAIC,UACZC,OAAO,SAAU7K,EAAE9O,OAAOqiB,MAAM,IAF3C,SAGoB1B,MAAM,GAAD,OAAIT,qCAAJ,mCAAwE,CAC7FyC,OAAQ,OACRroB,QAAS,CAAEsmB,cAAenmB,uBAC1Ba,KAAMme,IANV,WAGQ0K,EAHR,QASWpT,GATX,6BAUI/D,EAVJ,SAU0BmX,EAAI/nB,OAV9B,wBAUsCgQ,IAVtC,4DAYyB+X,EAAIrD,OAZ7B,QAYU5hB,EAZV,OAaImP,EAAG1O,GAAaT,IAChB8N,EAAgB,8CAA+B,CAAE9O,QAAS,UAAWmO,aAAc,CAAEC,SAAU,SAAUC,WAAY,WAdzH,6CARkC,sBA0BlC,OACE,eAACrF,EAAA,EAAD,CAAKnJ,UAAWD,EAAIV,KAApB,UACE,wBAAOgnB,QAAQ,SAAf,UACE,uBAAOxY,KAAK,OAAOgC,OAAO,UAAUrK,GAAG,SAASM,MAAO,CAAExG,QAAS,QAAUgY,SA7BhD,8CA8B5B,cAAC/N,EAAA,EAAD,CAAQC,IAAK8Q,EAAWta,UAAWD,EAAIyI,YAEzC,cAACyT,GAAA,EAAD,CAAOjc,UAAWD,EAAI3B,MAAtB,SACE,eAAC+K,EAAA,EAAD,CAAKoL,UAAU,SAAS2H,GAAI,EAAGhH,GAAI,EAAGiH,GAAI,OAA1C,UACE,cAAC1S,EAAA,EAAD,CAAYtJ,QAAQ,KAAKic,cAAY,EAArC,gCAGA,cAAC3S,EAAA,EAAD,CAAYtJ,QAAQ,KAAKic,cAAY,EAACpc,UAAWD,EAAIU,KAArD,SACGA,IAEH,cAACgJ,EAAA,EAAD,CAAYtJ,QAAQ,QAAQH,UAAWD,EAAImB,YAA3C,SACGA,GACC,gUC9Dd,IAAMpE,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJ,oCAAqC,CACnCkH,MAAO3I,EAAME,QAAQQ,QAAQoB,MAE/B,qCAAsC,CACpC6G,MAAO,UAGX+V,KAAM,CACJhf,MAAO,MACPJ,OAAQ,OACRC,QAASS,EAAMiJ,QAAQ,IAAK,GAC5BrJ,gBAAiBI,EAAME,QAAQQ,QAAQoB,KACvC6G,MAAO,QACP2T,SAAU,YAEZ3c,KAAM,CAAED,MAAO,OAAQqb,UAAW,SAClC4D,IAAK,CACHpf,QAASS,EAAMiJ,QAAQ,EAAG,EAAG,EAAG,GAChC,QAAS,CACP2V,aAAc5e,EAAMiJ,QAAQ,GAC5B,eAAgB,CACd2V,aAAc,SAMP,SAAS8J,KACtB,IAAMvmB,EAAMjD,KACN4f,EAAU1T,aAAY,SAACzH,GAAD,OAAWA,EAAMqK,uBAFF,EAGjBsE,mBAASwM,GAHQ,mBAGpCnb,EAHoC,KAG7BgY,EAH6B,KAMrCoD,GAFKpM,cACiBoB,cAApB1C,iBACQ,GA4BhB,OACE,eAAC9F,EAAA,EAAD,CAAKnJ,UAAWD,EAAIV,KAApB,UACE,eAAC4c,GAAA,EAAD,CAAOjc,UAAWD,EAAIuc,KAAtB,UACE,cAAC7S,EAAA,EAAD,CAAYtJ,QAAQ,KAApB,6CACA,cAACsJ,EAAA,EAAD,CAAYtJ,QAAQ,YAApB,6HAEF,cAACgJ,EAAA,EAAD,CAAKnJ,UAAWD,EAAIxC,KAApB,SACE,cAAC0e,GAAA,EAAD,UACE,eAAC9S,EAAA,EAAD,CAAKnJ,UAAWD,EAAIwc,IAApB,UACE,eAAC/I,GAAA,EAAD,CAAMC,WAAS,EAAC5M,QAAS,EAAzB,UACE,cAAC2M,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAACpJ,GAAA,EAAD,CACEqJ,gBAAiB,CAAEC,QAAQ,GAC3B9J,WAAS,EACToE,MAAM,WACN1D,MAAK,OAAEtS,QAAF,IAAEA,OAAF,EAAEA,EAAOsK,UACdyL,SAAU,SAACvG,GAAD,OAAOwI,EAAS,6BAAKhY,GAAN,IAAasK,UAAWkF,EAAE9O,OAAO4R,UAC1D+B,SAAU+G,MAGd,cAACnJ,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAACpJ,GAAA,EAAD,CACEqJ,gBAAiB,CAAEC,QAAQ,GAC3B9J,WAAS,EACToE,MAAM,uBACN1D,MAAK,OAAEtS,QAAF,IAAEA,OAAF,EAAEA,EAAOd,KACd6W,SAAU,SAACvG,GAAD,OAAOwI,EAAS,6BAAKhY,GAAN,IAAad,KAAMsQ,EAAE9O,OAAO4R,UACrD+B,SAAU+G,SAKhB,eAACnJ,GAAA,EAAD,CAAMC,WAAS,EAAC5M,QAAS,EAAzB,UACE,cAAC2M,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAACpJ,GAAA,EAAD,CACEqJ,gBAAiB,CAAEC,QAAQ,GAC3B9J,WAAS,EACToE,MAAM,QACN1D,MAAK,OAAEtS,QAAF,IAAEA,OAAF,EAAEA,EAAOR,MACduW,SAAU,SAACvG,GAAD,OAAOwI,EAAS,6BAAKhY,GAAN,IAAaR,MAAOgQ,EAAE9O,OAAO4R,UACtD+B,SAAU+G,MAGd,cAACnJ,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAACpJ,GAAA,EAAD,CACEqJ,gBAAiB,CAAEC,QAAQ,GAC3B9J,WAAS,EACToE,MAAM,iBACN1D,MAAK,OAAEtS,QAAF,IAAEA,OAAF,EAAEA,EAAOuK,WACdwL,SAAU,SAACvG,GAAD,OAAOwI,EAAS,6BAAKhY,GAAN,IAAauK,WAAYiF,EAAE9O,OAAO4R,UAC3D+B,SAAU+G,SAIhB,cAAChJ,GAAA,EAAD,CACEqJ,gBAAiB,CAAEC,QAAQ,GAC3B9J,WAAS,EACToE,MAAM,uBACN1D,MAAK,OAAEtS,QAAF,IAAEA,OAAF,EAAEA,EAAON,UACdqW,SAAU,SAACvG,GAAD,OAAOwI,EAAS,6BAAKhY,GAAN,IAAaN,UAAW8P,EAAE9O,OAAO4R,UAC1D+B,SAAU+G,IAEZ,cAAChJ,GAAA,EAAD,CACEqJ,gBAAiB,CAAEC,QAAQ,GAC3B9J,WAAS,EACToE,MAAM,yBACN1D,MAAK,OAAEtS,QAAF,IAAEA,OAAF,EAAEA,EAAOoJ,WACd2M,SAAU,SAACvG,GAAD,OAAOwI,EAAS,6BAAKhY,GAAN,IAAaN,UAAW8P,EAAE9O,OAAO4R,UAC1D+B,SAAU+G,cCvIT,SAAS4J,KACtB,OACE,cAAC,GAAD,CAAMjhB,MAAM,6BAAZ,SACE,eAACkO,GAAA,EAAD,CAAMC,WAAS,EAAC5M,QAAS,EAAzB,UACE,cAAC2M,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAAC,GAAD,MAEF,cAACvJ,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAAC,GAAD,WCLK,SAASyJ,GAAU1mB,GAAQ,IAAD,EACLoQ,mBAAS,IADJ,mBAChCuU,EADgC,KACrBgC,EADqB,KAEjCnW,EAAKC,cACHtB,EAAoB0C,cAApB1C,gBAH+B,SAaxByX,IAbwB,2EAavC,4BAAAjpB,EAAA,+EAE2BpB,IAAMwV,IAAN,uCAA0C4S,IAFrE,QAEU3S,EAFV,QAGkBlC,MAAMX,EAAgB,yDAAiCwV,EAAWhW,IAChF6B,EAAGtD,GAAY8E,EAASlC,OAJ5B,gDAMIiM,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAP7E,0DAbuC,sBAuBvC,OAjBApF,qBAAU,WACR,OAAO,WACLqH,EAAGtD,GAAY,UAGhB,IAaD,cAACiP,GAAA,EAAD,UACE,eAAC9S,EAAA,EAAD,CAAK+S,GAAI,EAAG0C,GAAI,EAAGtf,QAAQ,OAAO+J,WAAW,WAA7C,UACE,cAACsK,GAAA,EAAD,CACE4D,MAAM,6BACNyF,gBAAiB,CAAEC,QAAQ,GAC3B5I,WAAS,EACTR,MAAO4Q,EACPnN,SAAU,SAACvG,GAAD,OAAO0V,EAAa1V,EAAE9O,OAAO4R,QACvC8S,UAAW,SAAC5V,GACI,UAAVA,EAAE1O,KACJqkB,OAIN,cAACvd,EAAA,EAAD,CAAK+S,GAAI,EAAT,SACE,cAAC3U,EAAA,EAAD,CAAQpH,QAAQ,YAAYoG,MAAM,UAAUuK,QAAS4V,EAArD,uB,gEC3CK,SAASE,GAAT,GAAyB,IAAD,EA+BvC,SAA6BX,GAC3B,IAAM7M,EAAO6I,GAAgBgE,EAAK/D,MAC9B2E,EAAY,CACd,uBAAaZ,EAAKxlB,KAClB,eAAawlB,EAAKvB,SAClB,oBAAauB,EAAKa,OAClBC,mBAAQd,EAAKe,WACb,oBAAaf,EAAKgB,QAClB,sBAAahB,EAAKiB,OAClB,gCAAkBjB,EAAKkB,UAErBC,EAAY,CACd,qBAAYnB,EAAKoB,MACjB,yCAAqBpB,EAAKqB,QAC1B,oBAAWrB,EAAKsB,cAChB,mBAAYtB,EAAKuB,UACjB,6BAAevB,EAAKwB,WAEpB,mCAAkBxB,EAAKyB,cACvBC,KAAMvO,GAER,MAAO,CAACyN,EAAWO,GAnDYQ,CADM,EAAR3B,MAAQ,mBAC9BY,EAD8B,KACnBO,EADmB,KAErC,OACE,eAAC5T,GAAA,EAAD,CAAMC,WAAS,EAAf,UACE,cAACD,GAAA,EAAD,CAAMrN,MAAI,EAACqP,GAAI,GAAIuH,GAAI,EAAvB,SACE,cAAC,GAAD,CAAaO,KAAMuJ,MAErB,cAACrT,GAAA,EAAD,CAAMrN,MAAI,EAACqP,GAAI,GAAIuH,GAAI,EAAvB,SACE,cAAC,GAAD,CAAaO,KAAM8J,SAM3B,SAASpG,GAAT,GAAgC,IAAT1D,EAAQ,EAARA,KACrB,OACE,cAACO,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAOlW,KAAK,QAAZ,SACE,cAACmW,GAAA,EAAD,UACGtc,OAAOomB,QAAQvK,GAAM1T,KAAI,SAACke,EAAOhd,GAAR,OACxB,eAACmT,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAWpY,MAAO,CAAExI,MAAO,OAA3B,SAAqCwqB,EAAM,KAC3C,cAAC5J,GAAA,EAAD,UAAY4J,EAAM,OAFLhd,Y,6CCHrBhO,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,GACN0oB,KAAM,CACJzoB,QAAS,OACT+J,WAAY,cAID,SAAS2e,GAAT,GAA0B,IAAT/B,EAAQ,EAARA,KACxBlmB,EAAMjD,KACNwT,EAAKC,cACHtB,EAAoB0C,cAApB1C,gBAH8B,EAIIiB,mBAAS,MAJb,mBAI/B+X,EAJ+B,KAIhBC,EAJgB,iDAMtC,WAAwBjC,GAAxB,MAwBiBkC,EAxBjB,WAAA1qB,EAAA,0FAAAA,EAAA,MAwBE,8BAAAA,EAAA,sEAC8BuR,GAAqBC,GADnD,cACQJ,EADR,yBAG2BxS,IAAM0W,KAAK,4BAA6B,CAAElE,gBAAeoX,SAHpF,OAGUnU,EAHV,OAII7C,EAAgB,oDAAgCR,IAChD6B,EAAGtD,GAAY8E,EAASlC,OAL5B,kDAOIiM,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAR7E,2DAxBF,uBAwBiB8Z,EAxBjB,2CACQC,EACJ,eAACnV,GAAA,EAAD,CAAQ9I,MAAM,EAAMD,QAAS,kBAAMge,EAAiB,OAApD,UACE,cAAC9U,GAAA,EAAD,UACE,cAAC3J,EAAA,EAAD,CAAYtJ,QAAQ,KAApB,SAA0B,uCAE5B,cAACkT,GAAA,EAAD,UACE,cAACgV,GAAA,EAAD,yKAEF,eAACC,GAAA,EAAD,WACE,cAAC/gB,EAAA,EAAD,CAAQuJ,QAAS,kBAAMoX,EAAiB,OAAxC,oBACA,cAAC3gB,EAAA,EAAD,CACEhB,MAAM,UACNuK,QAAS,WACPoX,EAAiB,MACjBC,KAJJ,uBAyBND,EAAiBE,GApCnB,4CANsC,kEA6CtC,WAA0BnC,GAA1B,iBAAAxoB,EAAA,sEAC8BuR,GAAqBC,GADnD,cACQJ,EADR,yBAG2BxS,IAAM0W,KAAK,8BAA+B,CAAElE,gBAAeoX,SAHtF,OAGUnU,EAHV,OAII7C,EAAgB,yDAAgCP,IAChD4B,EAAGtD,GAAY8E,EAASlC,OAL5B,kDAOIiM,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAR7E,2DA7CsC,sBAyDtC,OACE,cAAClF,EAAA,EAAD,CAAK+S,GAAI,EAAG0C,GAAI,EAAGtf,QAAQ,OAAOmH,eAAe,gBAAgB4C,WAAW,SAA5E,SACiB,WAAd4c,EAAKpY,KACJ,qCACE,eAACpE,EAAA,EAAD,CAAYtJ,QAAQ,KAAKH,UAAWD,EAAIgoB,KAAxC,yDAC8B,cAAC,KAAD,CAAkBxhB,MAAM,iBAQtD,cAACgB,EAAA,EAAD,CAAQhB,MAAM,UAAUpG,QAAQ,WAAW2Q,QAAS,SAACC,GAAD,OAtEtB,2CAsE6BwX,CAAWtC,IAAtE,kCAKF,qCACE,eAACxc,EAAA,EAAD,CAAYtJ,QAAQ,KAAKH,UAAWD,EAAIgoB,KAAxC,yDAC8B,cAAC,KAAD,CAAWjiB,MAAO,CAAES,MAAO,cAQzD,cAACgB,EAAA,EAAD,CAAQhB,MAAM,YAAYpG,QAAQ,WAAW2Q,QAAS,SAACC,GAAD,OArFxB,2CAqF+ByX,CAASvC,IAAtE,0BAGCgC,OChHI,SAASQ,GAAT,GAAyC,IAATxC,EAAQ,EAARA,KAC7C,OACE,eAAChK,GAAA,EAAD,WACE,cAAC+L,GAAD,CAAO/B,KAAMA,IACb,cAACvc,EAAA,EAAD,IACA,cAACkd,GAAD,CAAMX,KAAMA,OCJlB,IAAMnpB,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJgS,YAAa,EACb,mDAAoD,CAClDH,KAAM,EACN/T,QAAS,QAKA,SAASurB,GAAa5oB,GACnC,IAAMC,EAAMjD,KAENiQ,EAAW/D,aAAY,SAACzH,GAAD,OAAWA,EAAMuL,uBAAuBC,YAC/D4b,EAAc,OAAG5b,QAAH,IAAGA,OAAH,EAAGA,EAAUiZ,SAASjZ,EAASiZ,SAASlkB,OAAS,GACrE,OACE,8BACGiL,GAEC,eAAC6b,GAAA,EAAD,CAAUtV,MAAM,OAAOtT,UAAWD,EAAIV,KAAtC,UACE,eAACwpB,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAaxiB,MAA+B,WAAxBoiB,EAAe9a,KAAoB,YAAc,YACrE,cAACmb,GAAA,EAAD,OAEF,eAACC,GAAA,EAAD,WACE,cAAChN,GAAA,EAAD,CAAOnW,MAAO,CAAE3I,QAAS,GAAzB,SACE,eAACsM,EAAA,EAAD,sBACOsD,EAASiZ,SAASlkB,OADzB,YACmCugB,GAAiBsG,EAAerG,WADnE,MAEE,iCAAiC,WAAxBqG,EAAe9a,MAAqB,iBAC7C,iCAAiC,WAAxB8a,EAAe9a,MAAqB,oCAC7C,iCAAiC,aAAxB8a,EAAe9a,MAAuB,2BAGnD,cAAC1E,EAAA,EAAD,CAAKmL,GAAI,EAAT,SACE,cAACmU,GAAD,CAAsBxC,KAAMlZ,EAASiZ,SAASjZ,EAASiZ,SAASlkB,OAAS,aAI9EiL,EAASiZ,SACP5D,MAAM,GAAI,GACV8G,UACAtf,KAAI,SAACuf,EAASre,GAAV,OACH,eAAC+d,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAaxiB,MAAwB,WAAjB4iB,EAAQtb,KAAoB,YAAc,YAC7D/C,IAAUiC,EAASiZ,SAASlkB,OAAS,GAAK,cAACknB,GAAA,EAAD,OAE7C,cAACC,GAAA,EAAD,UACE,cAAChN,GAAA,EAAD,CAAOnW,MAAO,CAAE3I,QAAS,GAAzB,SACE,eAACsM,EAAA,EAAD,sBACO0f,EAAQA,QADf,aAC2B9G,GAAiB8G,EAAQ7G,WADpD,MAEE,iCAA0B,WAAjB6G,EAAQtb,MAAqB,iBACtC,iCAA0B,WAAjBsb,EAAQtb,MAAqB,oCACtC,iCAA0B,aAAjBsb,EAAQtb,MAAuB,wCCvD/C,SAASub,KACtB,OACE,eAAC,GAAD,CAAM9jB,MAAM,kCAAZ,UACE,cAACkhB,GAAD,IACA,cAACrd,EAAA,EAAD,CAAKmL,GAAI,EAAT,SACE,cAACoU,GAAD,S,8CCVSzS,GAAc7K,EAAQ,KAA/BnN,QACAvB,GAAa0O,EAAQ,IAArB1O,SAER,SAAS2sB,KACP,IACMvT,EADQpZ,KACSqZ,MAAM,KAAK,GAElC,OADqBE,GAAUH,GACXI,cCwBtB,IAAMpZ,GAAYC,aAAW,SAACa,GAAD,MAAY,CACvCyB,KAAM,CACJgS,YAAa,EACb,mDAAoD,CAClDH,KAAM,EACN/T,QAAS,GAEX,wBAAyB,CACvBkU,YAAa,QAEf,qCAAsC,CACpC9K,MAAO,UAGX+iB,gBAAiB,CACfjgB,WAAY,SACZ5C,eAAgB,qBAIL,SAAS8iB,GAAYzpB,GAClC,IAAMC,EAAMjD,KAD6B,EAEToT,oBAAS,GAFA,mBAElCvP,EAFkC,KAExB6oB,EAFwB,OAGXtZ,mBAAS,IAHE,mBAGlC/I,EAHkC,KAGzBsiB,EAHyB,OAKDvZ,mBAAS,MALR,mBAKlCwZ,EALkC,KAKpBC,EALoB,KAOnCC,EACe,IAAnBziB,EAAQrF,OACJ,KACAqF,EAAQ0iB,QAAO,SAACC,EAAa3d,GAE3B,OADA2d,EAAY3d,EAAM4d,UAAlB,uBAAmCD,EAAY3d,EAAM4d,WAAa,IAAlE,CAAuE5d,IAChE2d,IACN,IAED7a,EAAoB0C,cAApB1C,gBAfiC,4CAsBzC,4BAAAxR,EAAA,+EAE2BpB,IAAMwV,IAAI,uBAFrC,OAEUC,EAFV,OAGI2X,EAAW3X,EAASlC,MACpB4Z,GAAY,GAJhB,gDAMI3N,QAAQe,IAAR,MACAf,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAR7E,0DAtByC,kEAwDzC,WAA2B2b,GAA3B,eAAAvsB,EAAA,yDAEQ0O,EAAQhF,EAAQ8iB,MAAK,SAAC9E,GAAD,OAASA,EAAI6E,UAAYA,MACnC7d,EAAM+d,SAASC,MAAK,SAACC,GAAa,IAAD,IAC1CC,EAAS,UAAGD,EAAQpE,gBAAX,aAAG,EAAmB,GAAGsE,kBAClCC,EAAYF,GAAahT,SAASmT,OAAOH,IAAcG,OAAOH,GAAa,IAAMG,OAAOH,GAAa,GACrGI,EAAU,UAAGL,EAAQpE,gBAAX,aAAG,EAAmB,GAAG0E,mBACnCC,EAAaF,GAAcpT,SAASmT,OAAOC,IAAeD,OAAOC,GAAc,IAAMD,OAAOC,GAAc,GAChH,OAAOF,GAAaI,KARxB,uBAWI1b,EAAgB,0FAAkDZ,IAXtE,oDAe6BhS,IAAM0W,KAAK,sBAAuB,CAAE5G,UAfjE,eAgBM8C,EAAgB,oCAAuBP,IAhB7C,kDAkBMmN,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAnB/E,2DAxDyC,kEAgFzC,WAA6B2b,GAA7B,iBAAAvsB,EAAA,yDACQ0O,EAAQhF,EAAQ8iB,MAAK,SAAC9E,GAAD,OAASA,EAAI6E,UAAYA,MACnC7d,EAAM+d,SAASC,MAAK,SAACC,GAAa,IAAD,IAC1CC,EAAS,UAAGD,EAAQpE,gBAAX,aAAG,EAAmB,GAAGsE,kBAClCC,EAAYF,GAAahT,SAASmT,OAAOH,IAAcG,OAAOH,GAAa,IAAMG,OAAOH,GAAa,GACrGI,EAAU,UAAGL,EAAQpE,gBAAX,aAAG,EAAmB,GAAG0E,mBACnCC,EAAaF,GAAcpT,SAASmT,OAAOC,IAAeD,OAAOC,GAAc,IAAMD,OAAOC,GAAc,GAChH,OAAOF,GAAaI,KAPxB,uBAUI1b,EAAgB,0FAAkDZ,IAVtE,8BAauBlC,EAAM+d,SAASC,MAAK,SAACC,GAAa,IAAD,IAC5CC,EAAS,UAAGD,EAAQpE,gBAAX,aAAG,EAAmB,GAAGsE,kBAClCG,EAAU,UAAGL,EAAQpE,gBAAX,aAAG,EAAmB,GAAG0E,mBACzC,OAAQL,IAAcI,KAhB5B,wBAmBMxb,EAAgB,2HAA0DZ,IAnBhF,2BAsBUgb,MACIjB,EACJ,cAACjW,GAAD,CACEhI,MAAM,EACNiI,SAAU,kBAAMuX,EAAgB,OAChCpX,OAAQ,WACNtD,EAAgB,oEAA4CZ,KAE9DiE,UAAW,WACTqX,EAAgB,MAChBiB,EAAUZ,MAIhBL,EAAgBvB,IAEhBwC,EAAUZ,GAtClB,6CAhFyC,+BA4H1BY,EA5H0B,8EA4HzC,WAAyBZ,GAAzB,uBAAAvsB,EAAA,6DACQ0O,EAAQhF,EAAQ8iB,MAAK,SAAC9E,GAAD,OAASA,EAAI6E,UAAYA,KADtD,SAE8Bhb,GAAqBC,GAFnD,cAEQJ,EAFR,yBAI2BxS,IAAM0W,KAAK,wBAAyB,CAAElE,gBAAe1C,UAJhF,OAIU2F,EAJV,OAKU+Y,EALV,aAK6B1jB,GACnB2jB,EAAOD,EAAaZ,MAAK,SAAC9E,GAAD,OAASA,EAAI6E,UAAY7d,EAAM6d,WAC9DvoB,OAAOC,OAAOopB,EAAMhZ,EAASlC,MAC7B6Z,EAAWoB,GACX5b,EAAgB,2CAAuBP,IAT3C,kDAWImN,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAZ7E,2DA5HyC,sBAiBzCpF,qBAAU,YAjB+B,mCAkBvC8hB,KAEC,IAwHH,IAAMzqB,EAAWspB,EAGf,qCACG,IACD,cAAChB,GAAA,EAAD,CAAU5oB,UAAWD,EAAIV,KAAzB,SACGoC,OAAOomB,QAAQ+B,GAA0BhgB,KAAI,SAACke,EAAOhd,GACpD,OACE,eAAC+d,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAaxiB,MAAM,YAEnB,cAACyiB,GAAA,EAAD,OAEF,cAACC,GAAA,EAAD,UACE,eAAC9f,EAAA,EAAD,WAEE,cAACM,EAAA,EAAD,CAAY2S,cAAY,EAACjc,QAAQ,KAAjC,yBAA6C2nB,EAAM,MAGnD,cAAC3e,EAAA,EAAD,CAAK+S,GAAI,EAAT,SACG4L,EAAM,GAAGle,KAAI,SAACuC,GACb,IAAMwQ,EAAUxQ,EAAM6e,WACtB,OACE,eAACnH,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAkBC,WAAY,cAAC,KAAD,IAA9B,6BACW5X,EAAM6d,QADjB,cAC8B7d,EAAMI,QAAQD,UAD5C,cAC2DH,EAAMI,QAAQC,eAGzE,cAACyX,GAAA,EAAD,UACE,cAACpG,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,CAAOlW,KAAK,QAAZ,UACE,cAACsZ,GAAA,EAAD,UACE,eAACjD,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,gBACA,cAACA,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,mCACA,cAACA,GAAA,EAAD,2BACA,cAACA,GAAA,EAAD,oBACA,cAACA,GAAA,EAAD,CAAWpY,MAAO,CAAExI,MAAO,SAA3B,+BACA,cAAC4gB,GAAA,EAAD,CAAWpY,MAAO,CAAExI,MAAO,SAA3B,+BACCqf,GAAW,cAACuB,GAAA,EAAD,wBAGhB,cAACH,GAAA,EAAD,UACG5R,EAAM+d,SAAStgB,KAAI,SAACwgB,EAAStf,GAAW,IAAD,IAChCuf,EAAS,UAAGD,EAAQpE,gBAAX,aAAG,EAAmB,GAAGsE,kBAClCC,EACJF,GAAahT,SAASmT,OAAOH,IAAcG,OAAOH,GAAa,IAAMG,OAAOH,GAAa,GACrFI,EAAU,UAAGL,EAAQpE,gBAAX,aAAG,EAAmB,GAAG0E,mBACnCC,EACJF,GAAcpT,SAASmT,OAAOC,IAAeD,OAAOC,GAAc,IAAMD,OAAOC,GAAc,GAC/F,OACE,eAACxM,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UAAYpT,EAAQ,IACpB,cAACoT,GAAA,EAAD,UAAYkM,EAAQ3F,YACpB,cAACvG,GAAA,EAAD,UAAYkM,EAAQ3pB,OACpB,cAACyd,GAAA,EAAD,UAAYkM,EAAQ1F,WACpB,cAACxG,GAAA,EAAD,UAAYkM,EAAQrpB,QACpB,cAACmd,GAAA,EAAD,UACE,cAACvK,GAAA,EAAD,CAEEE,MAAOwW,EACP/S,SAAU,SAACvG,GAAD,OAzKpD,SAA8BiZ,EAASiB,EAAcla,GACnD,IAAM8Z,EAAY,aAAO1jB,GACnBgF,EAAQ0e,EAAaZ,MAAK,SAAC9E,GAAD,OAASA,EAAI6E,UAAYA,KACpD7d,EAAM+d,SAASe,GAAcjF,SAGhC7Z,EAAM+d,SAASe,GAAcjF,SAAS,GAAGsE,kBAAoBvZ,EAAE9O,OAAO4R,MAFtE1H,EAAM+d,SAASe,GAAcjF,SAAW,CAAC,CAAEsE,kBAAmBvZ,EAAE9O,OAAO4R,QAIzE4V,EAAWoB,GAiK8CK,CAAqB/e,EAAM6d,QAASlf,EAAOiG,IAC5D0G,MAAO8S,EACPxQ,WAAYwQ,GAAa,iBACzB3U,SAAU+G,MAGd,cAACuB,GAAA,EAAD,UACE,cAACvK,GAAA,EAAD,CAEEE,MAAO4W,EACPnT,SAAU,SAACvG,GAAD,OAxKpD,SAA+BiZ,EAASiB,EAAcla,GACpD,IAAM8Z,EAAY,aAAO1jB,GACnBgF,EAAQ0e,EAAaZ,MAAK,SAAC9E,GAAD,OAASA,EAAI6E,UAAYA,KACpD7d,EAAM+d,SAASe,GAAcjF,SAGhC7Z,EAAM+d,SAASe,GAAcjF,SAAS,GAAG0E,mBAAqB3Z,EAAE9O,OAAO4R,MAFvE1H,EAAM+d,SAASe,GAAcjF,SAAW,CAAC,CAAE0E,mBAAoB3Z,EAAE9O,OAAO4R,QAI1E4V,EAAWoB,GAgK8CM,CAAsBhf,EAAM6d,QAASlf,EAAOiG,IAC7D0G,MAAOkT,EACP5Q,WAAY4Q,GAAc,iBAC1B/U,SAAU+G,MAGbA,GAAW,eAACuB,GAAA,EAAD,WAAY+D,GAAgBmI,EAAQpE,SAAS,GAAG9D,KAAM,IAAtD,SA1BCpX,eAkC3B,eAACoZ,GAAA,EAAD,WACE,cAAC3c,EAAA,EAAD,CACE4c,UAAW,cAAC,KAAD,IACXhkB,QAAQ,YAER2Q,QAAS,SAACC,GAAD,OAxOI,2CAwOGqa,CAAYjf,EAAM6d,UAClCpU,SAAU+G,EALZ,8BASA,cAACpV,EAAA,EAAD,CACE4c,UAAW,cAAC,KAAD,IACXhkB,QAAQ,YACRoG,MAAM,UACNuK,QAAS,SAACC,GAAD,OAjPI,2CAiPGsa,CAAclf,EAAM6d,UACpCpU,SAAU+G,EALZ,6DAoBrB+M,KApHH,sDAwHF,OAAO,cAAC,GAAD,CAAMpkB,MAAM,6CAAZ,SAAiC3E,EAAW,KAAOL,ICtT7C,SAASgrB,GAAT,GAA4D,IAApCtB,EAAmC,EAAnCA,QAASuB,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,WAC1D,OACE,cAACvP,GAAA,EAAD,UACE,eAAC9S,EAAA,EAAD,CAAK+S,GAAI,EAAG0C,GAAI,EAAGtf,QAAQ,OAAO+J,WAAW,WAA7C,UACE,cAACsK,GAAA,EAAD,CACE4D,MAAM,iBACNyF,gBAAiB,CAAEC,QAAQ,GAC3B5I,WAAS,EACTR,MAAOmW,EACP1S,SAAU,SAACvG,GAAD,OAAOwa,EAAWxa,EAAE9O,OAAO4R,QACrC8S,UAAW,SAAC5V,GACI,UAAVA,EAAE1O,KACJmpB,OAIN,cAACriB,EAAA,EAAD,CAAK+S,GAAI,EAAT,SACE,cAAC3U,EAAA,EAAD,CAAQpH,QAAQ,YAAYoG,MAAM,UAAUuK,QAAS0a,EAArD,uBChBK,SAASC,GAAT,GAAsC,IAAbC,EAAY,EAAZA,SAAY,EACAxb,qBADA,mBAC3Coa,EAD2C,KACxBqB,EADwB,OAEEzb,qBAFF,mBAE3Cwa,EAF2C,KAEvBkB,EAFuB,KAIlD,OACE,eAACpY,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,gBAAgBrK,WAAW,SAAnD,UACE,cAACmK,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAACtT,EAAA,EAAD,CAAYtJ,QAAQ,KAApB,kDAEF,cAACqT,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAACpJ,GAAA,EAAD,CACExT,QAAQ,WACRoG,MAAM,UACNqB,KAAK,QACL2P,MAAM,oBACN1D,MAAOyW,EACPhT,SAAU,SAACvG,GAAD,OAAO4a,EAAqB5a,EAAE9O,OAAO4R,YAGnD,cAACL,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAACpJ,GAAA,EAAD,CACExT,QAAQ,WACRoG,MAAM,UACNqB,KAAK,QACL2P,MAAM,oBACN1D,MAAO6W,EACPpT,SAAU,SAACvG,GAAD,OAAO6a,EAAsB7a,EAAE9O,OAAO4R,YAGpD,cAACL,GAAA,EAAD,CAAMrN,MAAI,EAACoP,GAAI,GAAIwH,GAAI,EAAvB,SACE,cAACxV,EAAA,EAAD,CACEpH,QAAQ,YACRoG,MAAM,UACNuK,QAAS,SAACC,GACR2a,EAASpB,EAAmBI,GAC5BiB,EAAqB,IACrBC,EAAsB,KAN1B,yBC9BO,SAASC,GAAT,GAAwC,IAAZzB,EAAW,EAAXA,QACzC,OACE,qCACE,cAAC3gB,EAAA,EAAD,CAAYtJ,QAAQ,KAApB,8CACA,cAAC0d,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,CAAOlW,KAAK,QAAZ,UACE,cAACsZ,GAAA,EAAD,UACE,eAACjD,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,gBACA,cAACA,GAAA,EAAD,gCACA,cAACA,GAAA,EAAD,gCACA,cAACA,GAAA,EAAD,6BACA,cAACA,GAAA,EAAD,wBAGJ,cAACH,GAAA,EAAD,UACGqM,EAAQpE,SAASpc,KAAI,SAACuf,EAAS2C,GAC9B,OACE,eAAC7N,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UAAY4N,EAAS,IACrB,cAAC5N,GAAA,EAAD,UAAYiL,EAAQmB,oBACpB,cAACpM,GAAA,EAAD,UAAYiL,EAAQuB,qBACpB,cAACxM,GAAA,EAAD,UAAYmE,GAAiB8G,EAAQ7G,aACrC,cAACpE,GAAA,EAAD,UAAY+D,GAAgBkH,EAAQjH,KAAM,sBCb5D,IAAM6J,GAAehvB,YAAW,CAC9BsC,KAAM,CACJ,QAAS,CACP2sB,aAAc,UAGlBC,SAAU,CACR5a,YAAa,EACb,mDAAoD,CAClDH,KAAM,EACN/T,QAAS,MAKA,SAAS+uB,GAAuBpsB,GAAQ,IAC7CqM,EAAoCrM,EAApCqM,MAAOie,EAA6BtqB,EAA7BsqB,QAAStf,EAAoBhL,EAApBgL,MAAOqhB,EAAarsB,EAAbqsB,SADqB,EAE5Bjc,oBAAS,GAFmB,mBAE7C/F,EAF6C,KAEvCiiB,EAFuC,KAG9CrsB,EAAMgsB,KACJ9c,EAAoB0C,cAApB1C,gBAJ4C,EAMZiB,mBAAS,MANG,mBAM7CwZ,EAN6C,KAM/BC,EAN+B,iDAQpD,WAAwBW,EAAmBI,GAA3C,SAAAjtB,EAAA,sDACM4rB,KACFM,EACE,cAACxX,GAAD,CACEhI,MAAM,EACNiI,SAAU,kBAAMuX,EAAgB,OAChCpX,OAAQ,WACNtD,EAAgB,oEAA4CZ,KAE9DiE,UAAW,WACTqX,EAAgB,MAChB0C,EAAgB/B,EAAmBI,OAKzC2B,EAAgB/B,EAAmBI,GAhBvC,4CARoD,+BA4BrC2B,EA5BqC,gFA4BpD,WAA+B/B,EAAmBI,GAAlD,mBAAAjtB,EAAA,sEAC8BuR,GAAqBC,GADnD,cACQJ,EADR,yBAG2BxS,IAAM0W,KAAK,sBAAuB,CACvDlE,gBACA1C,QACAie,UACAE,oBACAI,uBARN,OAGU5Y,EAHV,OAUUwa,EAVV,gBAU6BngB,GACAmgB,EAAYpC,SAASD,MAAK,SAACsC,GAAD,OAASA,EAAI9H,YAAc2F,EAAQ3F,aACrEuB,SAASta,KAAKoG,EAASlC,MACxCuc,EAASG,GACTrd,EAAgB,4CAAwBP,IAd5C,kDAgBImN,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAjB7E,2DA5BoD,sBAiDpD,OACE,qCACE,eAAC4P,GAAA,EAAD,CAAUje,UAAWD,EAAIV,KAAzB,UACE,cAAC6e,GAAA,EAAD,UAAYpT,EAAQ,IACpB,cAACoT,GAAA,EAAD,UAAYkM,EAAQ3F,YACpB,cAACvG,GAAA,EAAD,UAAYkM,EAAQ3pB,OACpB,cAACyd,GAAA,EAAD,UAAYkM,EAAQ1F,WACpB,cAACxG,GAAA,EAAD,UAAYkM,EAAQrpB,QACpB,cAACmd,GAAA,EAAD,UACE,cAACvN,GAAA,EAAD,CAAY/I,KAAK,QAAQkJ,QAAS,kBAAMsb,GAASjiB,IAAjD,SACGA,EAAO,cAAC,KAAD,IAA0B,cAAC,KAAD,WAIxC,cAAC8T,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAWpY,MAAO,CAAEO,cAAe,EAAGD,WAAY,GAAKomB,QAAS,EAAhE,SACE,cAACvN,GAAA,EAAD,CAAUhU,GAAId,EAAMsiB,QAAQ,OAAOC,eAAa,EAAhD,SACE,cAACvjB,EAAA,EAAD,CAAK+S,GAAI,EAAGhH,GAAI,EAAhB,SACE,eAAC/L,EAAA,EAAD,CAAKG,EAAG,EAAGqjB,OAAO,iBAAlB,UACE,cAACd,GAAD,CAAkBzB,QAASA,IAC3B,cAACjhB,EAAA,EAAD,CAAKmL,GAAI,IACT,cAACmX,GAAD,CAAeC,SAtEuB,gDAuErChC,gBC1FF,SAASkD,KAAa,IAAD,EACR1c,oBAAS,GADD,mBAC3B/D,EAD2B,KACpBggB,EADoB,OAEJjc,mBAAS,IAFL,mBAE3B8Z,EAF2B,KAElBuB,EAFkB,KAG1Btc,EAAoB0C,cAApB1C,gBAH0B,4CAKlC,4BAAAxR,EAAA,+EAE2BpB,IAAMwV,IAAI,oBAAsBmY,GAF3D,OAEUlY,EAFV,OAGIqa,EAASra,EAASlC,MAHtB,gDAKIiM,QAAQpE,MAAR,MACI,KAAM3F,UAAU7C,EAAgB+F,KAAKC,UAAU,KAAMnD,SAASlC,MAAOvB,IAN7E,0DALkC,sBAelC,OACE,eAAC,GAAD,CAAM/I,MAAM,0BAAZ,UACE,cAACgmB,GAAD,gBAAkB,CAAEtB,UAASuB,aAAYC,WAjBX,8CAkB9B,cAACriB,EAAA,EAAD,CAAKmL,GAAI,EAAT,eAGW,OAAVnI,GACC,cAAC8P,GAAA,EAAD,UACE,cAAC9S,EAAA,EAAD,CAAKG,EAAG,EAAR,SACE,cAACG,EAAA,EAAD,uDAAmCugB,SAMxC7d,IAAUA,EAAM6e,YACf,cAAC/O,GAAA,EAAD,UACE,cAAC9S,EAAA,EAAD,CAAKG,EAAG,EAAR,SACE,cAACG,EAAA,EAAD,0FAML0C,GAASA,EAAM6e,YACd,cAAC/O,GAAA,EAAD,UACE,cAAC9S,EAAA,EAAD,CAAK+S,GAAI,EAAG0C,GAAI,EAAhB,SACE,cAACf,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACoD,GAAA,EAAD,UACE,eAACjD,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,gBACA,cAACA,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,mCACA,cAACA,GAAA,EAAD,2BACA,cAACA,GAAA,EAAD,oBACA,cAACA,GAAA,EAAD,SAGJ,cAACH,GAAA,EAAD,UACG5R,EAAM+d,SAAStgB,KAAI,SAACwgB,EAAStf,GAC5B,OACE,cAACohB,GAAD,CAEE9B,QAASA,EACTtf,MAAOA,EACPqB,MAAOA,EACPggB,SAAUA,GAJLrhB,oBCD7B,SAAS+hB,GAAW/sB,GAClB,IAAMmO,E3D1CWnS,yBACCG,aAAaU,QAAQ,QAAUR,eAAeQ,QAAQ,Q2D0CpEgL,EAAK,GAQT,OAPKsG,EAEMA,IAASF,GAClBpG,EAAK,2BACIsG,IAASF,KAClBpG,EAAK,iCAJLA,EAAK,aAMA,cAAC,IAAD,CAAUA,GAAIA,IAGRmlB,OArDA,CACb,CACEC,KAAM,UACNC,QAAS,cAAC,GAAD,IACTxU,SAAU,CACR,CAAEuU,KAAM,mBAAoBC,QAAS,cAAC1O,GAAD,KACrC,CAAEyO,KAAM,WAAYC,QAAS,cAACzN,GAAD,KAE7B,CAAEwN,KAAM,oBAAqBC,QAAS,cAAC3I,GAAD,KACtC,CAAE0I,KAAM,mBAAoBC,QAAS,cAACrI,GAAD,KAErC,CAAEoI,KAAM,iBAAkBC,QAAS,cAAC,GAAD,KACnC,CAAED,KAAM,kBAAmBC,QAAS,cAAC7G,GAAD,KACpC,CAAE4G,KAAM,mBAAoBC,QAAS,cAAC5D,GAAD,KACrC,CAAE2D,KAAM,IAAKC,QAAS,cAAC,IAAD,CAAUrlB,GAAG,OAAOslB,SAAS,OAGvD,CACEF,KAAM,cACNC,QAAS,cAAC,GAAD,IACTxU,SAAU,CACR,CAAEuU,KAAM,oBAAqBC,QAAS,cAACzG,GAAD,KACtC,CAAEwG,KAAM,oBAAqBC,QAAS,cAACzD,GAAD,KACtC,CAAEwD,KAAM,WAAYC,QAAS,cAACJ,GAAD,KAC7B,CAAEG,KAAM,IAAKC,QAAS,cAAC,IAAD,CAAUrlB,GAAG,OAAOslB,SAAS,OAGvD,CACEF,KAAM,IACNC,QAAS,cAAC,GAAD,IACTxU,SAAU,CAER,CAAEuU,KAAM,YAAaC,QAAS,cAAC3T,GAAD,KAC9B,CAAE0T,KAAM,MAAOC,QAAS,cAAC,GAAD,KACxB,CAAED,KAAM,IAAKC,QAAS,cAACH,GAAD,KACtB,CAAEE,KAAM,IAAKC,QAAS,cAAC,IAAD,CAAUrlB,GAAG,OAAOslB,SAAS,QCtC1CC,GAbH,WACV,IAAMC,EAAUC,YAAUN,IAE1B,OACE,eAACO,EAAA,EAAD,CAAezvB,MAAOA,EAAtB,UACE,cAAC,EAAD,IACA,cAAC,IAAD,CAAU0vB,MAAOA,GAAjB,SACE,cAAC,IAAD,CAAkBC,SAAU,EAA5B,SAAgCJ,UCVxC9wB,IAAMC,SAASkxB,QAAf,UAA4BrL,qCAA5B,aACA9lB,IAAMC,SAASC,QAAQC,OAAvB,cAAiDE,sBAEjD+wB,IAASC,OACP,cAAC,IAAD,UACE,cAAC,GAAD,MAEF3gB,SAAS4gB,eAAe,W","file":"static/js/main.c3267d28.chunk.js","sourcesContent":["import axios from \"axios\";\n\nlet remember = true;\n\nfunction setRemember(_remember) {\n  remember = _remember;\n}\n\nfunction getRemember() {\n  return remember;\n}\n\nfunction setToken(token) {\n  if (remember) localStorage.setItem(\"token\", \"Bearer \" + token);\n  else sessionStorage.setItem(\"token\", \"Bearer \" + token);\n}\n\nfunction setSessionToken(token) {\n  axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token;\n  sessionStorage.setItem(\"token\", \"Bearer \" + token);\n}\n\nfunction setLocalToken(token) {\n  axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token;\n  localStorage.setItem(\"token\", \"Bearer \" + token);\n}\n\nfunction getToken() {\n  if (remember) return localStorage.getItem(\"token\");\n  else return sessionStorage.getItem(\"token\");\n}\n\nfunction clearToken() {\n  if (remember) {\n    axios.defaults.headers.common[\"Authorization\"] = null;\n    localStorage.removeItem(\"token\");\n  } else {\n    sessionStorage.removeItem(\"token\");\n  }\n}\n\nexport { setSessionToken, setLocalToken, getToken, clearToken, setRemember, getRemember, setToken };\n","import { createStyles, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(() => createStyles({\n  '@global': {\n    '*': {\n      boxSizing: 'border-box',\n      margin: 0,\n      padding: 0,\n    },\n    html: {\n      '-webkit-font-smoothing': 'antialiased',\n      '-moz-osx-font-smoothing': 'grayscale',\n      height: '100%',\n      width: '100%'\n    },\n    body: {\n      backgroundColor: '#f4f6f8',\n      height: '100%',\n      width: '100%'\n    },\n    a: {\n      textDecoration: 'none'\n    },\n    '#root': {\n      height: '100%',\n      width: '100%'\n    }\n  }\n}));\n\nconst GlobalStyles = () => {\n  useStyles();\n\n  return null;\n};\n\nexport default GlobalStyles;\n","import { createMuiTheme, colors } from \"@material-ui/core\";\nimport shadows from \"./shadows\";\nimport typography from \"./typography\";\nimport blue from \"@material-ui/core/colors/blue\";\nimport pink from \"@material-ui/core/colors/pink\";\n\nconst theme = createMuiTheme({\n  palette: {\n    background: {\n      dark: \"#F4F6F8\",\n      default: colors.common.white,\n      paper: colors.common.white,\n    },\n    // primary: blue,\n    // primary: {\n    //   main: blue,\n    // },\n    // secondary: pink,\n    // secondary: {\n    //   main: pink,\n    // },\n    text: {\n      primary: colors.blueGrey[900],\n      secondary: colors.blueGrey[600],\n    },\n  },\n  shadows,\n  typography,\n});\n\nexport default theme;\n","export default [\n  'none',\n  '0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)'\n];\n","export default {\n  h1: {\n    fontWeight: 500,\n    fontSize: 35,\n    letterSpacing: '-0.24px'\n  },\n  h2: {\n    fontWeight: 500,\n    fontSize: 29,\n    letterSpacing: '-0.24px'\n  },\n  h3: {\n    fontWeight: 500,\n    fontSize: 24,\n    letterSpacing: '-0.06px'\n  },\n  h4: {\n    fontWeight: 500,\n    fontSize: 20,\n    letterSpacing: '-0.06px'\n  },\n  h5: {\n    fontWeight: 500,\n    fontSize: 16,\n    letterSpacing: '-0.05px'\n  },\n  h6: {\n    fontWeight: 500,\n    fontSize: 14,\n    letterSpacing: '-0.05px'\n  },\n  overline: {\n    fontWeight: 500\n  }\n};\n","import { makeStyles } from \"@material-ui/core\";\nimport { Skeleton } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100vh\",\n    // padding: \"10px\",\n    display: \"grid\",\n    gridTemplateColumns: \"1fr\",\n    gridTemplateRows: \"64px auto\",\n    rowGap: \"5px\",\n    \"& *\": {\n      height: \"100%\",\n    },\n  },\n  main: {\n    display: \"grid\",\n    gridTemplateColumns: \"256px auto\",\n    columnGap: \"5px\",\n  },\n  sidebar: {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr\",\n    gridTemplateRows: \"128px auto\",\n    rowGap: \"5px\",\n  },\n}));\nexport default function Loading(props) {\n  const cls = useStyles();\n\n  return (\n    <div className={cls.root}>\n      <div className={cls.topbar}>\n        <Skeleton variant=\"rect\"></Skeleton>\n      </div>\n      <div className={cls.main}>\n        <div className={cls.sidebar}>\n          <div className={cls.info}>\n            <Skeleton variant=\"rect\"></Skeleton>\n          </div>\n          <div className={cls.navlink}>\n            <Skeleton variant=\"rect\"></Skeleton>\n          </div>\n        </div>\n        <div className={cls.content}>\n          <Skeleton variant=\"rect\"></Skeleton>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const profileSlice = createSlice({\n  name: \"profileSlice\",\n  initialState: {\n    fetching: true,\n    universityName: \"\",\n    nameInEnglish: \"\",\n    address: \"\",\n    email: \"\",\n    phone: \"\",\n    publicKey: \"\",\n    description: \"\",\n    imgSrc: null,\n    votes: [],\n  }, // votes filed too\n  reducers: {\n    setProfile: (state, action) => {\n      state.fetching = false;\n      Object.assign(state, action.payload);\n    },\n    updateImgSrc: (state, action) => {\n      state.imgSrc = action.payload;\n    },\n    updateVotingState: (state, action) => {\n      if (state.state !== action.payload.state) state.state = action.payload.state;\n      if (state.votes.length < action.payload.votes.length) state.votes = action.payload.votes;\n    },\n  },\n});\n\nexport const { setProfile, updateImgSrc, updateVotingState } = profileSlice.actions;\nexport default profileSlice.reducer;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M467.309,16.768H221.454c-6.128,0-11.095,4.967-11.095,11.095v86.451l12.305-7.64c3.131-1.945,6.475-3.257,9.884-3.978 V38.958h223.665v160.016H232.549v-25.89l-22.19,13.778v23.208c0,6.128,4.967,11.095,11.095,11.095h245.855 c6.127,0,11.095-4.967,11.095-11.095V27.863C478.404,21.735,473.436,16.768,467.309,16.768z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M306.001,78.356c-2.919-3.702-8.285-4.335-11.986-1.418l-38.217,30.133c3.649,2.385,6.85,5.58,9.301,9.527 c0.695,1.117,1.298,2.266,1.834,3.431l37.651-29.687C308.286,87.424,308.92,82.057,306.001,78.356z\"\n})));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 121.535,\n  cy: 31.935,\n  r: 31.935\n})));\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M252.01,124.728c-4.489-7.229-13.987-9.451-21.218-4.963l-31.206,19.375c-0.13-25.879-0.061-12.145-0.144-28.811 c-0.101-20.005-16.458-36.281-36.464-36.281h-15.159c-12.951,33.588-8.779,21.12-19.772,49.63l4.623-20.131 c0.32-1.508,0.088-3.08-0.655-4.43l-6.264-11.393l5.559-10.109c0.829-1.508-0.264-3.356-1.985-3.356h-15.271 c-1.72,0-2.815,1.848-1.985,3.356l5.57,10.13l-6.276,11.414c-0.728,1.325-0.966,2.865-0.672,4.347l4.005,20.172 c-2.159-5.599-17.084-44.306-19.137-49.63H80.093c-20.005,0-36.363,16.275-36.464,36.281l-0.569,113.2 c-0.042,8.51,6.821,15.443,15.331,15.486c0.027,0,0.052,0,0.079,0c8.473,0,15.364-6.848,15.406-15.331l0.569-113.2 c0-0.018,0-0.036,0-0.053c0.024-1.68,1.399-3.026,3.079-3.013c1.68,0.012,3.034,1.378,3.034,3.058l0.007,160.381 c14.106-0.6,27.176,4.488,36.981,13.423v-62.568h7.983v71.773c5.623,8.268,8.914,18.243,8.914,28.974 c0,9.777-2.732,18.928-7.469,26.731c4.866,0.023,9.592,0.669,14.099,1.861c6.076-5.271,13.385-9.151,21.437-11.136 c0-279.342-0.335-106.627-0.335-229.418c0-1.779,1.439-3.221,3.218-3.224c1.779-0.004,3.224,1.432,3.232,3.211 c0.054,10.807,0.224,44.59,0.283,56.351c0.028,5.579,3.07,10.708,7.953,13.407c4.874,2.694,10.835,2.554,15.583-0.394 l54.604-33.903C254.276,141.458,256.499,131.957,252.01,124.728z\"\n})));\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 429.221,\n  cy: 322.831,\n  r: 33.803\n})));\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M511.459,405.811c-0.107-21.176-17.421-38.404-38.598-38.404c-9.137,0-76.583,0-84.781,0 c3.637,7.068,5.704,15.069,5.704,23.55c0,9.005-2.405,18.413-7.5,26.782c18.904,0.764,35.468,10.91,45.149,25.897h40.579v-37.43 c0-1.842,1.46-3.352,3.301-3.415s3.402,1.345,3.526,3.182c0,0,0,0.001,0,0.002l0.19,37.661h32.621L511.459,405.811z\"\n})));\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M290.469,390.956c0-8.629,2.138-16.763,5.894-23.92c-22.009,0-47.852,0-75.267,0c3.472,6.939,5.437,14.756,5.437,23.029 c0,9.721-2.73,18.926-7.469,26.731c15.558,0.074,29.912,6.538,40.283,17.267c10.054-9.822,23.759-15.914,38.836-15.995 C292.948,409.616,290.469,400.126,290.469,390.956z\"\n})));\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M264.819,288.655c-18.668,0-33.804,15.132-33.804,33.803c0,18.628,15.107,33.803,33.804,33.803 c18.518,0,33.803-14.965,33.803-33.803C298.622,303.808,283.517,288.655,264.819,288.655z\"\n})));\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M123.217,390.065c0-8.252,1.956-16.053,5.411-22.98c-1.457-0.072,4.672-0.049-89.485-0.049 c-21.068,0-38.491,17.138-38.598,38.404l-0.192,38.196c14.907,0,17.906,0,32.621,0l0.191-38.031 c0.01-1.884,1.541-3.402,3.423-3.397c1.882,0.006,3.404,1.532,3.404,3.414v38.014h45.727c9.855-15.754,26.8-25.646,45.243-26.406 C125.956,409.168,123.217,399.865,123.217,390.065z\"\n})));\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M82.786,288.655c-18.668,0-33.803,15.134-33.803,33.803c0,18.584,15.046,33.803,33.803,33.803 c18.536,0,33.804-15.015,33.804-33.803C116.59,303.788,101.455,288.655,82.786,288.655z\"\n})));\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M422.533,473.807c-0.105-21.178-17.42-38.406-38.597-38.406c-2.246,0-82.969,0-85.507,0 c-21.176,0-39.601,17.227-39.708,38.404l-0.275-0.891c-0.105-21.092-17.341-38.404-38.597-38.404c-24.544,0-59.795,0-85.507,0 c-21.176,0-39.601,17.227-39.708,38.404L94.442,512h32.621l0.191-38.922c0.008-1.622,1.327-2.93,2.948-2.926 c1.621,0.004,2.932,1.32,2.932,2.941v38.908c19.121,0,68.483,0,86.392,0v-38.908c0-1.736,1.405-3.144,3.141-3.149 c1.735-0.004,3.149,1.397,3.158,3.133l0.191,38.923c6.669,0,58.238,0,65.134,0l0.191-38.031c0,0,0-0.001,0-0.002 c0.009-1.621,1.328-2.928,2.949-2.924c1.621,0.004,2.931,1.32,2.931,2.941v38.016c19.121,0,68.483,0,86.392,0v-38.016 c0-1.736,1.405-3.144,3.141-3.149c1.735-0.004,3.149,1.397,3.158,3.133l0.191,38.031h32.621L422.533,473.807z\"\n})));\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 175.934,\n  cy: 389.933,\n  r: 34.198\n})));\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 342.07,\n  cy: 390.821,\n  r: 34.198\n})));\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref19 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref20 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref21 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref22 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref23 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref24 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref25 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref26 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref27 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref28 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref29 = /*#__PURE__*/React.createElement(\"g\", null);\n\nfunction SvgClassroom(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512.001 512.001\",\n    style: {\n      enableBackground: \"new 0 0 512.001 512.001\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref20, _ref21, _ref22, _ref23, _ref24, _ref25, _ref26, _ref27, _ref28, _ref29);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClassroom);\nexport default __webpack_public_path__ + \"static/media/classroom.6c87efff.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { NavLink as RouterLink } from 'react-router-dom';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport {\n  Button,\n  ListItem,\n  makeStyles\n} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  item: {\n    display: 'flex',\n    paddingTop: 0,\n    paddingBottom: 0\n  },\n  button: {\n    color: theme.palette.text.secondary,\n    fontWeight: theme.typography.fontWeightMedium,\n    justifyContent: 'flex-start',\n    letterSpacing: 0,\n    padding: '10px 8px',\n    textTransform: 'none',\n    width: '100%'\n  },\n  icon: {\n    marginRight: theme.spacing(1)\n  },\n  title: {\n    marginRight: 'auto'\n  },\n  active: {\n    color: theme.palette.primary.main,\n    '& $title': {\n      fontWeight: theme.typography.fontWeightMedium\n    },\n    '& $icon': {\n      color: theme.palette.primary.main\n    }\n  }\n}));\n\nconst NavItem = ({\n  className,\n  href,\n  icon: Icon,\n  title,\n  ...rest\n}) => {\n  const classes = useStyles();\n\n  return (\n    <ListItem\n      className={clsx(classes.item, className)}\n      disableGutters\n      {...rest}\n    >\n      <Button\n        activeClassName={classes.active}\n        className={classes.button}\n        component={RouterLink}\n        to={href}\n      >\n        {Icon && (\n          <Icon\n            className={classes.icon}\n            size=\"20\"\n          />\n        )}\n        <span className={classes.title}>\n          {title}\n        </span>\n      </Button>\n    </ListItem>\n  );\n};\n\nNavItem.propTypes = {\n  className: PropTypes.string,\n  href: PropTypes.string,\n  icon: PropTypes.elementType,\n  title: PropTypes.string\n};\n\nexport default NavItem;\n","import { Avatar, Box, Divider, Drawer, Hidden, List, makeStyles, Typography } from \"@material-ui/core\";\nimport AccountBalanceIcon from \"@material-ui/icons/AccountBalance\";\nimport AspectRatioIcon from \"@material-ui/icons/AspectRatio\";\nimport CancelPresentationIcon from \"@material-ui/icons/CancelPresentation\";\nimport GroupAddIcon from \"@material-ui/icons/GroupAdd\";\nimport HowToVoteIcon from \"@material-ui/icons/HowToVote\";\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\nimport SupervisorAccountIcon from \"@material-ui/icons/SupervisorAccount\";\nimport PropTypes from \"prop-types\";\nimport React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Link as RouterLink, useLocation } from \"react-router-dom\";\nimport ClassroomIcon from \"../../../assets/icons/ClassroomIcon\";\nimport NavItem from \"./NavItem\";\n\nconst items = [\n  {\n    href: \"/cb-pdt/dang-ki-tham-gia\",\n    icon: AccountBalanceIcon,\n    title: \"Đăng kí tham gia\",\n  },\n  {\n    href: \"/cb-pdt/bo-phieu\",\n    icon: HowToVoteIcon,\n    title: \"Bỏ phiếu\",\n  },\n  // {\n  //   href: \"/cb-pdt/tao-tk-giao-vu\",\n  //   icon: PersonAddIcon,\n  //   title: \"Tạo tài khoản giáo vụ\",\n  // },\n  {\n    href: \"/cb-pdt/tao-tk-giang-vien\",\n    icon: PersonAddIcon,\n    title: \"Tạo tài khoản giảng viên\",\n  },\n  {\n    href: \"/cb-pdt/tao-tk-sinh-vien\",\n    icon: GroupAddIcon,\n    title: \"Tạo tài khoản sinh viên\",\n  },\n  // {\n  //   href: \"/cb-pdt/upload-mon-hoc\",\n  //   icon: Classroom,\n  //   title: \"Upload môn học\",\n  // },\n  {\n    href: \"/cb-pdt/upload-lop-hoc\",\n    icon: ClassroomIcon,\n    title: \"Upload lớp học\",\n  },\n  {\n    href: \"/cb-pdt/upload-bang-cap\",\n    icon: AspectRatioIcon,\n    title: \"Upload bằng cấp\",\n  },\n  {\n    href: \"/cb-pdt/thu-hoi-bang-cap\",\n    icon: CancelPresentationIcon,\n    title: \"Thu hồi bằng câp\",\n  },\n];\n\nconst useStyles = makeStyles(() => ({\n  mobileDrawer: {\n    width: 256,\n  },\n  desktopDrawer: {\n    width: 256,\n    top: 64,\n    height: \"calc(100% - 64px)\",\n  },\n  avatar: {\n    cursor: \"pointer\",\n    width: 64,\n    height: 64,\n  },\n}));\n\nconst NavBar = ({ onMobileClose, openMobile }) => {\n  const classes = useStyles();\n  const location = useLocation();\n\n  const user = useSelector((state) => state.profileSlice);\n\n  useEffect(() => {\n    if (openMobile && onMobileClose) {\n      onMobileClose();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.pathname]);\n\n  const content = (\n    <Box height=\"100%\" display=\"flex\" flexDirection=\"column\">\n      <Box alignItems=\"center\" display=\"flex\" flexDirection=\"column\" p={2}>\n        <Avatar className={classes.avatar} component={RouterLink} src={user.imgSrc} to=\"/cb-pdt/dang-ki-tham-gia\" />\n        <Typography className={classes.name} color=\"textPrimary\" variant=\"h5\">\n          {user.universityName || \"Trường ĐH ABC\"}\n        </Typography>\n        <Typography color=\"textSecondary\" variant=\"body2\">\n          {\"Cán bộ Trường\"}\n        </Typography>\n      </Box>\n      <Divider />\n      <Box p={2}>\n        <List>\n          {items.map((item) => (\n            <NavItem href={item.href} key={item.title} title={item.title} icon={item.icon} />\n          ))}\n        </List>\n      </Box>\n      <Box flexGrow={1} />\n    </Box>\n  );\n\n  return (\n    <>\n      <Hidden lgUp>\n        <Drawer anchor=\"left\" classes={{ paper: classes.mobileDrawer }} onClose={onMobileClose} open={openMobile} variant=\"temporary\">\n          {content}\n        </Drawer>\n      </Hidden>\n      <Hidden mdDown>\n        <Drawer anchor=\"left\" classes={{ paper: classes.desktopDrawer }} open variant=\"persistent\">\n          {content}\n        </Drawer>\n      </Hidden>\n    </>\n  );\n};\n\nNavBar.propTypes = {\n  onMobileClose: PropTypes.func,\n  openMobile: PropTypes.bool,\n};\n\nNavBar.defaultProps = {\n  onMobileClose: () => {},\n  openMobile: false,\n};\n\nexport default NavBar;\n","import { SvgIcon } from \"@material-ui/core\";\nimport { ReactComponent as ClassroomSvg } from \"./classroom.svg\";\n\nexport default function ClassroomIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <ClassroomSvg></ClassroomSvg>\n    </SvgIcon>\n  );\n}\n","import React from \"react\";\n\nconst Logo = (props) => {\n  return (\n    <img\n      alt=\"Logo\"\n      src=\"/static/logo.svg\"\n      // src=\"/b4elogo.png\"\n      {...props}\n    />\n  );\n};\n\nexport default Logo;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst votingSlice = createSlice({\n  name: \"votingSlice\",\n  initialState: { fetching: true, ballots: [], numOfNewBallot: 0, privateKey: null }, // dont remove numOfNewBallot, it is difference from ballots.length\n  reducers: {\n    setBallots: (state, action) => {\n      state.fetching = false;\n      state.ballots = action.payload;\n      state.numOfNewBallot = action.payload.length;\n    },\n    collapseBallot(state, action) {\n      const index = state.ballots.findIndex((ballot) => ballot.publicKey === action.payload.publicKey);\n      state.ballots[index].in = false;\n      state.numOfNewBallot -= 1;\n    },\n  },\n});\n\nexport default votingSlice.reducer;\nexport const { setBallots, removeVotedRequest, collapseBallot } = votingSlice.actions;\n","const { createSlice } = require(\"@reduxjs/toolkit\");\n\nconst teacherSlice = createSlice({\n  name: \"teacherSlice\",\n  initialState: { fetching: true, history: [], uploading: false }, // history item: {time: \"01/01/2020\", profiles:[{teacherId, name, email, department, publicKey, firstTimePassword}] }\n  reducers: {\n    setPreloadHistory: (state, action) => {\n      state.fetching = false;\n      state.history = action.payload;\n    },\n    startUploadFile: (state, action) => {\n      state.uploading = true;\n    },\n    uploadFileSuccess: (state, action) => {\n      state.uploading = false;\n      state.history.push(action.payload);\n    },\n    uploadFileFail: (state, action) => {\n      state.uploading = false;\n    },\n  },\n});\n\nexport default teacherSlice.reducer;\nexport const { setPreloadHistory, startUploadFile, uploadFileSuccess, uploadFileFail } = teacherSlice.actions;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const teacherProfileSlice = createSlice({\n  name: \"teacherProfileSlice\",\n  initialState: { fetching: true, teacherId: \"\", name: \"\", email: \"\", department: \"\", publicKey: \"\", description: \"\", imgSrc: \"\" },\n  reducers: {\n    setProfile: (state, action) => {\n      Object.assign(state, action.payload);\n      state.fetching = false;\n    },\n    updateImgSrc: (state, action) => {\n      state.imgSrc = action.payload;\n    },\n  },\n});\n\nexport const { setProfile, updateImgSrc } = teacherProfileSlice.actions;\nexport default teacherProfileSlice.reducer;\n","const { createSlice } = require(\"@reduxjs/toolkit\");\n\nconst studentSlice = createSlice({\n  name: \"studentSlice\",\n  initialState: { fetching: true, history: [], uploading: false }, // history item: {time: \"01/01/2020\", profiles:[{studentId, name, email, department, publicKey, firstTimePassword}] }\n  reducers: {\n    setPreloadHistory: (state, action) => {\n      state.fetching = false;\n      state.history = action.payload;\n    },\n    startUploadFile: (state, action) => {\n      state.uploading = true;\n    },\n    uploadFileSuccess: (state, action) => {\n      state.uploading = false;\n      state.history.push(action.payload);\n    },\n    uploadFileFail: (state, action) => {\n      state.uploading = false;\n    },\n  },\n});\n\nexport default studentSlice.reducer;\nexport const { setPreloadHistory, startUploadFile, uploadFileSuccess, uploadFileFail } = studentSlice.actions;\n","const { createSlice } = require(\"@reduxjs/toolkit\");\n\nconst classSlice = createSlice({\n  name: \"classSlice\",\n  initialState: { fetching: true, classes: [], uploading: false, shouldShowCaution: true },\n  reducers: {\n    setPreloadClasses: (state, action) => {\n      state.fetching = false;\n      // DataGrid need id field\n      if (action.payload.length > 0)\n        state.classes = action.payload.map((claxx, index) => ({\n          ...claxx,\n          id: index + 1,\n          teacherName: claxx.teacher.name,\n          subjectId: claxx.subject.subjectId,\n          subjectName: claxx.subject.subjectName,\n        }));\n    },\n    startUploadFile: (state, action) => {\n      state.uploading = true;\n    },\n    uploadFileSuccess: (state, action) => {\n      state.uploading = false;\n      state.classes = action.payload.concat(state.classes).map((claxx, index) => ({\n        ...claxx,\n        id: index + 1,\n        teacherName: claxx.teacher.name,\n        subjectId: claxx.subject.subjectId,\n        subjectName: claxx.subject.subjectName,\n      }));\n    },\n    uploadFileFail: (state, action) => {\n      state.uploading = false;\n    },\n    setShouldShowCaution: (state, action) => {\n      state.shouldShowCaution = action.payload;\n    },\n  },\n});\n\nexport default classSlice.reducer;\nexport const { setPreloadClasses, startUploadFile, uploadFileSuccess, uploadFileFail, setShouldShowCaution } = classSlice.actions;\n","const { createSlice } = require(\"@reduxjs/toolkit\");\n\nconst certificateSlice = createSlice({\n  name: \"certificateSlice\",\n  initialState: { fetching: true, docs: [], uploading: false },\n  reducers: {\n    setPreloadCertDocuments: (state, action) => {\n      state.fetching = false;\n      if (action.payload.length > 0) state.docs = action.payload;\n    },\n    startUploadFile: (state, action) => {\n      state.uploading = true;\n    },\n    uploadFileSuccess: (state, action) => {\n      state.uploading = false;\n      state.docs = action.payload.concat(state.docs);\n    },\n    uploadFileFail: (state, action) => {\n      state.uploading = false;\n    },\n  },\n});\n\nexport default certificateSlice.reducer;\nexport const { setPreloadCertDocuments, startUploadFile, uploadFileSuccess, uploadFileFail } = certificateSlice.actions;\n","const { createSlice } = require(\"@reduxjs/toolkit\");\n\nconst revokeCertificateSlice = createSlice({\n  name: \"revokeCertificateSlice\",\n  initialState: { document: null },\n  reducers: {\n    setDocument: (state, action) => {\n      state.document = action.payload;\n    },\n  },\n});\n\nexport default revokeCertificateSlice.reducer;\nexport const { setDocument } = revokeCertificateSlice.actions;\n","import { combineReducers, configureStore } from \"@reduxjs/toolkit\";\nimport profileReducer from \"src/views/staff/Register/redux\";\nimport votingReducer from \"src/views/staff//Voting/redux\";\n// import bureauReducer from \"src/views/staff/CreateBureauAccount/redux\";\nimport teacherReducer from \"src/views/staff/CreateTeacherAccount/redux\";\nimport teacherProfileReducer from \"src/views/teacher/Profile/redux\";\nimport studentReducer from \"src/views/staff/CreateStudentAccount/redux\";\n// import subjectReducer from \"src/views/staff/UploadSubject/redux\";\nimport classReducer from \"src/views/staff/UploadClass/redux\";\nimport certificateReducer from \"src/views/staff/UploadCertificate/redux\";\nimport revokeCertificateReducer from \"src/views/staff/RevokeCertificate/redux\";\n\nexport const resetStore = () => {\n  return {\n    type: \"RESET_STORE\",\n  };\n};\n\nconst rootReducer = (state, action) => {\n  if (action.type === \"RESET_STORE\") {\n    state = undefined;\n  }\n  return appReducer(state, action);\n};\n\nconst appReducer = combineReducers({\n  profileSlice: profileReducer,\n  votingSlice: votingReducer,\n  // bureauSlice: bureauReducer,\n  teacherSlice: teacherReducer,\n  studentSlice: studentReducer,\n  // subjectSlice: subjectReducer,\n  classSlice: classReducer,\n  certificateSlice: certificateReducer,\n  teacherProfileSlice: teacherProfileReducer,\n  revokeCertificateSlice: revokeCertificateReducer,\n});\n\nexport default configureStore({\n  reducer: rootReducer,\n});\n","import { getRemember } from \"./mng-token\";\n\nconst ROLE = {\n  STAFF: \"STAFF\",\n  BUREAU: \"BUREAU\",\n  TEACHER: \"TEACHER\",\n};\n\nfunction setLocalRole(role) {\n  localStorage.setItem(\"role\", role);\n}\n\nfunction setSessionRole(role) {\n  sessionStorage.setItem(\"role\", role);\n}\n\nfunction setRole(role) {\n  if (getRemember()) {\n    localStorage.setItem(\"role\", role);\n  } else {\n    sessionStorage.setItem(\"role\", role);\n  }\n}\n\nfunction getRole() {\n  const remember = getRemember();\n  return remember ? localStorage.getItem(\"role\") : sessionStorage.getItem(\"role\");\n}\n\nfunction clearRole() {\n  const remember = getRemember();\n  return remember ? localStorage.removeItem(\"role\") : sessionStorage.removeItem(\"role\");\n}\n\nfunction getRouteByRole(role) {\n  if (role === ROLE.STAFF) {\n    return \"/cb-pdt/dang-ki-tham-gia\";\n  } else if (role === ROLE.TEACHER) {\n    return \"/giang-vien/thong-tin-ca-nhan\";\n  } else if (role === ROLE.BUREAU) {\n    return \"/giao-vu/thong-tin-ca-nhan\";\n  }\n}\n\nexport { ROLE, getRouteByRole, setLocalRole, setSessionRole, getRole, clearRole, setRole };\n","export const ERR_TOP_CENTER = { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } };\n\nexport const INFO_TOP_CENTER = { variant: \"info\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } };\n\nexport const SUCCESS_TOP_CENTER = { variant: \"success\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } };\n\nexport const SUCCESS_BOTTOM_CENTER = { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } };\n\nexport const SUCCESS_BOTTOM_RIGHT = { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"right\" } };\n","import { ERR_TOP_CENTER, INFO_TOP_CENTER } from \"./snackbar-utils\";\n\nlet privateKeyHex = null;\n\nexport function setPrivateKeyHex(privateKeyHexParam) {\n  privateKeyHex = privateKeyHexParam;\n}\n\n// export function getPrivateKeyHex() {\n//   return privateKeyHex;\n// }\n\nexport async function requirePrivateKeyHex(enqueueSnackbar) {\n  if (privateKeyHex) return privateKeyHex;\n  enqueueSnackbar(\"Hãy mở ví và chọn tài khoản!\", INFO_TOP_CENTER);\n  return new Promise((resolve, reject) => {\n    const tabId = Math.floor(Math.random() * 9999);\n    window.addEventListener(\"message\", function (event) {\n      if (event.data.type === \"SIGN_RESPONSE\" && event.data.tabId === tabId) {\n        if (event.data.accept) {\n          privateKeyHex = event.data.account.privateKey;\n          resolve(privateKeyHex);\n        } else {\n          enqueueSnackbar(\"Bạn cần chọn một tài khoản để có thể thực hiện thao tác này!\", ERR_TOP_CENTER);\n          reject();\n        }\n      }\n    });\n    window.postMessage({ type: \"SIGN_REQUEST\", tabId });\n  });\n}\n","import { AppBar, Badge, Box, Hidden, IconButton, makeStyles, Toolbar } from \"@material-ui/core\";\nimport InputIcon from \"@material-ui/icons/Input\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport NotificationsIcon from \"@material-ui/icons/NotificationsOutlined\";\nimport clsx from \"clsx\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\nimport Logo from \"src/shared/Logo\";\nimport { resetStore } from \"../../store\";\nimport { clearToken } from \"src/utils/mng-token\";\nimport { clearRole } from \"../../utils/mng-role\";\nimport { setPrivateKeyHex } from \"../../utils/keyholder\";\n\nconst useStyles = makeStyles(() => ({\n  root: {},\n  avatar: {\n    width: 60,\n    height: 60,\n  },\n}));\n\nconst TopBar = ({ className, onMobileNavOpen, ...rest }) => {\n  const classes = useStyles();\n  const [notifications] = useState([]);\n  const navigate = useNavigate();\n  const dp = useDispatch();\n  return (\n    <AppBar className={clsx(classes.root, className)} elevation={0} {...rest}>\n      <Toolbar>\n        <RouterLink to=\"/\">\n          <Logo />\n        </RouterLink>\n        <Box flexGrow={1} />\n        <Hidden mdDown>\n          <IconButton color=\"inherit\">\n            <Badge badgeContent={notifications.length} color=\"primary\" variant=\"dot\">\n              <NotificationsIcon />\n            </Badge>\n          </IconButton>\n          <IconButton\n            color=\"inherit\"\n            onClick={(e) => {\n              clearToken();\n              clearRole();\n              setPrivateKeyHex(null);\n              dp(resetStore());\n              navigate(\"/\");\n            }}\n          >\n            <InputIcon />\n          </IconButton>\n        </Hidden>\n        <Hidden lgUp>\n          <IconButton color=\"inherit\" onClick={onMobileNavOpen}>\n            <MenuIcon />\n          </IconButton>\n        </Hidden>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nTopBar.propTypes = {\n  className: PropTypes.string,\n  onMobileNavOpen: PropTypes.func,\n};\n\nexport default TopBar;\n","import { Button, makeStyles } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport React, { useEffect, useState } from \"react\";\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Outlet, useNavigate } from \"react-router-dom\";\nimport Loading from \"src/shared/Loading\";\nimport { setProfile } from \"src/views/staff/Register/redux\";\nimport NavBar from \"./NavBar\";\nimport TopBar from \"./TopBar\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100%\",\n    width: \"100%\",\n    display: \"flex\",\n    overflow: \"hidden\",\n    backgroundColor: theme.palette.background.dark,\n  },\n  wrapper: {\n    flex: \"1 1 auto\",\n    display: \"flex\",\n    overflow: \"hidden\",\n    paddingTop: 64,\n    [theme.breakpoints.up(\"lg\")]: {\n      paddingLeft: 256,\n    },\n  },\n  contentContainer: {\n    flex: \"1 1 auto\",\n    display: \"flex\",\n    overflow: \"hidden\",\n  },\n  content: {\n    flex: \"1 1 auto\",\n    // height: \"100%\",\n    overflow: \"auto\",\n  },\n}));\n\nconst StaffDashboardLayout = () => {\n  const classes = useStyles();\n  const [isMobileNavOpen, setMobileNavOpen] = useState(false);\n  const loading = useSelector((state) => state.profileSlice.fetching);\n  const dp = useDispatch();\n  const navigate = useNavigate();\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    fetchProfile();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function fetchProfile() {\n    try {\n      const response = await axios.get(\"/staff/my-university-profile\");\n      dp(setProfile(response.data));\n    } catch (error) {\n      enqueueSnackbar(\"Phiên làm việc đã kết thúc, vui lòng đăng nhập lại!\", {\n        anchorOrigin: { vertical: \"top\", horizontal: \"center\" },\n        action: (key) => (\n          <Button\n            size=\"small\"\n            style={{ color: \"white\" }}\n            onClick={(e) => {\n              navigate(\"/dang-nhap\");\n              closeSnackbar(key);\n            }}\n          >\n            Đăng nhập\n          </Button>\n        ),\n      });\n    }\n  }\n\n  return (\n    <>\n      {loading ? (\n        <Loading />\n      ) : (\n        <>\n          <div className={classes.root}>\n            <TopBar onMobileNavOpen={() => setMobileNavOpen(true)} />\n            <NavBar onMobileClose={() => setMobileNavOpen(false)} openMobile={isMobileNavOpen} />\n            <div className={classes.wrapper}>\n              <div className={classes.contentContainer}>\n                <div className={classes.content}>\n                  <PerfectScrollbar>\n                    <Outlet />\n                  </PerfectScrollbar>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default StaffDashboardLayout;\n","import React from 'react';\nimport { NavLink as RouterLink } from 'react-router-dom';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport {\n  Button,\n  ListItem,\n  makeStyles\n} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  item: {\n    display: 'flex',\n    paddingTop: 0,\n    paddingBottom: 0\n  },\n  button: {\n    color: theme.palette.text.secondary,\n    fontWeight: theme.typography.fontWeightMedium,\n    justifyContent: 'flex-start',\n    letterSpacing: 0,\n    padding: '10px 8px',\n    textTransform: 'none',\n    width: '100%'\n  },\n  icon: {\n    marginRight: theme.spacing(1)\n  },\n  title: {\n    marginRight: 'auto'\n  },\n  active: {\n    color: theme.palette.primary.main,\n    '& $title': {\n      fontWeight: theme.typography.fontWeightMedium\n    },\n    '& $icon': {\n      color: theme.palette.primary.main\n    }\n  }\n}));\n\nconst NavItem = ({\n  className,\n  href,\n  icon: Icon,\n  title,\n  ...rest\n}) => {\n  const classes = useStyles();\n\n  return (\n    <ListItem\n      className={clsx(classes.item, className)}\n      disableGutters\n      {...rest}\n    >\n      <Button\n        activeClassName={classes.active}\n        className={classes.button}\n        component={RouterLink}\n        to={href}\n      >\n        {Icon && (\n          <Icon\n            className={classes.icon}\n            size=\"20\"\n          />\n        )}\n        <span className={classes.title}>\n          {title}\n        </span>\n      </Button>\n    </ListItem>\n  );\n};\n\nNavItem.propTypes = {\n  className: PropTypes.string,\n  href: PropTypes.string,\n  icon: PropTypes.elementType,\n  title: PropTypes.string\n};\n\nexport default NavItem;\n","import { Avatar, Box, Divider, Drawer, Hidden, List, makeStyles, Typography } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport React, { useEffect } from \"react\";\nimport { User as UserIcon } from \"react-feather\";\nimport { useSelector } from \"react-redux\";\nimport { Link as RouterLink, useLocation } from \"react-router-dom\";\nimport NavItem from \"./NavItem\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nconst items = [\n  {\n    href: \"/giang-vien/thong-tin-ca-nhan\",\n    icon: UserIcon,\n    title: \"Thông tin cá nhân\",\n  },\n  {\n    href: \"/giang-vien/nhap-diem-lop-hoc\",\n    icon: GavelIcon,\n    title: \"Nhập điểm lớp học\",\n  },\n  {\n    href: \"/giang-vien/sua-diem\",\n    icon: EditIcon,\n    title: \"Sửa điểm\",\n  },\n];\n\nconst useStyles = makeStyles(() => ({\n  mobileDrawer: {\n    width: 256,\n  },\n  desktopDrawer: {\n    width: 256,\n    top: 64,\n    height: \"calc(100% - 64px)\",\n  },\n  avatar: {\n    cursor: \"pointer\",\n    width: 64,\n    height: 64,\n  },\n}));\n\nconst NavBar = ({ onMobileClose, openMobile }) => {\n  const classes = useStyles();\n  const location = useLocation();\n\n  const user = useSelector((state) => state.teacherProfileSlice);\n\n  useEffect(() => {\n    if (openMobile && onMobileClose) {\n      onMobileClose();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.pathname]);\n\n  const content = (\n    <Box height=\"100%\" display=\"flex\" flexDirection=\"column\">\n      <Box alignItems=\"center\" display=\"flex\" flexDirection=\"column\" p={2}>\n        <Avatar className={classes.avatar} component={RouterLink} src={user.imgSrc} to=\"/giang-vien/thong-tin-ca-nhan\" />\n        <Typography className={classes.name} color=\"textPrimary\" variant=\"h5\">\n          {user.name}\n        </Typography>\n        <Typography color=\"textSecondary\" variant=\"body2\">\n          Giảng viên\n        </Typography>\n      </Box>\n      <Divider />\n      <Box p={2}>\n        <List>\n          {items.map((item) => (\n            <NavItem href={item.href} key={item.title} title={item.title} icon={item.icon} />\n          ))}\n        </List>\n      </Box>\n      <Box flexGrow={1} />\n    </Box>\n  );\n\n  return (\n    <>\n      <Hidden lgUp>\n        <Drawer anchor=\"left\" classes={{ paper: classes.mobileDrawer }} onClose={onMobileClose} open={openMobile} variant=\"temporary\">\n          {content}\n        </Drawer>\n      </Hidden>\n      <Hidden mdDown>\n        <Drawer anchor=\"left\" classes={{ paper: classes.desktopDrawer }} open variant=\"persistent\">\n          {content}\n        </Drawer>\n      </Hidden>\n    </>\n  );\n};\n\nNavBar.propTypes = {\n  onMobileClose: PropTypes.func,\n  openMobile: PropTypes.bool,\n};\n\nNavBar.defaultProps = {\n  onMobileClose: () => {},\n  openMobile: false,\n};\n\nexport default NavBar;\n","import { Box, Button, Dialog, DialogContent, DialogTitle, Grid, TextField, Typography } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport React, { createRef, useState } from \"react\";\n\nexport default function AskOTP({ open, hdCancel, hdError, hdSuccess, hdFail, classes }) {\n  const [OTP, setOTP] = useState([\"\", \"\", \"\", \"\", \"\", \"\"]);\n  const [refs, setRefs] = useState([...Array(6).keys()].map(() => createRef()));\n\n  function hdKeyUp(e, index) {\n    const clonedOTP = [...OTP];\n    if (e.keyCode === 8) {\n      clonedOTP[index] = \"\";\n      if (index > 0) {\n        refs[index - 1].current.focus();\n      }\n    } else {\n      clonedOTP[index] = e.key;\n      if (index < 5) {\n        refs[index + 1].current.focus();\n      }\n    }\n    setOTP(clonedOTP);\n  }\n\n  async function sendOTP() {\n    const otpString = OTP.join(\"\");\n    try {\n      const response = await axios.post(\"/acc/2fa/verify\", { OTP: otpString });\n      if (!response.data.ok) {\n        hdFail();\n      } else {\n        hdSuccess();\n      }\n    } catch (error) {\n      hdError(error);\n    }\n  }\n\n  return (\n    <Dialog\n      open={open}\n      maxWidth=\"sm\"\n      fullWidth\n      onClose={() => {\n        hdCancel();\n      }}\n    >\n      <DialogTitle>Xác thực 2 bước</DialogTitle>\n      <DialogContent>\n        <Typography align=\"center\" variant=\"h4\">\n          Nhập mã OTP:\n        </Typography>\n        <Box mb={2}></Box>\n        <Grid container spacing={2} justify=\"center\">\n          {[...Array(6).keys()].map((item, index) => (\n            <Grid item key={index}>\n              <TextField\n                inputProps={{ size: 1 }}\n                variant=\"outlined\"\n                color=\"primary\"\n                value={OTP[index]}\n                onKeyUp={(e) => hdKeyUp(e, index)}\n                inputRef={refs[index]}\n                autoFocus={index === 0}\n              ></TextField>\n            </Grid>\n          ))}\n        </Grid>\n        <Box mt={2} textAlign=\"right\">\n          <Button onClick={hdCancel} style={{ marginRight: \"16px\" }}>\n            Canel\n          </Button>\n          <Button variant=\"contained\" color=\"primary\" onClick={sendOTP}>\n            Send\n          </Button>\n        </Box>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { Box, Button, Grid, Step, StepLabel, Stepper, TextField, Typography } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport React, { createRef, useState } from \"react\";\nimport { setToken } from \"../../utils/mng-token\";\nimport { ERR_TOP_CENTER, SUCCESS_TOP_CENTER } from \"../../utils/snackbar-utils\";\n\nexport default function TwoFactorStepper({ secret, qrDataURL, setOpenDialog }) {\n  const [activeStep, setActiveStep] = React.useState(0);\n  const [OTP, setOTP] = useState([\"\", \"\", \"\", \"\", \"\", \"\"]);\n  const [refs, setRefs] = useState([...Array(6).keys()].map(() => createRef()));\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  function hdKeyUp(e, index) {\n    const clonedOTP = [...OTP];\n    if (e.keyCode === 8) {\n      clonedOTP[index] = \"\";\n      if (index > 0) {\n        refs[index - 1].current.focus();\n      }\n    } else {\n      clonedOTP[index] = e.key;\n      if (index < 5) {\n        refs[index + 1].current.focus();\n      }\n    }\n    setOTP(clonedOTP);\n  }\n\n  async function sendOTP() {\n    const otpString = OTP.join(\"\");\n    try {\n      const response = await axios.post(\"/acc/2fa/verify\", { OTP: otpString });\n      if (!response.data.ok) {\n        enqueueSnackbar(\"Mã OTP không chính xác! Hãy thử lại!\", ERR_TOP_CENTER);\n      } else {\n        const newJWToken = response.data.token;\n        setToken(newJWToken);\n        setOpenDialog(false);\n        enqueueSnackbar(\"Bật cơ chế xác thực 2 bước thành công!\", SUCCESS_TOP_CENTER);\n      }\n    } catch (error) {\n      enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n    }\n  }\n\n  return (\n    <Box pb={1}>\n      <Stepper activeStep={activeStep}>\n        <Step key=\"showSecretToUser\">\n          <StepLabel>Nhập mã vào Authenticator</StepLabel>\n        </Step>\n        <Step>\n          <StepLabel>Xác nhận lại</StepLabel>\n        </Step>\n      </Stepper>\n\n      <Box>\n        {activeStep === 0 && (\n          <Grid container wrap=\"nowrap\">\n            <Grid item xs={12} sm={6} zeroMinWidth>\n              <Box textAlign=\"center\">\n                <Typography variant=\"h5\" style={{ overflowWrap: \"break-word\" }}>\n                  Quét mã QR code\n                </Typography>\n                <img src={qrDataURL} alt=\"QRCode\" />\n              </Box>\n            </Grid>\n            <Grid item xs={12} sm={6} zeroMinWidth>\n              <Box textAlign=\"center\">\n                <Typography variant=\"h5\">Hoặc nhập mã này</Typography>\n                <Box mb={1}></Box>\n                <Typography style={{ overflowWrap: \"break-word\" }}>{secret.base32}</Typography>\n              </Box>\n            </Grid>\n          </Grid>\n        )}\n        {activeStep === 1 && (\n          <Box>\n            <Typography align=\"center\" variant=\"h4\">\n              Nhập mã OTP:\n            </Typography>\n            <Box mb={2}></Box>\n            <Grid container spacing={2} justify=\"center\">\n              {[...Array(6).keys()].map((item, index) => (\n                <Grid item key={index}>\n                  <TextField\n                    inputProps={{ size: 1 }}\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    value={OTP[index]}\n                    // onChange={(e) => hdChange(e, index)}\n                    onKeyUp={(e) => hdKeyUp(e, index)}\n                    inputRef={refs[index]}\n                    autoFocus={index === 0}\n                  ></TextField>\n                </Grid>\n              ))}\n            </Grid>\n          </Box>\n        )}\n      </Box>\n\n      <Box mt={3} textAlign=\"right\">\n        <Button disabled={activeStep === 0} onClick={() => setActiveStep(activeStep - 1)} style={{ marginRight: 16 }}>\n          Back\n        </Button>\n        {activeStep === 0 && (\n          <Button variant=\"contained\" color=\"primary\" onClick={() => setActiveStep(activeStep + 1)}>\n            Next\n          </Button>\n        )}\n        {activeStep === 1 && (\n          <Button variant=\"contained\" color=\"primary\" onClick={sendOTP}>\n            Send\n          </Button>\n        )}\n      </Box>\n    </Box>\n  );\n}\n","import { FormControlLabel, Switch, Typography } from \"@material-ui/core\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport axios from \"axios\";\nimport jwtDecode from \"jwt-decode\";\nimport { useSnackbar } from \"notistack\";\nimport QRCode from \"qrcode\";\nimport React, { useState } from \"react\";\nimport { getToken, setToken } from \"../../utils/mng-token\";\nimport { ERR_TOP_CENTER, SUCCESS_TOP_CENTER } from \"../../utils/snackbar-utils\";\nimport AskOTP from \"./AskOTP\";\nimport TwoFactorStepper from \"./TwoFactorStepper\";\n\nexport default function TwoFactorAuthenDialog({ setOpenDialog }) {\n  const token = getToken();\n  const jwtToken = token.split(\" \")[1];\n  const decodedToken = jwtDecode(jwtToken);\n  const [isEnable, setEnable] = useState(decodedToken.twoFAVerified);\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  // enable 2fa\n  const [openStepper, setOpenStepper] = useState(false);\n  const [twoFASecret, setTwoFASecret] = useState(null);\n  const [qrDataURL, setQRDataURL] = useState(null);\n\n  // ask OTP to disable\n  const [openAskOTP, setOpenAskOTP] = useState(false);\n\n  async function hdToggle(e) {\n    if (e.target.checked) {\n      // try to registry\n      try {\n        const response = await axios.post(\"/acc/2fa/registry\", {});\n        try {\n          const dataURL = await QRCode.toDataURL(response.data.otpauth_url);\n          setQRDataURL(dataURL);\n          setTwoFASecret(response.data);\n          setOpenStepper(true);\n          setEnable(true);\n        } catch (error) {\n          alert(\"genarate qrcode failure\");\n        }\n      } catch (error) {\n        enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n      }\n    } else {\n      setOpenAskOTP(true);\n    }\n  }\n\n  return (\n    <Dialog\n      open={true}\n      maxWidth=\"sm\"\n      fullWidth\n      onClose={() => {\n        setOpenDialog(false);\n      }}\n    >\n      <DialogTitle>\n        <Typography variant=\"h4\">Xác thực 2 bước</Typography>\n      </DialogTitle>\n      <DialogContent>\n        <FormControlLabel\n          control={<Switch checked={Boolean(isEnable)} onChange={hdToggle}></Switch>}\n          label=\"Trạng thái\"\n          labelPlacement=\"start\"\n        ></FormControlLabel>\n        {openStepper && <TwoFactorStepper secret={twoFASecret} qrDataURL={qrDataURL} setOpenDialog={setOpenDialog}></TwoFactorStepper>}\n        {openAskOTP && (\n          <AskOTP\n            open={openAskOTP}\n            hdCancel={() => {\n              setOpenAskOTP(false);\n              setOpenDialog(false);\n            }}\n            hdFail={() => {\n              enqueueSnackbar(\"Mã OTP không chính xác, vui lòng thử lại\", ERR_TOP_CENTER);\n            }}\n            hdSuccess={async () => {\n              const response = await axios.post(\"/acc/2fa/disable\", {});\n              if (response.data.ok) {\n                setToken(response.data.token);\n                enqueueSnackbar(\"Đã tắt xác thực 2 bước!\", SUCCESS_TOP_CENTER);\n                setOpenDialog(false);\n              } else {\n                enqueueSnackbar(\"Something went wrong, try later!\", ERR_TOP_CENTER);\n              }\n            }}\n            hdError={(error) => {\n              enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n            }}\n          ></AskOTP>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { AppBar, Badge, Box, Hidden, IconButton, makeStyles, Menu, MenuItem, Toolbar } from \"@material-ui/core\";\nimport InputIcon from \"@material-ui/icons/Input\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport NotificationsIcon from \"@material-ui/icons/NotificationsOutlined\";\nimport clsx from \"clsx\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\nimport Logo from \"src/shared/Logo\";\nimport { resetStore } from \"../../store\";\nimport { clearToken } from \"src/utils/mng-token\";\nimport { clearRole } from \"../../utils/mng-role\";\nimport { setPrivateKeyHex } from \"../../utils/keyholder\";\nimport PersonOutlineIcon from \"@material-ui/icons/PersonOutline\";\nimport Fade from \"@material-ui/core/Fade\";\nimport TwoFactorAuthenDialog from \"./TwoFactorAuthenDialog\";\n\nconst useStyles = makeStyles(() => ({\n  root: {},\n  avatar: {\n    width: 60,\n    height: 60,\n  },\n}));\n\nconst TopBar = ({ className, onMobileNavOpen, ...rest }) => {\n  const classes = useStyles();\n  const [notifications] = useState([]);\n  // user settings menu....\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\n  const [openDialog, setOpenDialog] = useState(false);\n\n  const navigate = useNavigate();\n  const dp = useDispatch();\n\n  return (\n    <AppBar className={clsx(classes.root, className)} elevation={0} {...rest}>\n      <Toolbar>\n        <RouterLink to=\"/\">\n          <Logo />\n        </RouterLink>\n        <Box flexGrow={1} />\n        <Hidden mdDown>\n          <IconButton color=\"inherit\">\n            <Badge badgeContent={notifications.length} color=\"primary\" variant=\"dot\">\n              <NotificationsIcon />\n            </Badge>\n          </IconButton>\n\n          <IconButton\n            color=\"inherit\"\n            onClick={(e) => {\n              clearToken();\n              clearRole();\n              setPrivateKeyHex(null);\n              dp(resetStore());\n              navigate(\"/\");\n            }}\n          >\n            <InputIcon />\n          </IconButton>\n\n          <IconButton color=\"inherit\" onClick={(event) => setMenuAnchorEl(event.currentTarget)}>\n            <PersonOutlineIcon></PersonOutlineIcon>\n          </IconButton>\n          <Menu\n            anchorEl={menuAnchorEl}\n            keepMounted\n            open={Boolean(menuAnchorEl)}\n            onClose={() => setMenuAnchorEl(null)}\n            TransitionComponent={Fade}\n          >\n            <MenuItem>Đổi mật khẩu</MenuItem>\n\n            <MenuItem\n              onClick={() => {\n                setOpenDialog(true);\n                setMenuAnchorEl(null);\n              }}\n            >\n              Cài đặt xác thực 2 bước\n            </MenuItem>\n          </Menu>\n          {openDialog && <TwoFactorAuthenDialog setOpenDialog={setOpenDialog}></TwoFactorAuthenDialog>}\n        </Hidden>\n        <Hidden lgUp>\n          <IconButton color=\"inherit\" onClick={onMobileNavOpen}>\n            <MenuIcon />\n          </IconButton>\n        </Hidden>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nTopBar.propTypes = {\n  className: PropTypes.string,\n  onMobileNavOpen: PropTypes.func,\n};\n\nexport default TopBar;\n","import { makeStyles } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Outlet } from \"react-router-dom\";\nimport Loading from \"src/shared/Loading\";\nimport { setProfile } from \"src/views/teacher/Profile/redux\";\nimport NavBar from \"./NavBar\";\nimport TopBar from \"./TopBar\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100%\",\n    width: \"100%\",\n    display: \"flex\",\n    overflow: \"hidden\",\n    backgroundColor: theme.palette.background.dark,\n  },\n  wrapper: {\n    flex: \"1 1 auto\",\n    display: \"flex\",\n    overflow: \"hidden\",\n    paddingTop: 64,\n    [theme.breakpoints.up(\"lg\")]: {\n      paddingLeft: 256,\n    },\n  },\n  contentContainer: {\n    flex: \"1 1 auto\",\n    display: \"flex\",\n    overflow: \"hidden\",\n  },\n  content: {\n    flex: \"1 1 auto\",\n    // height: \"100%\",\n    overflow: \"auto\",\n  },\n}));\n\nconst TeacherDashboardLayout = () => {\n  const classes = useStyles();\n  const [isMobileNavOpen, setMobileNavOpen] = useState(false);\n  const loading = useSelector((state) => state.teacherProfileSlice.fetching);\n  const dp = useDispatch();\n\n  useEffect(() => {\n    fetchProfile();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function fetchProfile() {\n    try {\n      const response = await axios.get(\"/teacher/profile\");\n      dp(setProfile(response.data));\n    } catch (error) {\n      alert(error.response.data);\n    }\n  }\n\n  return (\n    <>\n      {loading ? (\n        <Loading />\n      ) : (\n        <>\n          <div className={classes.root}>\n            <TopBar onMobileNavOpen={() => setMobileNavOpen(true)} />\n            <NavBar onMobileClose={() => setMobileNavOpen(false)} openMobile={isMobileNavOpen} />\n            <div className={classes.wrapper}>\n              <div className={classes.contentContainer}>\n                <div className={classes.content}>\n                  <PerfectScrollbar>\n                    <Outlet />\n                  </PerfectScrollbar>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default TeacherDashboardLayout;\n","import React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport PropTypes from \"prop-types\";\nimport { AppBar, Toolbar, makeStyles } from \"@material-ui/core\";\nimport Logo from \"src/shared/Logo\";\n\nconst useStyles = makeStyles({\n  root: {},\n  toolbar: {\n    height: 64,\n  },\n});\n\nconst TopBar = ({ className, ...rest }) => {\n  const classes = useStyles();\n\n  return (\n    <AppBar className={clsx(classes.root, className)} elevation={0} {...rest}>\n      <Toolbar className={classes.toolbar}>\n        <RouterLink to=\"/\">\n          <Logo />\n        </RouterLink>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nTopBar.propTypes = {\n  className: PropTypes.string,\n};\n\nexport default TopBar;\n","import React from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core';\nimport TopBar from './TopBar';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    display: 'flex',\n    height: '100%',\n    overflow: 'hidden',\n    width: '100%'\n  },\n  wrapper: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden',\n    paddingTop: 64\n  },\n  contentContainer: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden'\n  },\n  content: {\n    flex: '1 1 auto',\n    height: '100%',\n    overflow: 'auto'\n  }\n}));\n\nconst MainLayout = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <TopBar />\n      <div className={classes.wrapper}>\n        <div className={classes.contentContainer}>\n          <div className={classes.content}>\n            <Outlet />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MainLayout;\n","import { makeStyles } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport React, { forwardRef } from \"react\";\nimport { Helmet } from \"react-helmet\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100%\",\n    padding: theme.spacing(2.5),\n  },\n}));\n\nconst Page = forwardRef(({ children, title = \"\", ...rest }, ref) => {\n  const cls = useStyles();\n\n  return (\n    <div ref={ref} {...rest} className={cls.root}>\n      <Helmet>\n        <title>{title}</title>\n      </Helmet>\n      {children}\n    </div>\n  );\n});\n\nPage.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string,\n};\n\nexport default Page;\n","import React from \"react\";\nimport { Box, Container, Typography, makeStyles } from \"@material-ui/core\";\nimport Page from \"src/shared/Page\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    height: \"100%\",\n    paddingBottom: theme.spacing(3),\n    paddingTop: theme.spacing(3),\n  },\n  image: {\n    marginTop: 50,\n    display: \"inline-block\",\n    maxWidth: \"100%\",\n    width: 560,\n  },\n}));\n\nconst NotFoundView = () => {\n  const classes = useStyles();\n\n  return (\n    <Page className={classes.root} title=\"404\">\n      <Box display=\"flex\" flexDirection=\"column\" height=\"100%\" justifyContent=\"center\">\n        <Container maxWidth=\"md\">\n          <Typography align=\"center\" color=\"textPrimary\" variant=\"h1\">\n            404: The page you are looking for isn’t here\n          </Typography>\n          <Typography align=\"center\" color=\"textPrimary\" variant=\"subtitle2\">\n            You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation\n          </Typography>\n          <Box textAlign=\"center\">{/* <img alt=\"Under development\" className={classes.image} src=\"/static/images/undraw_page_not_found_su7k.svg\" /> */}</Box>\n        </Container>\n      </Box>\n    </Page>\n  );\n};\n\nexport default NotFoundView;\n","import Avatar from \"@material-ui/core/Avatar\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Container from \"@material-ui/core/Container\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Link from \"@material-ui/core/Link\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\nimport { setLocalToken, setRemember, setSessionToken } from \"src/utils/mng-token\";\nimport { getRouteByRole, setLocalRole, setSessionRole } from \"../../../utils/mng-role\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright © \"}\n      <Link component={RouterLink} to=\"/\">\n        B4E Website\n      </Link>{\" \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  alert: {\n    marginTop: theme.spacing(3),\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  link: {\n    color: theme.palette.primary.main,\n  },\n}));\n\nexport default function SignIn() {\n  const classes = useStyles();\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\",\n    remember: true,\n  });\n  const [errors, setErrors] = useState(null);\n  const navigate = useNavigate();\n\n  async function hdSubmit(e) {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\"/acc/signin\", { email: state.email, password: state.password });\n      const body = response.data;\n      if (state.remember) {\n        setLocalToken(body.token);\n        setLocalRole(body.role);\n        setRemember(true);\n      } else {\n        setSessionToken(body.token);\n        setSessionRole(body.role);\n        setRemember(false);\n      }\n      navigate(getRouteByRole(body.role));\n    } catch (error) {\n      setErrors(error.response.data);\n    }\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h3\">\n          Đăng nhập\n        </Typography>\n        <form className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            value={state.email}\n            onChange={(e) => {\n              setState({ ...state, email: e.target.value });\n              setErrors({ ...errors, email: null });\n            }}\n            error={Boolean(errors?.email)}\n            helperText={errors?.email}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Mật khẩu\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"password\"\n            value={state.password}\n            onChange={(e) => {\n              setState({ ...state, password: e.target.value });\n              setErrors({ ...errors, password: null });\n            }}\n            error={Boolean(errors?.password)}\n            helperText={errors?.password}\n          />\n          <FormControlLabel\n            control={\n              <Checkbox checked={state.remember} onChange={(e) => setState({ ...state, remember: !state.remember })} color=\"primary\" />\n            }\n            label=\"Nhớ đăng nhập\"\n          />\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} onClick={hdSubmit}>\n            Đăng nhập\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item xs></Grid>\n            <Grid item xs>\n              <Typography align=\"right\">\n                <Link componet={RouterLink} to=\"#\" variant=\"body2\">\n                  Quên mật khẩu?\n                </Link>\n              </Typography>\n            </Grid>\n            {/* <Grid item>\n              <Link component={RouterLink} to=\"/dang-ki\">\n                {\"Chưa có tài khoản? Đăng kí\"}\n              </Link>\n            </Grid> */}\n          </Grid>\n        </form>\n      </div>\n      <Box mt={6}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n","import Avatar from \"@material-ui/core/Avatar\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Container from \"@material-ui/core/Container\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Link from \"@material-ui/core/Link\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport { Alert } from \"@material-ui/lab\";\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\nimport { setLocalToken, setRemember } from \"src/utils/mng-token\";\nimport { getRouteByRole, setLocalRole } from \"../../../utils/mng-role\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright © \"}\n      <Link component={RouterLink} to=\"/\">\n        B4E Website\n      </Link>{\" \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  alert: {\n    marginTop: theme.spacing(3),\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignUp() {\n  const classes = useStyles();\n\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\",\n    repassword: \"\",\n  });\n\n  const [errors, setErrors] = useState({});\n  const [success, setSuccess] = useState(null);\n  const navigate = useNavigate();\n\n  async function hdSubmit(e) {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\"/acc/signup\", state);\n      const result = response.data;\n      setLocalToken(result.token);\n      setLocalRole(result.role);\n      setRemember(true);\n      setErrors(null);\n      setSuccess(\"Đăng kí tài khoản thành công!\");\n      setTimeout(() => navigate(getRouteByRole(result.role)), 1000);\n    } catch (error) {\n      setErrors(error.response.data);\n    }\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h3\">\n          Đăng kí tài khoản Trường học\n        </Typography>\n        <div>\n          {success ? (\n            <Alert className={classes.alert} severity=\"success\">\n              {success}\n            </Alert>\n          ) : null}\n        </div>\n        <form className={classes.form} noValidate>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email\"\n                value={state.email}\n                onChange={(e) => {\n                  setState({ ...state, email: e.target.value });\n                  setErrors(null);\n                }}\n                error={Boolean(errors?.email)}\n                helperText={errors?.email}\n                disabled={Boolean(success)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                label=\"Mật khẩu\"\n                type=\"password\"\n                id=\"password\"\n                value={state.password}\n                onChange={(e) => {\n                  setState({ ...state, password: e.target.value });\n                  setErrors(null);\n                }}\n                error={Boolean(errors?.password)}\n                helperText={errors?.password}\n                disabled={Boolean(success)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                label=\"Nhập lại mật khẩu\"\n                type=\"password\"\n                id=\"rePassword\"\n                value={state.repassword}\n                onChange={(e) => {\n                  setState({ ...state, repassword: e.target.value });\n                  setErrors(null);\n                }}\n                error={Boolean(errors?.repassword)}\n                helperText={errors?.repassword}\n                disabled={Boolean(success)}\n              />\n            </Grid>\n          </Grid>\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} onClick={hdSubmit}>\n            Đăng kí\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link component={RouterLink} to=\"/dang-nhap\">\n                Bạn đã có tài khoản rồi? Đăng nhập\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n","import { Avatar, Box, Paper, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport { useState } from \"react\";\nimport AvatarEditor from \"react-avatar-edit\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { ERR_TOP_CENTER, SUCCESS_BOTTOM_RIGHT } from \"../../../utils/snackbar-utils\";\nimport { updateImgSrc } from \"./redux\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  avatar: {\n    height: 128,\n    width: 128,\n    margin: \"auto\",\n    position: \"relative\",\n  },\n  paper: {\n    marginTop: \"-64px\",\n    width: \"100%\",\n  },\n  name: {\n    fontWeight: 600,\n  },\n  description: {\n    fontWeight: 300,\n    lineHeight: \"1.5rem\",\n  },\n}));\n\nexport default function AvatarBar() {\n  const cls = useStyles();\n  const schoolName = useSelector((state) => state.profileSlice.universityName);\n  const avatarSrc = useSelector((state) => state.profileSlice.imgSrc);\n  const description = useSelector((state) => state.profileSlice.description);\n\n  const { enqueueSnackbar } = useSnackbar();\n  const dp = useDispatch();\n\n  const [shouldShowEditor, setShowEditor] = useState(!avatarSrc);\n  const [cropedImgBase64, setCropedImgBase64] = useState(null);\n\n  function hdCrop(cropedImg) {\n    setCropedImgBase64(cropedImg);\n  }\n\n  async function hdClose() {\n    await hdChangeCropedAvatar(base64ToFile(cropedImgBase64, \"avatar\"));\n    setShowEditor(false);\n  }\n\n  // convert base64 -> File to send it to backend\n  function base64ToFile(dataurl, filename) {\n    var arr = dataurl.split(\",\"),\n      mime = arr[0].match(/:(.*?);/)[1],\n      bstr = atob(arr[1]),\n      n = bstr.length,\n      u8arr = new Uint8Array(n);\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n);\n    }\n    return new File([u8arr], filename, { type: mime });\n  }\n\n  async function hdChangeCropedAvatar(file) {\n    const formData = new FormData();\n    formData.append(\"avatar\", file);\n    try {\n      const response = await axios.post(\"/staff/change-avatar\", formData);\n      dp(updateImgSrc(response.data));\n      enqueueSnackbar(\"Cập nhật Avatar thành công!\", SUCCESS_BOTTOM_RIGHT);\n    } catch (error) {\n      console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n    }\n  }\n\n  // async function hdChangeAvatar(e) {\n  //   setShowEditor(true);\n  // }\n\n  return (\n    <Box className={cls.root}>\n      {shouldShowEditor ? (\n        <div>\n          <div style={{ width: 300, height: 128, margin: \"auto\", position: \"relative\" }}>\n            <AvatarEditor\n              width={300}\n              height={128}\n              label=\"Ảnh đại diện\"\n              imageHeight={256}\n              // exportAsSquare\n              // exportSize\n              onCrop={hdCrop}\n              onClose={hdClose}\n            ></AvatarEditor>\n          </div>\n        </div>\n      ) : (\n        // <label htmlFor=\"avatar\">\n        //   <input type=\"file\" accept=\"image/*\" id=\"avatar\" style={{ display: \"none\" }} onChange={hdChangeAvatar} />\n        //   <Avatar src={avatarSrc} className={cls.avatar}></Avatar>\n        // </label>\n        <Avatar src={avatarSrc} className={cls.avatar} onClick={() => {}}></Avatar>\n      )}\n\n      <Paper className={cls.paper}>\n        <Box textAlign=\"center\" px={3} pb={3} pt={\"96px\"}>\n          <Typography variant=\"h5\" gutterBottom>\n            Cán bộ Trường\n          </Typography>\n          <Typography variant=\"h3\" gutterBottom className={cls.name}>\n            {schoolName || \"Trường ĐH ABC\"}\n          </Typography>\n          <Typography variant=\"body2\" className={cls.description}>\n            {description ||\n              \"Quisque laoreet, sem a cursus blandit, lectus libero vestibulum purus, id malesuada risus sem id nulla. Curabitur suscipit, dolor at imperdiet dapibus, arcu massa semper enim, vitae consectetur nulla leo blandit nisi. Duis aliquam non turpis sit amet pellentesque. Sed arcu neque, sollicitudin vel ultricies\"}\n          </Typography>\n        </Box>\n      </Paper>\n    </Box>\n  );\n}\n","import { Box, Button, Grid, IconButton, InputAdornment, makeStyles, Paper, TextField, Typography } from \"@material-ui/core\";\nimport AccountBalanceWalletIcon from \"@material-ui/icons/AccountBalanceWallet\";\nimport axios from \"axios\";\nimport \"date-fns\";\nimport { useSnackbar } from \"notistack\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\nimport { ERR_TOP_CENTER, INFO_TOP_CENTER, SUCCESS_BOTTOM_CENTER } from \"../../../utils/snackbar-utils\";\nimport { setProfile } from \"./redux\";\nconst { PrivateKey } = require(\"eciesjs\");\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& .MuiFormLabel-root.Mui-disabled\": {\n      color: theme.palette.primary.main,\n    },\n    \"& .MuiInputBase-input.Mui-disabled\": {\n      color: \"black\",\n    },\n  },\n  head: {\n    width: \"95%\",\n    margin: \"auto\",\n    padding: theme.spacing(2.5, 2),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    position: \"relative\", // this bring head foreground\n  },\n  body: { width: \"100%\", marginTop: \"-32px\" },\n  box: {\n    padding: theme.spacing(8, 3, 3, 3),\n    \"& > *\": {\n      marginBottom: theme.spacing(4),\n      \"&:last-child\": {\n        marginBottom: 0,\n      },\n    },\n  },\n}));\n\nexport default function ProfileForm() {\n  const cls = useStyles();\n  const profile = useSelector((state) => state.profileSlice);\n  const [state, setState] = useState(profile);\n  const dp = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n  const disable = Boolean(profile.state === \"voting\" || profile.state === \"accepted\" || profile.state === \"declined\");\n\n  async function hdSubmit(e) {\n    if (!profile.imgSrc) {\n      return enqueueSnackbar(\"Cần bổ sung ảnh đại diện trước khi đăng kí tham gia\", INFO_TOP_CENTER);\n    }\n\n    try {\n      const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\n      await axios.post(\"/staff/register\", {\n        profile: { ...state, fetching: undefined, imgSrc: profile.imgSrc },\n        privateKeyHex,\n      });\n\n      enqueueSnackbar(\"Đăng kí tham gia thành công, đang chờ kết quả bỏ phiếu!\", SUCCESS_BOTTOM_CENTER);\n      dp(setProfile({ ...state, imgSrc: profile.imgSrc, state: \"voting\" }));\n    } catch (error) {\n      console.log(typeof error.response.data);\n      return console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n    }\n  }\n\n  // get public key to fill the form\n  async function hdSelectAccountFromWallet() {\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\n    setState({ ...state, publicKey: PrivateKey.fromHex(privateKeyHex).publicKey.toHex(true) });\n  }\n\n  return (\n    <Box className={cls.root}>\n      <Paper className={cls.head}>\n        <Typography variant=\"h3\">Thông tin Trường học</Typography>\n        <Typography variant=\"subtitle1\">Thông tin này sẽ được hiển thị với BGD và các Trường khác</Typography>\n      </Paper>\n      <Box className={cls.body}>\n        <Paper>\n          <Box className={cls.box}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <TextField\n                  InputLabelProps={{ shrink: true }}\n                  fullWidth\n                  label=\"Tên Trường\"\n                  value={state?.universityName}\n                  onChange={(e) => setState({ ...state, universityName: e.target.value })}\n                  disabled={disable}\n                ></TextField>\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <TextField\n                  InputLabelProps={{ shrink: true }}\n                  fullWidth\n                  label=\"Tên Tiếng Anh\"\n                  value={state?.nameInEnglish}\n                  onChange={(e) => setState({ ...state, nameInEnglish: e.target.value })}\n                  disabled={disable}\n                ></TextField>\n              </Grid>\n            </Grid>\n\n            <TextField\n              InputLabelProps={{ shrink: true }}\n              fullWidth\n              label=\"Địa chỉ\"\n              value={state?.address}\n              onChange={(e) => setState({ ...state, address: e.target.value })}\n              disabled={disable}\n            ></TextField>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <TextField\n                  InputLabelProps={{ shrink: true }}\n                  fullWidth\n                  label=\"Email\"\n                  value={state?.email}\n                  onChange={(e) => setState({ ...state, email: e.target.value })}\n                  disabled={true}\n                ></TextField>\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <TextField\n                  InputLabelProps={{ shrink: true }}\n                  fullWidth\n                  label=\"Số điện thoại\"\n                  value={state?.phone}\n                  onChange={(e) => setState({ ...state, phone: e.target.value })}\n                  disabled={disable}\n                ></TextField>\n              </Grid>\n            </Grid>\n            <TextField\n              InputLabelProps={{ shrink: true }}\n              fullWidth\n              label=\"Khóa công khai\"\n              value={state?.publicKey}\n              onChange={(e) => setState({ ...state, publicKey: e.target.value })}\n              disabled={disable}\n              InputProps={{\n                endAdornment: !disable && (\n                  <InputAdornment position=\"end\">\n                    <IconButton onClick={hdSelectAccountFromWallet}>\n                      <AccountBalanceWalletIcon></AccountBalanceWalletIcon>\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            ></TextField>\n            <TextField\n              InputLabelProps={{ shrink: true }}\n              fullWidth\n              label=\"Mô tả khác\"\n              multiline\n              rows={4}\n              value={state?.description}\n              onChange={(e) => setState({ ...state, description: e.target.value })}\n              disabled={disable}\n            ></TextField>\n            {!disable && (\n              <Box textAlign=\"right\">\n                <Button color=\"primary\" variant=\"contained\" onClick={hdSubmit}>\n                  Đăng kí tham gia\n                </Button>\n              </Box>\n            )}\n          </Box>\n        </Paper>\n      </Box>\n    </Box>\n  );\n}\n","import { Avatar, Box, makeStyles, Paper, Table, TableBody, TableCell, TableContainer, TableRow, Typography } from \"@material-ui/core\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\nimport HowToVoteIcon from \"@material-ui/icons/HowToVote\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateVotingState } from \"./redux\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& .MuiTableCell-sizeSmall\": {\n      padding: theme.spacing(1),\n    },\n  },\n  head: {\n    width: \"95%\",\n    margin: \"auto\",\n    padding: theme.spacing(2.5, 2),\n    backgroundColor: (props) => {\n      if (props.votingState === \"voting\") return theme.palette.info.main;\n      else if (props.votingState === \"accepted\") return theme.palette.success.main;\n      else if (props.votingState === \"declined\") return theme.palette.error.main;\n      else return theme.palette.primary.main;\n    },\n    color: \"white\",\n    position: \"relative\", // this bring head foreground\n  },\n  body: { width: \"100%\", marginTop: \"-32px\", padding: theme.spacing(6, 2, 2, 2) },\n}));\n\nexport default function VotingState(props) {\n  const votingState = useSelector((state) => state.profileSlice.state);\n  const votes = useSelector((state) => state.profileSlice.votes);\n  const cls = useStyles({ votingState });\n  const dp = useDispatch();\n\n  // interval update voting state! (y), so professional!\n  useEffect(() => {\n    if (votingState === \"voting\") {\n      const clockId = setInterval(async () => {\n        try {\n          const response = await axios.get(\"/staff/my-university-profile\");\n          dp(updateVotingState(response.data));\n        } catch (error) {\n          console.error(error);\n        }\n      }, 3000);\n      return () => {\n        window.clearInterval(clockId);\n      };\n    }\n  });\n\n  return (\n    <div>\n      <Box className={cls.root}>\n        <Paper className={cls.head}>\n          <Typography variant=\"h3\">\n            {votingState === \"voting\" && (\n              <>\n                Đang bỏ phiếu <HowToVoteIcon></HowToVoteIcon>\n              </>\n            )}\n            {votingState === \"accepted\" && (\n              <>\n                Đã tham gia <DoneAllIcon></DoneAllIcon>\n              </>\n            )}\n            {votingState === \"declined\" && (\n              <>\n                Đã bị từ chối <CloseIcon></CloseIcon>\n              </>\n            )}\n          </Typography>\n        </Paper>\n        <Paper className={cls.body}>\n          <TableContainer>\n            <Table size=\"small\">\n              <TableBody>\n                {votes &&\n                  votes.map((vote, index) => (\n                    <TableRow key={index}>\n                      <TableCell>\n                        <Avatar src={vote.imgSrc}></Avatar>\n                      </TableCell>\n                      <TableCell>{vote.isMinistry ? vote.name : vote.universityName}</TableCell>\n                      <TableCell>\n                        {vote.decision === \"accept\" && <CheckIcon color=\"primary\"></CheckIcon>}\n                        {vote.decision === \"decline\" && <CloseIcon color=\"secondary\"></CloseIcon>}\n                      </TableCell>\n                      <TableCell>\n                        <i>\n                          <small>{vote.time}</small>\n                        </i>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Paper>\n      </Box>\n    </div>\n  );\n}\n","import { Box, Grid } from \"@material-ui/core\";\nimport { useSelector } from \"react-redux\";\nimport Page from \"src/shared/Page\";\nimport AvatarBar from \"./AvatarBar\";\nimport ProfileForm from \"./ProfileForm\";\nimport VotingState from \"./VotingState\";\n\nexport default function MakeRequest() {\n  const votingState = useSelector((state) => state.profileSlice.state);\n  return (\n    <Page title=\"Đăng kí tham gia\">\n      <Grid container spacing={3}>\n        <Grid item xs={12} md={8}>\n          <ProfileForm></ProfileForm>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <AvatarBar></AvatarBar>\n          <Box mt={2}>\n            {(votingState === \"voting\" || votingState === \"accepted\" || votingState === \"declined\") && <VotingState></VotingState>}\n          </Box>\n        </Grid>\n      </Grid>\n    </Page>\n  );\n}\n","import Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\n// table show school info\nexport default function BallotBody({ ballot }) {\n  return (\n    <div>\n      <TableContainer component={Paper}>\n        <Table size=\"small\">\n          <TableBody>\n            <TableRow>\n              <TableCell>Tên Tiếng Anh</TableCell>\n              <TableCell>{ballot.nameInEnglish}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>Địa chỉ</TableCell>\n              <TableCell>{ballot.address}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>Email</TableCell>\n              <TableCell>{ballot.email}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>Số điện thoại</TableCell>\n              <TableCell>{ballot.phone}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>Public key</TableCell>\n              <TableCell>{ballot.publicKey}</TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n}\n","import { Avatar, Box, Button, Typography } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport { useDispatch } from \"react-redux\";\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\nimport { ERR_TOP_CENTER, SUCCESS_BOTTOM_CENTER } from \"../../../utils/snackbar-utils\";\nimport { collapseBallot } from \"./redux\";\n\nexport default function BallotHeader({ ballot }) {\n  const dp = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  async function hdVote(decision, publicKeyOfRequest) {\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\n    try {\n      const response = await axios.post(\"/staff/vote\", { decision, publicKeyOfRequest, privateKeyHex });\n      dp(collapseBallot({ publicKey: publicKeyOfRequest }));\n      enqueueSnackbar(\"Đã bỏ phiếu xong!\", SUCCESS_BOTTOM_CENTER);\n    } catch (error) {\n      console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n    }\n  }\n\n  return (\n    <div>\n      <Box bgcolor=\"white\" px={2} py={1} display=\"flex\" alignItems=\"center\">\n        <Box flexGrow={1} display=\"flex\" alignItems=\"center\">\n          <Avatar src={ballot.imgSrc}></Avatar>\n          <Box mx={2}>\n            <Typography variant=\"h5\">{ballot.universityName}</Typography>\n          </Box>\n        </Box>\n        <Box pr={2} flexShrink={0}>\n          <Button variant=\"contained\" color=\"primary\" onClick={(e) => hdVote(\"accept\", ballot.publicKey)}>\n            Đồng ý\n          </Button>\n        </Box>\n        <Box flexShrink={0}>\n          <Button onClick={(e) => hdVote(\"decline\", ballot.publicKey)}>Từ chối</Button>\n        </Box>\n      </Box>\n    </div>\n  );\n}\n","import { Box, Collapse } from \"@material-ui/core\";\nimport BallotBody from \"src/shared/BallotBody\";\nimport BallotHeader from \"./BallotHeader\";\n\nexport default function Ballot({ ballot }) {\n  return (\n    <Collapse in={ballot.in ?? true} collapsedHeight={0}>\n      <Box mb={3}>\n        <BallotHeader ballot={ballot}></BallotHeader>\n        <BallotBody ballot={ballot}></BallotBody>\n      </Box>\n    </Collapse>\n  );\n}\n","import { Box, Typography } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport { useCallback, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { ERR_TOP_CENTER } from \"../../../utils/snackbar-utils\";\nimport Ballot from \"./Ballot\";\nimport { setBallots } from \"./redux\";\n\nexport default function Ballots(props) {\n  const loading = useSelector((state) => state.votingSlice.fetching);\n  const ballots = useSelector((state) => state.votingSlice.ballots);\n  const numOfNewBallot = useSelector((state) => state.votingSlice.numOfNewBallot);\n\n  const dp = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  // make thing complicated just for remove warning on useEffect :v\n  const fetchNewBallots = useCallback(async () => {\n    try {\n      const response = await axios.get(\"/staff/ballots?state=new\");\n      dp(setBallots(response.data));\n    } catch (error) {\n      console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n    }\n  }, [dp, enqueueSnackbar]);\n\n  useEffect(() => {\n    fetchNewBallots();\n  }, [fetchNewBallots]);\n\n  useEffect(() => {\n    const clockId = setInterval(() => {\n      fetchNewBallots();\n    }, 3000);\n    return () => {\n      window.clearInterval(clockId);\n    };\n  });\n\n  let content =\n    numOfNewBallot > 0 ? (\n      ballots.map((ballot, index) => <Ballot ballot={ballot} key={index}></Ballot>)\n    ) : (\n      <Box py={2} mb={3} bgcolor=\"white\">\n        <Typography variant=\"h4\" align=\"center\">\n          Chưa có thêm yêu cầu bỏ phiếu mới nào!\n        </Typography>\n      </Box>\n    );\n\n  return <div>{loading ? null : content}</div>;\n}\n","import { makeStyles, Typography } from \"@material-ui/core\";\nimport { useSelector } from \"react-redux\";\nimport Page from \"src/shared/Page\";\nimport Ballots from \"./Ballots\";\n\nconst useStyles = makeStyles((theme) => ({\n  flexContainer: {\n    height: \"100%\",\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n}));\nexport default function Voting(props) {\n  const cls = useStyles();\n  const registrationState = useSelector((state) => state.profileSlice.state);\n\n  return (\n    <Page title=\"Bỏ phiếu\">\n      {registrationState === \"accepted\" ? (\n        <Ballots></Ballots>\n      ) : (\n        <div className={cls.flexContainer}>\n          <Typography variant=\"h3\">Hiện tại bạn chưa thể thực hiện bỏ phiếu!</Typography>\n          <Typography variant=\"subtitle1\">Sau khi tham gia thành công bạn sẽ có thể thực hiện bỏ phiếu.</Typography>\n        </div>\n      )}\n    </Page>\n  );\n}\n","import { Paper } from \"@material-ui/core\";\nimport { useSnackbar } from \"notistack\";\nimport React, { useMemo } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\nimport MdInfinite from \"react-ionicons/lib/MdInfinite\";\nimport UseAnimations from \"react-useanimations\";\nimport arrowDown from \"react-useanimations/lib/arrowDown\";\nimport { ERR_TOP_CENTER } from \"../../utils/snackbar-utils\";\n\nconst baseStyle = {\n  flex: 1,\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  padding: \"40px\",\n  borderWidth: 4,\n  borderRadius: 4,\n  borderColor: \"#eeeeee\",\n  borderStyle: \"dashed\",\n  // backgroundColor: \"#fafafa\",\n  // backgroundColor: \"white\",\n  // color: \"#bdbdbd\",\n  color: \"rgba(0,0,0,0.7)\",\n  // outline: \"1px solid #eeeeee\",\n  transition: \"border .24s ease-in-out\",\n};\n\nconst activeStyle = {\n  borderColor: \"#2196f3\",\n};\n\nconst acceptStyle = {\n  borderColor: \"#00e676\",\n};\n\nconst rejectStyle = {\n  borderColor: \"#ff1744\",\n};\n\nexport default function DragnDropZone({ onDropAccepted, uploading }) {\n  const { enqueueSnackbar } = useSnackbar();\n\n  function onDropRejected(fileRejections) {\n    enqueueSnackbar(\"Chỉ chấp nhận excel file!\", ERR_TOP_CENTER);\n  }\n\n  const { getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject } = useDropzone({\n    accept: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n    onDropRejected,\n    onDropAccepted,\n  });\n\n  const style = useMemo(\n    () => ({\n      ...baseStyle,\n      ...(isDragActive ? activeStyle : {}),\n      ...(isDragAccept ? acceptStyle : {}),\n      ...(isDragReject ? rejectStyle : {}),\n    }),\n    [isDragActive, isDragReject, isDragAccept]\n  );\n\n  return (\n    <Paper>\n      <div {...getRootProps({ style })}>\n        <input {...getInputProps()} />\n        {uploading ? (\n          <>\n            <MdInfinite rotate={true} fontSize=\"75px\" />\n            <p>Uploading...</p>\n          </>\n        ) : (\n          <>\n            <UseAnimations animation={arrowDown} size={75} />\n            <p>Drag 'n' drop excel file here, or click to select file</p>\n          </>\n        )}\n      </div>\n    </Paper>\n  );\n}\n","import { Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from \"@material-ui/core\";\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\n\nexport default function SimpleTable({ head, body, minWidth }) {\n  return (\n    <TableContainer>\n      <PerfectScrollbar style={{ paddingBottom: minWidth ? \"24px\" : 0 }}>\n        <Table size=\"small\" style={{ minWidth }}>\n          <TableHead>\n            <TableRow>\n              {head.map((columnTitle, index) => (\n                <TableCell key={index}>{columnTitle}</TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {body.map((row, rowIndex) => (\n              <TableRow key={rowIndex}>\n                {row.map((cell, index) => (\n                  <TableCell key={index}>{cell}</TableCell>\n                ))}\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </PerfectScrollbar>\n    </TableContainer>\n  );\n}\n","import { Box, Button, Collapse, Divider, IconButton, makeStyles, Paper, Typography } from \"@material-ui/core\";\nimport GetAppIcon from \"@material-ui/icons/GetApp\";\nimport SimpleTable from \"../Table/SimpleTable\";\nimport FileSaver from \"file-saver\";\nimport { useState } from \"react\";\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function DownloadExampleData({ title, fileName, head, body, minWidth }) {\n  const cls = useStyles();\n  const [show, setShow] = useState(false);\n\n  function hdClickDownload(e) {\n    e.stopPropagation();\n    FileSaver.saveAs(`/static/excels/${fileName}`, fileName);\n  }\n\n  function toggleCollapse() {\n    setShow(!show);\n  }\n\n  return (\n    <Paper>\n      <Box\n        pl={2}\n        pr={1}\n        display=\"flex\"\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n        onClick={toggleCollapse}\n        style={{ cursor: \"pointer\" }}\n      >\n        <Typography variant=\"h4\">{title || \"Mẫu dữ liệu\"}</Typography>\n        <Box>\n          <IconButton onClick={hdClickDownload}>\n            <GetAppIcon />\n          </IconButton>\n          {show ? (\n            <IconButton onClick={toggleCollapse}>\n              <KeyboardArrowUpIcon />\n            </IconButton>\n          ) : (\n            <IconButton onClick={toggleCollapse}>\n              <KeyboardArrowDownIcon />\n            </IconButton>\n          )}\n        </Box>\n      </Box>\n      <Divider></Divider>\n      <Collapse in={show}>\n        <SimpleTable head={head} body={body} minWidth={minWidth}></SimpleTable>\n      </Collapse>\n    </Paper>\n  );\n}\n","import React from \"react\";\nimport DownloadExampleData from \"../../../shared/DownloadExampleData\";\n\nexport default function TeacherDataExample() {\n  const title = \"Mẫu file dữ liệu Giảng viên\";\n  const fileName = \"v1.2/giang-vien-example.xlsx\";\n  const head = [\"Khoa/Viện*\", \"Bộ môn*\", \"Mã giảng viên*\", \"Họ và tên*\", \"Email*\", \"Số điện thoại\", \"Khóa công khai\"];\n  const body = [\n    [\n      \"KCNTT\",\n      \"CNPM\",\n      \"GV00001\",\n      \"Vũ Văn Thiệu\",\n      \"thieu.vuvan@hust.edu.vn\",\n      982928307,\n      \"0286bdc0501ea9625d83b535021faf29a3b3bf563d4fed85ffd63ede0b498304ed\",\n    ],\n    [\"KCNTT\", \"Innovation Centre\", \"GV00002\", \"Nguyễn Phi Lê\", \"le.nguyenphi@hust.edu.vn\", 1662257624],\n    [\n      \"KCNTT\",\n      \"TTMT\",\n      \"GV00003\",\n      \"Umi Hirose\",\n      \"umi.hirose@soict.hust.edu.vn\",\n      \"\",\n      \"026a80ba4d7b2f12a3cda2fbe1223b37119bda786dec64cc3458e593052dab16bb\",\n    ],\n    [\"KCNTT\", \"TTMT\", \"GV00004\", \"Nguyễn Ngọc Bích A\", \"bichann@soict.hust.edu.vn\"],\n    [\n      \"KCNTT\",\n      \"TTMT\",\n      \"GV00005\",\n      \"Ngô Lam Trung\",\n      \"trung.ngolam@hust.edu.vn\",\n      968395999,\n      \"0383d83af8b1358baa794d736ddf018eaab7c9a1c0cc6ccf11751cb183b07ec2d1\",\n    ],\n    [\n      \"KCNTT\",\n      \"CNPM\",\n      \"GV00006\",\n      \"Nguyễn Văn Hiên\",\n      \"nguyenvanhienbkhn@gmail.com\",\n      \"\",\n      \"03870c5a3a1add1875fa125f2194c563f27f75c806cb6a30826caafb1bad8f8a15\",\n    ],\n    // [\"KCNTT\", \"KHMT\", \"GV00007\", \"Nguyễn Linh Giang\", \"giang.nguyenlinh@hust.edu.vn\", 912725672],\n    // [\"KCNTT\", \"HTTT\", \"GV00008\", \"Đỗ Quốc Huy\", \"huy.doquoc@hust.edu.vn\", 936356172],\n  ];\n  return <DownloadExampleData {...{ title, fileName, head, body }} minWidth={\"1500px\"}></DownloadExampleData>;\n}\n","import { Link } from \"@material-ui/core\";\n\nfunction getHost() {\n  const url = process.env.REACT_APP_BACKEND_URL;\n  const parts = url.split(\":\");\n  parts.pop();\n  const host = parts.join(\":\");\n  //  console.log(host);\n  return host;\n}\n\nfunction getLinkFromTxid(txid, length) {\n  if (!length) length = 30;\n  return (\n    <Link target=\"_blank\" href={`${process.env.REACT_APP_EXPLORER_URL}/#/transactions/${txid}`}>\n      {txid.slice(0, length)}...\n    </Link>\n  );\n}\n\nfunction toDateTimeString(timestamp) {\n  return ` ${new Date(timestamp).toISOString().split(\"T\")[0]}, ${new Date(timestamp).toISOString().split(\"T\")[1].split(\".\")[0]}`;\n}\n\nexport { getHost, getLinkFromTxid, toDateTimeString };\n","import { useEffect } from \"react\";\nimport {\n  Accordion,\n  makeStyles,\n  AccordionSummary,\n  AccordionDetails,\n  Typography,\n  Box,\n  CircularProgress,\n  AccordionActions,\n  Button,\n} from \"@material-ui/core\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getToken } from \"src/utils/mng-token\";\nimport { setPreloadHistory } from \"./redux\";\nimport { useSnackbar } from \"notistack\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport SimpleTable from \"../../../shared/Table/SimpleTable\";\nimport GetAppIcon from \"@material-ui/icons/GetApp\";\nimport XLSX from \"xlsx\";\nimport { getLinkFromTxid } from \"../../../utils/utils\";\nimport { ERR_TOP_CENTER } from \"../../../utils/snackbar-utils\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n}));\n\nexport default function TeacherUploadHistory() {\n  const cls = useStyles();\n  const fetching = useSelector((state) => state.teacherSlice.fetching);\n  const history = useSelector((state) => state.teacherSlice.history);\n  const dp = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    fetchHistory();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function fetchHistory() {\n    const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/v1.2/staff/teacher-history`, {\n      headers: { Authorization: getToken() },\n    });\n    if (!response.ok) {\n      enqueueSnackbar(`${response.status}: ${await response.text()}`, ERR_TOP_CENTER);\n    } else {\n      const result = await response.json();\n      dp(setPreloadHistory(result));\n    }\n  }\n  async function hdDownloadClick(e, item) {\n    const wb = XLSX.utils.book_new();\n    const ws = XLSX.utils.json_to_sheet(item.profiles);\n    XLSX.utils.book_append_sheet(wb, ws, \"Giảng viên - \" + item.time);\n    XLSX.writeFile(wb, item.time + \" - \" + item.originalFileName);\n  }\n  const head = [\"Bộ môn\", \"Mã giảng viên\", \"Họ và tên\", \"Account\", \"Password\", \"Txid\"];\n  // const title = \"Lịch sử upload Giảng viên\";\n  const content = (\n    <Box>\n      {history.map((item, index) => {\n        const body = item.profiles.map((profile) => [\n          profile.department,\n          profile.teacherId,\n          profile.name,\n          profile.email,\n          profile.firstTimePassword,\n          getLinkFromTxid(profile.txid),\n        ]);\n        return (\n          <Accordion key={index}>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} id={item._id}>\n              <Typography className={cls.heading}>{`#${index + 1}, ${item.time}, ${item.originalFileName}`}</Typography>\n            </AccordionSummary>\n            <AccordionDetails>\n              <SimpleTable head={head} body={body}></SimpleTable>\n            </AccordionDetails>\n            <AccordionActions>\n              <Button startIcon={<GetAppIcon />} variant=\"outlined\" color=\"primary\" onClick={(e) => hdDownloadClick(e, item)}>\n                Download\n              </Button>\n            </AccordionActions>\n          </Accordion>\n        );\n      })}\n    </Box>\n  );\n  return fetching ? null : content;\n}\n","import { makeStyles } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Page from \"src/shared/Page\";\nimport DragnDropZone from \"../../../shared/DragnDropZone\";\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\nimport { ERR_TOP_CENTER, SUCCESS_BOTTOM_CENTER } from \"../../../utils/snackbar-utils\";\nimport { startUploadFile, uploadFileFail, uploadFileSuccess } from \"./redux\";\nimport TeacherDataExample from \"./TeacherDataExample\";\nimport TeacherUploadHistory from \"./TeacherUploadHistory\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      marginBottom: theme.spacing(2),\n      \"&:last-child\": {\n        marginBottom: 0,\n      },\n    },\n    paddingBottom: theme.spacing(2.5),\n  },\n}));\n\nexport default function CreateTeacherAccount() {\n  const cls = useStyles();\n  const uploading = useSelector((state) => state.teacherSlice.uploading);\n  const dp = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  async function hdUploadFile(files) {\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\n    dp(startUploadFile());\n    const formData = new FormData();\n    formData.append(\"excel-file\", files[0]);\n    formData.append(\"privateKeyHex\", privateKeyHex);\n    try {\n      const response = await axios.post(\"/staff/create-teacher\", formData);\n      dp(uploadFileSuccess(response.data));\n      enqueueSnackbar(\"Tạo tài khoản các giảng viên thành công!\", SUCCESS_BOTTOM_CENTER);\n    } catch (error) {\n      dp(uploadFileFail());\n      console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n    }\n  }\n\n  return (\n    <Page title=\"Tạo tài khoản giảng viên \">\n      <div className={cls.root}>\n        <TeacherDataExample></TeacherDataExample>\n        <DragnDropZone onDropAccepted={hdUploadFile} uploading={uploading}></DragnDropZone>\n        <TeacherUploadHistory></TeacherUploadHistory>\n      </div>\n    </Page>\n  );\n}\n","import React from \"react\";\nimport DownloadExampleData from \"../../../shared/DownloadExampleData\";\n\nexport default function StudentDataExample() {\n  const title = \"Mẫu file dữ liệu Sinh viên\";\n  const fileName = \"v1.2/sinh-vien-example.xlsx\";\n  const head = [\n    \"MSSV*\",\n    \"Họ tên*\",\n    \"Ngày sinh*\",\n    \"Giới tính*\",\n    \"Email*\",\n    \"CMT/CCCD*\",\n    \"Khoa/Viện*\",\n    \"Mã CTĐT*\",\n    \"Tên CTĐT*\",\n    \"Số Tín chỉ*\",\n    \"Số năm tối thiểu*\",\n    \"Số năm tối đa*\",\n    \"Khóa công khai\",\n  ];\n  const body = [\n    [\n      20195753,\n      \"Đỗ Hòa An\",\n      \"09/24/2001\",\n      \"Nam\",\n      \"an.dh295753@sis.hust.edu.vn\",\n      125810987,\n      \"Viện Công nghệ Thông tin và Truyền thông\",\n      \"KTMT-1125\",\n      \"Kỹ thuật máy tính - K64\",\n      156,\n      4,\n      8,\n      \"03870c5a3a1add1875fa125f2194c563f27f75c806cb6a30826caafb1bad8f8a15\",\n    ],\n    [\n      20195754,\n      \"Hoàng Đình Lương An\",\n      \"12/26/2001\",\n      \"Nam\",\n      \"an.hdl195755@sis.hust.edu.vn\",\n      125810988,\n      \"Viện Công nghệ Thông tin và Truyền thông\",\n      \"KHMT-1128\",\n      \"Khoa học máy tính - K64\",\n      156,\n      4,\n      8,\n    ],\n    [\n      20195755,\n      \"Bùi Hải Anh\",\n      \"03/08/2001\",\n      \"Nam\",\n      \"anh.bh955755@sis.hust.edu.vn\",\n      125810989,\n      \"Viện Công nghệ Thông tin và Truyền thông\",\n      \"MMT-1124\",\n      \"Mạng máy tính - K64\",\n      156,\n      4,\n      8,\n      \"032992facb0305156288c226048b0fc657ec454c9854547b0829de5cc5026c625a\",\n    ],\n    [\n      20195756,\n      \"Bùi Quang Anh\",\n      \"11/14/2001\",\n      \"Nam\",\n      \"anh.bq5756@sis.hust.edu.vn\",\n      125810990,\n      \"Viện Công nghệ Thông tin và Truyền thông\",\n      \"KTMT-1125\",\n      \"Kỹ thuật máy tính - K64\",\n      156,\n      4,\n      8,\n      \"03a4700a378d5c47cb4be263312188768e82226e1af90e31cb518d46b53591cdf9\",\n    ],\n    [\n      20196277,\n      \"Đào Hoàng Anh\",\n      \"07/17/2001\",\n      \"Nam\",\n      \"anh.dh196277@sis.hust.edu.vn\",\n      125810991,\n      \"Viện Công nghệ Thông tin và Truyền thông\",\n      \"KHMT-1128\",\n      \"Công nghệ phần mềm - K64\",\n      156,\n      4,\n      8,\n    ],\n    [\n      20196278,\n      \"Đào Lương Duy Anh\",\n      \"07/20/2001\",\n      \"Nam\",\n      \"anh.dld296278@sis.hust.edu.vn\",\n      125810992,\n      \"Viện Công nghệ Thông tin và Truyền thông\",\n      \"MMT-1124\",\n      \"Kỹ thuật máy tính - K64\",\n      156,\n      4,\n      8,\n    ],\n  ];\n  return <DownloadExampleData {...{ title, fileName, head, body }} minWidth={\"2500px\"}></DownloadExampleData>;\n}\n","import { Accordion, AccordionActions, AccordionDetails, AccordionSummary, Box, Button, makeStyles, Typography } from \"@material-ui/core\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { useSnackbar } from \"notistack\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getToken } from \"src/utils/mng-token\";\nimport SimpleTable from \"../../../shared/Table/SimpleTable\";\nimport { setPreloadHistory } from \"./redux\";\nimport GetAppIcon from \"@material-ui/icons/GetApp\";\nimport XLSX from \"xlsx\";\nimport { ERR_TOP_CENTER } from \"../../../utils/snackbar-utils\";\nimport axios from \"axios\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n}));\n\nexport default function StudentUploadHistory() {\n  const cls = useStyles();\n  const fetching = useSelector((state) => state.studentSlice.fetching);\n  const history = useSelector((state) => state.studentSlice.history);\n  const dp = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    fetchHistory();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function fetchHistory() {\n    try {\n      const response = await axios.get(\"/staff/student-history\");\n      dp(setPreloadHistory(response.data));\n    } catch (error) {\n      console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n    }\n  }\n\n  async function hdDownloadClick(e, item) {\n    const wb = XLSX.utils.book_new();\n    const ws = XLSX.utils.json_to_sheet(item.profiles);\n    XLSX.utils.book_append_sheet(wb, ws, \"Sinh viên - \" + item.time);\n    XLSX.writeFile(wb, item.time + \" - \" + item.originalFileName);\n  }\n\n  const head = [\"Mssv\", \"Họ và tên\", \"Ngày sinh\", \"Email\", \"Password\"];\n  // const title = \"Lịch sử upload sinh viên\";\n  const content = (\n    <Box>\n      {history.map((item, index) => {\n        const body = item.profiles.map((profile) => [\n          profile.studentId,\n          profile.name,\n          profile.birthday,\n          profile.email,\n          profile.firstTimePassword,\n          // profile.txid ?? <CircularProgress size=\"1rem\"></CircularProgress>,\n        ]);\n        return (\n          <Accordion key={index}>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} id={item._id}>\n              <Typography className={cls.heading}>{`#${index + 1}, ${item.time}, ${item.originalFileName}`}</Typography>\n            </AccordionSummary>\n            <AccordionDetails>\n              <SimpleTable head={head} body={body}></SimpleTable>\n            </AccordionDetails>\n            <AccordionActions>\n              <Button startIcon={<GetAppIcon />} variant=\"outlined\" color=\"primary\" onClick={(e) => hdDownloadClick(e, item)}>\n                Download\n              </Button>\n            </AccordionActions>\n          </Accordion>\n        );\n      })}\n    </Box>\n  );\n  return fetching ? null : content;\n}\n","import { makeStyles } from \"@material-ui/core\";\nimport { useSnackbar } from \"notistack\";\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport DragnDropZone from \"../../../shared/DragnDropZone\";\nimport Page from \"src/shared/Page\";\nimport { getToken } from \"src/utils/mng-token\";\nimport StudentDataExample from \"./StudentDataExample\";\nimport StudentUploadHistory from \"./StudentUploadHistory\";\nimport { startUploadFile, uploadFileFail, uploadFileSuccess } from \"./redux\";\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\nimport { ERR_TOP_CENTER, SUCCESS_BOTTOM_CENTER } from \"../../../utils/snackbar-utils\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      marginBottom: theme.spacing(2),\n      \"&:last-child\": {\n        marginBottom: 0,\n      },\n    },\n    paddingBottom: theme.spacing(2.5),\n  },\n}));\n\nexport default function CreateStudentAccount() {\n  const cls = useStyles();\n  const uploading = useSelector((state) => state.studentSlice.uploading);\n  const dp = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  async function hdUploadFile(files) {\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\n    dp(startUploadFile());\n    const formData = new FormData();\n    formData.append(\"excel-file\", files[0]);\n    formData.append(\"privateKeyHex\", privateKeyHex);\n    const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/v1.2/staff/create-student`, {\n      method: \"POST\",\n      headers: { Authorization: getToken() },\n      body: formData,\n    });\n    if (!response.ok) {\n      dp(uploadFileFail());\n      enqueueSnackbar(\"Something went wrong: \" + (await response.text()), ERR_TOP_CENTER);\n    } else {\n      const result = await response.json();\n      dp(uploadFileSuccess(result));\n      enqueueSnackbar(\"Tạo tài khoản các sinh viên thành công!\", SUCCESS_BOTTOM_CENTER);\n    }\n  }\n\n  return (\n    <Page title=\"Tạo tài khoản sinh viên\">\n      <div className={cls.root}>\n        <StudentDataExample></StudentDataExample>\n        <DragnDropZone onDropAccepted={hdUploadFile} uploading={uploading}></DragnDropZone>\n        <StudentUploadHistory></StudentUploadHistory>\n      </div>\n    </Page>\n  );\n}\n","import React from \"react\";\nimport DownloadExampleData from \"../../../shared/DownloadExampleData\";\n\nexport default function ClassDataExample() {\n  const title = \"Mẫu file dữ liệu Lớp học\";\n  const fileName = \"v1.2/lop-hoc-example.xlsx\";\n  const head = [\"Kỳ học*\", \"Mã lớp học*\", \"Mã môn học*\", \"Tên môn học*\", \"Số tín chỉ*\", \"Ghi chú lớp học\", \"Mã Giảng Viên*\", \"DSSV*\"];\n  const body = [\n    [\n      20201,\n      118161,\n      \"IT3180\",\n      \"Nhập môn công nghệ phần mềm\",\n      3,\n      \"**Tài năng-CNTT-K63C, \",\n      \"GV0001\",\n      \"20195753,20195754,20195755,20195756,20196277,20196278,20195757,20195758,20195759\",\n    ],\n    [\n      20201,\n      118585,\n      \"IT3040\",\n      \"Kỹ thuật lập trình\",\n      2,\n      \"Công nghệ thông tin-K63C, \",\n      \"GV0001\",\n      \"20195753,20195754,20195755,20195756,20196277,20196278,20195757,20195758,20195759\",\n    ],\n    [\n      20201,\n      118614,\n      \"IT4501\",\n      \"Đảm bảo chất lượng Phần mềm\",\n      2,\n      \"CNTT-mô đun 2; KHMT-mô đun 1-K62S, \",\n      \"GV0001\",\n      \"20195753,20195754,20195755,20195756,20196277,20196278,20195757,20195758,20195759\",\n    ],\n    [\n      20201,\n      117873,\n      \"IT4501Q\",\n      \"Đảm bảo chất lượng phần mềm \",\n      2,\n      \"[SIE-130-Tiếng Pháp]-G-INP15S, \",\n      \"GV0001\",\n      \"20195753,20195754,20195755,20195756,20196277,20196278,20195757,20195758,20195759\",\n    ],\n    [\n      20201,\n      119435,\n      \"IT1140\",\n      \"Tin học đại cương\",\n      4,\n      \"KTHH 01,02,03,04-K64S, \",\n      \"GV0003\",\n      \"20195753,20195754,20195755,20195756,20196277,20196278,20195757,20195758,20195759\",\n    ],\n    [\n      20201,\n      118626,\n      \"IT4906\",\n      \"Tính toán tiến hóa\",\n      3,\n      \"KHMT-mô đun 3-K62C, \",\n      \"GV0003\",\n      \"20195753,20195754,20195755,20195756,20196277,20196278,20195757,20195758,20195759\",\n    ],\n    [\n      20201,\n      121354,\n      \"IT3220\",\n      \"C Programming (Introduction)\",\n      2,\n      \"*ICT-3-K64S, \",\n      \"GV0004\",\n      \"20195753,20195754,20195755,20195756,20196277,20196278,20195757,20195758,20195759\",\n    ],\n  ];\n  return <DownloadExampleData {...{ title, fileName, head, body }}></DownloadExampleData>;\n}\n","import { Paper } from \"@material-ui/core\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport { useSnackbar } from \"notistack\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getToken } from \"../../../utils/mng-token\";\nimport { ERR_TOP_CENTER } from \"../../../utils/snackbar-utils\";\nimport { getLinkFromTxid } from \"../../../utils/utils\";\nimport { setPreloadClasses } from \"./redux\";\n\nconst columns = [\n  { field: \"id\", headerName: \"#\", width: 75, type: \"string\" },\n  { field: \"semester\", headerName: \"Kì học\", width: 100, type: \"string\" },\n  { field: \"classId\", headerName: \"Mã lớp học\", width: 125, type: \"string\" },\n  { field: \"subjectId\", headerName: \"Mã môn học\", width: 150, type: \"string\" },\n  { field: \"subjectName\", headerName: \"Tên môn học\", width: 250, type: \"string\" },\n  // { field: \"teacherId\", headerName: \"Mã GV\", width: 125, type: \"string\" },\n  { field: \"teacherName\", headerName: \"GV\", width: 200, type: \"string\" },\n  { field: \"studentIds\", headerName: \"DSSV\", width: 500, type: \"string\" },\n  // { field: \"bureauId\", headerName: \"Mã GVU\", width: 125, type: \"string\" },\n  // { field: \"bureauName\", headerName: \"GVU\", width: 200, type: \"string\" },\n  // { field: \"studentIds\", headerName: \"DSSV\", width: 400, type: \"string\" },\n  // { field: \"txid\", headerName: \"Txid\", width: 1200, type: \"string\" },\n  // { field: \"link\", headerName: \"Txid\", width: 1200, type: \"string\" },\n];\n\nexport default function UploadedClassTable(props) {\n  const fetching = useSelector((state) => state.classSlice.fetching);\n  const classes = useSelector((state) => state.classSlice.classes);\n  const classesWithLink = classes.map((clx) => ({\n    ...clx,\n    link: getLinkFromTxid(clx.txid),\n  }));\n  const dp = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    fetchUploadedClass();\n  }, []);\n\n  async function fetchUploadedClass() {\n    const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/v1.2/staff/classes`, {\n      headers: { Authorization: getToken() },\n    });\n    if (!response.ok) {\n      enqueueSnackbar(`${response.status}: ${await response.text()}`, ERR_TOP_CENTER);\n    } else {\n      const result = await response.json();\n      dp(setPreloadClasses(result));\n    }\n  }\n\n  return (\n    classes.length !== 0 && (\n      <Paper style={{ height: \"650px\", width: \"100%\" }}>\n        {fetching ? null : (\n          <DataGrid\n            rows={classesWithLink}\n            columns={columns}\n            pageSize={10}\n            rowsPerPageOptions={[5, 10, 20]}\n            pagination\n            rowHeight={48}\n            loading={fetching}\n          />\n        )}\n      </Paper>\n    )\n  );\n}\n","import { makeStyles } from \"@material-ui/core\";\nimport { Alert } from \"@material-ui/lab\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Page from \"src/shared/Page\";\nimport DragnDropZone from \"../../../shared/DragnDropZone\";\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\nimport { ERR_TOP_CENTER, SUCCESS_BOTTOM_CENTER } from \"../../../utils/snackbar-utils\";\nimport ClassDataExample from \"./ClassDataExample\";\nimport { setShouldShowCaution, startUploadFile, uploadFileFail, uploadFileSuccess } from \"./redux\";\nimport UploadedClassTable from \"./UploadedClassTable\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      marginBottom: theme.spacing(2),\n      \"&:last-child\": {\n        marginBottom: 0,\n      },\n    },\n    paddingBottom: theme.spacing(2.5),\n    \"& .MuiAlert-icon\": {\n      alignItems: \"center\",\n    },\n  },\n}));\n\nexport default function Uploadclass() {\n  const cls = useStyles();\n  const uploading = useSelector((state) => state.classSlice.uploading);\n  const shouldShowCaution = useSelector((state) => state.classSlice.shouldShowCaution);\n  const dp = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  async function hdUploadFile(files) {\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\n    dp(startUploadFile());\n    const formData = new FormData();\n    formData.append(\"excel-file\", files[0]);\n    formData.append(\"privateKeyHex\", privateKeyHex);\n    try {\n      const response = await axios.post(\"/staff/upload-classes\", formData);\n      enqueueSnackbar(\"Upload file thành công!\", SUCCESS_BOTTOM_CENTER);\n      dp(uploadFileSuccess(response.data));\n    } catch (error) {\n      console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n      dp(uploadFileFail());\n    }\n  }\n\n  return (\n    <Page title=\"Upload lớp học\">\n      <div className={cls.root}>\n        {/* TODO: change to not redundancy version would be better */}\n        <ClassDataExample></ClassDataExample>\n\n        {shouldShowCaution && (\n          <Alert severity=\"info\" variant=\"filled\" onClose={() => dp(setShouldShowCaution(false))} style={{ fontSize: \"1.25rem\" }}>\n            Lưu ý: Cần tạo Giảng viên và Sinh viên của lớp học tương ứng trước!\n          </Alert>\n        )}\n        <DragnDropZone onDropAccepted={hdUploadFile} uploading={uploading}></DragnDropZone>\n        <UploadedClassTable></UploadedClassTable>\n      </div>\n    </Page>\n  );\n}\n","import React from \"react\";\nimport DownloadExampleData from \"../../../shared/DownloadExampleData\";\n\nexport default function CertificateDataExample() {\n  const title = \"Mẫu file dữ liệu Bằng cấp\";\n  // TODO: check file excel is update!\n  const fileName = \"v1.2/bang-cap-example.xlsx\";\n  const head = [\n    \"Mã số sinh viên\",\n    \"Chuyên ngành\",\n    \"Loại bằng\",\n    \"Năm tốt nghiệp\",\n    \"Xếp loại\",\n    \"Hình thức đào tạo\",\n    \"Nơi cấp\",\n    \"Ngày cấp\",\n    \"Hiệu trưởng\",\n    \"Số hiệu\",\n    \"Số hiệu vào sổ\",\n  ];\n  const body = [\n    [20195753, \"Khoa học máy tính\", \"Kỹ sư\", 2019, \"Giỏi\", \"Chính quy\", \"Hà Nội\", \"20/11/2020\", \"Huỳnh Quyết Thắng\", 1782649, 48727982437],\n    [20195754, \"Hệ thống thông tin\", \"Kỹ sư\", 2019, \"Giỏi\", \"Chính quy\", \"Hà Nội\", \"20/11/2020\", \"Huỳnh Quyết Thắng\", 1784563, 48727982423],\n    [20195755, \"Công nghệ phần mềm\", \"Kỹ sư\", 2019, \"Giỏi\", \"Chính quy\", \"Hà Nội\", \"20/11/2020\", \"Huỳnh Quyết Thắng\", 1784567, 48727982426],\n    [20195756, \"Mạng máy tính\", \"Kỹ sư\", 2019, \"Giỏi\", \"Chính quy\", \"Hà Nội\", \"20/11/2020\", \"Huỳnh Quyết Thắng\", 1784568, 48727982429],\n  ];\n  return <DownloadExampleData {...{ title, fileName, head, body }} minWidth={\"1500px\"}></DownloadExampleData>;\n}\n","import { Paper } from \"@material-ui/core\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport { useSnackbar } from \"notistack\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { ERR_TOP_CENTER } from \"../../../utils/snackbar-utils\";\nimport { setPreloadCertDocuments } from \"./redux\";\nimport axios from \"axios\";\n\nconst columns = [\n  { field: \"id\", headerName: \"#\", width: 75, type: \"string\" },\n  { field: \"studentId\", headerName: \"Mã số sv\", width: 125, type: \"string\" },\n  { field: \"name\", headerName: \"Họ và tên\", width: 200, type: \"string\" },\n  { field: \"birthday\", headerName: \"Ngày sinh\", width: 150, type: \"string\" },\n  { field: \"gender\", headerName: \"Giới tính\", width: 125, type: \"string\" },\n  { field: \"university\", headerName: \"Trường\", width: 250, type: \"string\" },\n  { field: \"faculty\", headerName: \"Ngành học\", width: 200, type: \"string\" },\n  { field: \"degree\", headerName: \"Loại bằng\", width: 125, type: \"string\" },\n  {\n    field: \"gradyear\",\n    headerName: \"Năm tốt nghiệp\",\n    width: 125,\n    type: \"string\",\n  },\n  { field: \"level\", headerName: \"Xếp loại\", width: 125, type: \"string\" },\n  {\n    field: \"eduform\",\n    headerName: \"Hình thức đào tạo\",\n    width: 200,\n    type: \"string\",\n  },\n  { field: \"issuelocation\", headerName: \"Nơi cấp\", width: 125, type: \"string\" },\n  { field: \"issuedate\", headerName: \"Ngày cấp\", width: 200, type: \"string\" },\n  {\n    field: \"headmaster\",\n    headerName: \"Hiệu trưởng\",\n    width: 200,\n    type: \"string\",\n  },\n  { field: \"regisno\", headerName: \"Số hiệu\", width: 200, type: \"string\" },\n  {\n    field: \"globalregisno\",\n    headerName: \"Số hiệu vào sổ\",\n    width: 200,\n    type: \"string\",\n  },\n  { field: \"version\", headerName: \"Version\", width: 125, type: \"string\" },\n  { field: \"type\", headerName: \"Trạng thái\", width: 200, type: \"string\" },\n  { field: \"timestamp\", headerName: \"Timestamp\", width: 200, type: \"string\" },\n  { field: \"txid\", headerName: \"Txid\", width: 500, type: \"string\" },\n];\n\nexport default function UploadedCertificateTable(props) {\n  const fetching = useSelector((state) => state.certificateSlice.fetching);\n  const docs = useSelector((state) => state.certificateSlice.docs);\n  const newestVersionCertificates = docs\n    .map((doc) => doc.versions[doc.versions.length - 1])\n    .map((cert, index) => ({ ...cert, id: index + 1 }));\n\n  const dp = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    fetchUploadedCertDocuments();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function fetchUploadedCertDocuments() {\n    try {\n      const response = await axios.get(\"/staff/certificates\");\n      dp(setPreloadCertDocuments(response.data));\n    } catch (error) {\n      console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n    }\n  }\n\n  return (\n    newestVersionCertificates.length !== 0 && (\n      <Paper style={{ height: \"650px\", width: \"100%\" }}>\n        {fetching ? null : (\n          <DataGrid\n            rows={newestVersionCertificates}\n            columns={columns}\n            pageSize={10}\n            rowsPerPageOptions={[5, 10, 20]}\n            pagination\n            rowHeight={48}\n            loading={fetching}\n          />\n        )}\n      </Paper>\n    )\n  );\n}\n","import { makeStyles } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Page from \"src/shared/Page\";\nimport DragnDropZone from \"../../../shared/DragnDropZone\";\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\nimport { ERR_TOP_CENTER, SUCCESS_BOTTOM_CENTER } from \"../../../utils/snackbar-utils\";\nimport CertificateDataExample from \"./CertificateDataExample\";\nimport { startUploadFile, uploadFileFail, uploadFileSuccess } from \"./redux\";\nimport UploadedCertificateTable from \"./UploadedCertificateTable\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      marginBottom: theme.spacing(2),\n      \"&:last-child\": {\n        marginBottom: 0,\n      },\n    },\n    paddingBottom: theme.spacing(2.5),\n  },\n}));\n\nexport default function UploadCertificate() {\n  const cls = useStyles();\n  const uploading = useSelector((state) => state.certificateSlice.uploading);\n  const dp = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  async function hdUploadFile(files) {\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\n    dp(startUploadFile());\n    const formData = new FormData();\n    formData.append(\"excel-file\", files[0]);\n    formData.append(\"privateKeyHex\", privateKeyHex);\n    try {\n      const response = await axios.post(\"/staff/upload-certificates\", formData);\n      enqueueSnackbar(\"Upload file thành công!\", SUCCESS_BOTTOM_CENTER);\n      dp(uploadFileSuccess(response.data));\n    } catch (error) {\n      console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n      dp(uploadFileFail());\n    }\n  }\n\n  return (\n    <Page title=\"Upload bằng cấp\">\n      <div className={cls.root}>\n        <CertificateDataExample></CertificateDataExample>\n        <DragnDropZone onDropAccepted={hdUploadFile} uploading={uploading}></DragnDropZone>\n        <UploadedCertificateTable></UploadedCertificateTable>\n      </div>\n    </Page>\n  );\n}\n","import { Avatar, Box, Paper, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useSnackbar } from \"notistack\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getToken } from \"src/utils/mng-token\";\nimport { ERR_TOP_CENTER } from \"../../../utils/snackbar-utils\";\nimport { updateImgSrc } from \"./redux\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  avatar: {\n    height: \"128px\",\n    width: \"128px\",\n    margin: \"auto\",\n    position: \"relative\",\n  },\n  paper: {\n    marginTop: \"-64px\",\n    width: \"100%\",\n  },\n  name: {\n    fontWeight: 600,\n  },\n  description: {\n    fontWeight: 300,\n    lineHeight: \"1.5rem\",\n  },\n}));\n\nexport default function AvatarBar() {\n  const cls = useStyles();\n  const name = useSelector((state) => state.teacherProfileSlice.name);\n  const avatarSrc = useSelector((state) => state.teacherProfileSlice.imgSrc);\n  const description = useSelector((state) => state.teacherProfileSlice.description);\n  const { enqueueSnackbar } = useSnackbar();\n  const dp = useDispatch();\n\n  async function hdChangeAvatar(e) {\n    const formData = new FormData();\n    formData.append(\"avatar\", e.target.files[0]);\n    const res = await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/v1.2/teacher/change-avatar`, {\n      method: \"POST\",\n      headers: { Authorization: getToken() },\n      body: formData,\n    });\n\n    if (!res.ok) {\n      enqueueSnackbar(await res.text(), ERR_TOP_CENTER);\n    } else {\n      const imgSrc = await res.json();\n      dp(updateImgSrc(imgSrc));\n      enqueueSnackbar(\"Cập nhật Avatar thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"right\" } });\n    }\n  }\n\n  return (\n    <Box className={cls.root}>\n      <label htmlFor=\"avatar\">\n        <input type=\"file\" accept=\"image/*\" id=\"avatar\" style={{ display: \"none\" }} onChange={hdChangeAvatar} />\n        <Avatar src={avatarSrc} className={cls.avatar}></Avatar>\n      </label>\n      <Paper className={cls.paper}>\n        <Box textAlign=\"center\" px={3} pb={3} pt={\"96px\"}>\n          <Typography variant=\"h5\" gutterBottom>\n            Giảng viên\n          </Typography>\n          <Typography variant=\"h3\" gutterBottom className={cls.name}>\n            {name}\n          </Typography>\n          <Typography variant=\"body2\" className={cls.description}>\n            {description ||\n              \"Quisque laoreet, sem a cursus blandit, lectus libero vestibulum purus, id malesuada risus sem id nulla. Curabitur suscipit, dolor at imperdiet dapibus, arcu massa semper enim, vitae consectetur nulla leo blandit nisi. Duis aliquam non turpis sit amet pellentesque. Sed arcu neque, sollicitudin vel ultricies\"}\n          </Typography>\n        </Box>\n      </Paper>\n    </Box>\n  );\n}\n","import { Box, Button, Grid, makeStyles, Paper, TextField, Typography } from \"@material-ui/core\";\nimport \"date-fns\";\nimport { useSnackbar } from \"notistack\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getToken } from \"src/utils/mng-token\";\nimport { ERR_TOP_CENTER, SUCCESS_BOTTOM_CENTER } from \"../../../utils/snackbar-utils\";\nimport { setProfile } from \"./redux\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& .MuiFormLabel-root.Mui-disabled\": {\n      color: theme.palette.primary.main,\n    },\n    \"& .MuiInputBase-input.Mui-disabled\": {\n      color: \"black\",\n    },\n  },\n  head: {\n    width: \"95%\",\n    margin: \"auto\",\n    padding: theme.spacing(2.5, 2),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    position: \"relative\", // this bring head foreground\n  },\n  body: { width: \"100%\", marginTop: \"-32px\" },\n  box: {\n    padding: theme.spacing(8, 3, 3, 3),\n    \"& > *\": {\n      marginBottom: theme.spacing(4),\n      \"&:last-child\": {\n        marginBottom: 0,\n      },\n    },\n  },\n}));\n\nexport default function TeacherProfileForm() {\n  const cls = useStyles();\n  const profile = useSelector((state) => state.teacherProfileSlice);\n  const [state, setState] = useState(profile);\n  const dp = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n  const disable = true;\n\n  async function hdSubmit(e) {\n    try {\n      let response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/v1.2/teacher/update-profile`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\", Authorization: getToken() },\n        // delete fetching field before send data to backend to avoid fail validate, delete imgSrc to avoid request too large error.\n        body: JSON.stringify({ ...state, fetching: undefined, imgSrc: undefined }),\n      });\n\n      if (!response.ok) {\n        enqueueSnackbar(`${response.status}: ${await response.text()}`, ERR_TOP_CENTER);\n      } else {\n        const result = await response.json();\n        if (!result.ok) {\n          enqueueSnackbar(\"Có lỗi đã xảy ra, vui lòng thử lại sau!\", ERR_TOP_CENTER);\n          dp(setProfile({ ...state, imgSrc: profile.imgSrc }));\n        } else {\n          enqueueSnackbar(\"Cập nhât thành công!\", SUCCESS_BOTTOM_CENTER);\n          dp(setProfile({ ...state, imgSrc: profile.imgSrc }));\n        }\n      }\n    } catch (error) {\n      alert(error);\n    }\n  }\n\n  return (\n    <Box className={cls.root}>\n      <Paper className={cls.head}>\n        <Typography variant=\"h3\">Thông tin Giảng viên</Typography>\n        <Typography variant=\"subtitle1\">Một số thông tin có thể sẽ không được phép thay đổi</Typography>\n      </Paper>\n      <Box className={cls.body}>\n        <Paper>\n          <Box className={cls.box}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <TextField\n                  InputLabelProps={{ shrink: true }}\n                  fullWidth\n                  label=\"Mã GV\"\n                  value={state?.teacherId}\n                  onChange={(e) => setState({ ...state, teacherId: e.target.value })}\n                  disabled={disable}\n                ></TextField>\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <TextField\n                  InputLabelProps={{ shrink: true }}\n                  fullWidth\n                  label=\"Họ và tên\"\n                  value={state?.name}\n                  onChange={(e) => setState({ ...state, name: e.target.value })}\n                  disabled={disable}\n                ></TextField>\n              </Grid>\n            </Grid>\n\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <TextField\n                  InputLabelProps={{ shrink: true }}\n                  fullWidth\n                  label=\"Email\"\n                  value={state?.email}\n                  onChange={(e) => setState({ ...state, email: e.target.value })}\n                  disabled={disable}\n                ></TextField>\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <TextField\n                  InputLabelProps={{ shrink: true }}\n                  fullWidth\n                  label=\"Khoa/Viện\"\n                  value={state?.department}\n                  onChange={(e) => setState({ ...state, department: e.target.value })}\n                  disabled={disable}\n                ></TextField>\n              </Grid>\n            </Grid>\n            <TextField\n              InputLabelProps={{ shrink: true }}\n              fullWidth\n              label=\"Khóa công khai\"\n              value={state?.publicKey}\n              onChange={(e) => setState({ ...state, publicKey: e.target.value })}\n              disabled={disable}\n            ></TextField>\n            <TextField\n              InputLabelProps={{ shrink: true }}\n              fullWidth\n              label=\"Khóa bí mật\"\n              value={state?.privateKey}\n              onChange={(e) => setState({ ...state, publicKey: e.target.value })}\n              disabled={disable}\n            ></TextField>\n            {/* <TextField\n              InputLabelProps={{ shrink: true }}\n              fullWidth\n              label=\"Mô tả khác\"\n              multiline\n              rows={4}\n              value={state?.description}\n              onChange={(e) => setState({ ...state, description: e.target.value })}\n              disabled={disable}\n            ></TextField> */}\n            {/* TODO: allow teacher update description */}\n            {/* <Box textAlign=\"right\">\n              <Button color=\"primary\" variant=\"contained\" onClick={hdSubmit}>\n                Cập nhật mô tả\n              </Button>\n            </Box> */}\n          </Box>\n        </Paper>\n      </Box>\n    </Box>\n  );\n}\n","import { Grid } from \"@material-ui/core\";\nimport Page from \"src/shared/Page\";\nimport AvatarBar from \"./AvatarBar\";\nimport ProfileForm from \"./ProfileForm\";\n\nexport default function TeacherProfile() {\n  return (\n    <Page title=\"Thông tin cá nhân\">\n      <Grid container spacing={3}>\n        <Grid item xs={12} md={8}>\n          <ProfileForm></ProfileForm>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <AvatarBar></AvatarBar>\n        </Grid>\n      </Grid>\n    </Page>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Box, Button, Paper, TextField } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport { setDocument } from \"./redux\";\nimport { useSnackbar } from \"notistack\";\nimport { ERR_TOP_CENTER, INFO_TOP_CENTER } from \"../../../utils/snackbar-utils\";\n\nexport default function SearchBox(props) {\n  const [studentId, setStudentId] = useState(\"\");\n  const dp = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  // remove redux cached on unmount\n  useEffect(() => {\n    return () => {\n      dp(setDocument(null));\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function hdSubmitStudentId() {\n    try {\n      const response = await axios.get(`/staff/certificate?studentId=${studentId}`);\n      if (!response.data) enqueueSnackbar(\"Không tìm thấy bằng cấp của \" + studentId, INFO_TOP_CENTER);\n      dp(setDocument(response.data));\n    } catch (error) {\n      console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n    }\n  }\n  return (\n    <Paper>\n      <Box px={2} py={2} display=\"flex\" alignItems=\"flex-end\">\n        <TextField\n          label=\"Mã số sinh viên\"\n          InputLabelProps={{ shrink: true }}\n          autoFocus\n          value={studentId}\n          onChange={(e) => setStudentId(e.target.value)}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\") {\n              hdSubmitStudentId();\n            }\n          }}\n        ></TextField>\n        <Box px={2}>\n          <Button variant=\"contained\" color=\"primary\" onClick={hdSubmitStudentId}>\n            Go\n          </Button>\n        </Box>\n      </Box>\n    </Paper>\n  );\n}\n","import { Grid, Table, TableBody, TableCell, TableContainer, TableRow } from \"@material-ui/core\";\nimport React from \"react\";\nimport { getLinkFromTxid } from \"src/utils/utils\";\n\nexport default function Body({ cert }) {\n  const [certPart1, certPart2] = separateCertificate(cert);\n  return (\n    <Grid container>\n      <Grid item sm={12} md={6}>\n        <SimpleTable rows={certPart1}></SimpleTable>\n      </Grid>\n      <Grid item sm={12} md={6}>\n        <SimpleTable rows={certPart2}></SimpleTable>\n      </Grid>\n    </Grid>\n  );\n}\n\nfunction SimpleTable({ rows }) {\n  return (\n    <TableContainer>\n      <Table size=\"small\">\n        <TableBody>\n          {Object.entries(rows).map((entry, index) => (\n            <TableRow key={index}>\n              <TableCell style={{ width: \"50%\" }}>{entry[0]}</TableCell>\n              <TableCell>{entry[1]}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n\nfunction separateCertificate(cert) {\n  const link = getLinkFromTxid(cert.txid);\n  let certPart1 = {\n    \"Họ và tên\": cert.name,\n    \"Ngày sinh\": cert.birthday,\n    \"Giới tính\": cert.gender,\n    Trường: cert.university,\n    \"Ngành học\": cert.faculty,\n    \"Loại bằng\": cert.degree,\n    \"Năm tốt nghiệp\": cert.gradyear,\n  };\n  let certPart2 = {\n    \"Xếp loại\": cert.level,\n    \"Hình thức đào tạo\": cert.eduform,\n    \"Nơi cấp\": cert.issuelocation,\n    \"Ngày cấp\": cert.issuedate,\n    \"Hiệu trưởng\": cert.headmaster,\n    // \"Số hiệu\": cert.regisno,\n    \"Số hiệu vào sổ\": cert.globalregisno,\n    Txid: link,\n  };\n  return [certPart1, certPart2];\n}\n","import {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  makeStyles,\n  Typography,\n} from \"@material-ui/core\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport ErrorOutlineIcon from \"@material-ui/icons/ErrorOutline\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { requirePrivateKeyHex } from \"../../../../utils/keyholder\";\nimport { ERR_TOP_CENTER, INFO_TOP_CENTER, SUCCESS_TOP_CENTER } from \"../../../../utils/snackbar-utils\";\nimport { setDocument } from \"../redux\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  typo: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n}));\n\nexport default function Title({ cert }) {\n  const cls = useStyles();\n  const dp = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n  const [confirmDialog, setConfirmDialog] = useState(null);\n\n  async function hdRevoke(cert) {\n    const dialog = (\n      <Dialog open={true} onClose={() => setConfirmDialog(null)}>\n        <DialogTitle>\n          <Typography variant=\"h4\">{\"Thu hồi bằng cấp?\"}</Typography>\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>Sau khi thu hồi, bằng cấp sẽ không còn hợp lệ và không thể chia sẻ với người khác!</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setConfirmDialog(null)}>Cancel</Button>\n          <Button\n            color=\"primary\"\n            onClick={() => {\n              setConfirmDialog(null);\n              revoke();\n            }}\n          >\n            Yes\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n\n    async function revoke() {\n      const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\n      try {\n        const response = await axios.post(\"/staff/revoke-certificate\", { privateKeyHex, cert });\n        enqueueSnackbar(\"Thu hồi bằng cấp thành công!\", INFO_TOP_CENTER);\n        dp(setDocument(response.data));\n      } catch (error) {\n        console.error(error);\n        if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n      }\n    }\n\n    setConfirmDialog(dialog);\n  }\n\n  async function hdReactive(cert) {\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\n    try {\n      const response = await axios.post(\"/staff/reactive-certificate\", { privateKeyHex, cert });\n      enqueueSnackbar(\"Cấp lại bằng cấp thành công!\", SUCCESS_TOP_CENTER);\n      dp(setDocument(response.data));\n    } catch (error) {\n      console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n    }\n  }\n\n  return (\n    <Box px={2} py={1} display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n      {cert.type === \"revoke\" ? (\n        <>\n          <Typography variant=\"h4\" className={cls.typo}>\n            Trạng thái bằng cấp: &nbsp; <ErrorOutlineIcon color=\"secondary\"></ErrorOutlineIcon>\n          </Typography>\n          {/* <Typography variant=\"h4\" className={cls.typo}>\n            {`Version: ${cert.version}`}\n          </Typography>\n          <Typography variant=\"h4\" className={cls.typo}>\n            {`Timestamp: ${cert.timestamp}`}\n          </Typography> */}\n          <Button color=\"primary\" variant=\"outlined\" onClick={(e) => hdReactive(cert)}>\n            Cấp lại\n          </Button>\n        </>\n      ) : (\n        <>\n          <Typography variant=\"h4\" className={cls.typo}>\n            Trạng thái bằng cấp: &nbsp; <CheckIcon style={{ color: \"green\" }}></CheckIcon>\n          </Typography>\n          {/* <Typography variant=\"h4\" className={cls.typo}>\n            {`Version: ${cert.version}`}\n          </Typography>\n          <Typography variant=\"h4\" className={cls.typo}>\n            {`Timestamp: ${cert.timestamp}`}\n          </Typography> */}\n          <Button color=\"secondary\" variant=\"outlined\" onClick={(e) => hdRevoke(cert)}>\n            Thu hồi\n          </Button>\n          {confirmDialog}\n        </>\n      )}\n    </Box>\n  );\n}\n","import { Divider, Paper } from \"@material-ui/core\";\nimport React from \"react\";\nimport Body from \"./Body\";\nimport Title from \"./Title\";\n\nexport default function CertificateInfoTable({ cert }) {\n  return (\n    <Paper>\n      <Title cert={cert}></Title>\n      <Divider></Divider>\n      <Body cert={cert}></Body>\n    </Paper>\n  );\n}\n","import { Box, makeStyles, Paper, Typography } from \"@material-ui/core\";\nimport { Timeline, TimelineConnector, TimelineContent, TimelineDot, TimelineItem, TimelineSeparator } from \"@material-ui/lab\";\nimport { useSelector } from \"react-redux\";\nimport { toDateTimeString } from \"../../../utils/utils\";\nimport CertificateInfoTable from \"./CertificateInfoTable\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: 0,\n    \"& .MuiTimelineItem-missingOppositeContent:before\": {\n      flex: 0,\n      padding: 0,\n    },\n  },\n}));\n\nexport default function SearchResult(props) {\n  const cls = useStyles();\n\n  const document = useSelector((state) => state.revokeCertificateSlice.document);\n  const lastestVersion = document?.versions[document.versions.length - 1];\n  return (\n    <div>\n      {document && (\n        // <Paper>\n        <Timeline align=\"left\" className={cls.root}>\n          <TimelineItem>\n            <TimelineSeparator>\n              <TimelineDot color={lastestVersion.type === \"revoke\" ? \"secondary\" : \"primary\"}></TimelineDot>\n              <TimelineConnector></TimelineConnector>\n            </TimelineSeparator>\n            <TimelineContent>\n              <Paper style={{ padding: 8 }}>\n                <Typography>\n                  {`v${document.versions.length},${toDateTimeString(lastestVersion.timestamp)}: `}\n                  <strong>{lastestVersion.type === \"revoke\" && \"Thu hồi\"}</strong>\n                  <strong>{lastestVersion.type === \"create\" && \"Cấp lần đầu\"}</strong>\n                  <strong>{lastestVersion.type === \"reactive\" && \"Cấp lại\"}</strong>\n                </Typography>\n              </Paper>\n              <Box mt={2}>\n                <CertificateInfoTable cert={document.versions[document.versions.length - 1]}></CertificateInfoTable>\n              </Box>\n            </TimelineContent>\n          </TimelineItem>\n          {document.versions\n            .slice(0, -1)\n            .reverse()\n            .map((version, index) => (\n              <TimelineItem>\n                <TimelineSeparator>\n                  <TimelineDot color={version.type === \"revoke\" ? \"secondary\" : \"primary\"}></TimelineDot>\n                  {index !== document.versions.length - 2 && <TimelineConnector></TimelineConnector>}\n                </TimelineSeparator>\n                <TimelineContent>\n                  <Paper style={{ padding: 8 }}>\n                    <Typography>\n                      {`v${version.version}, ${toDateTimeString(version.timestamp)}: `}\n                      <strong>{version.type === \"revoke\" && \"Thu hồi\"}</strong>\n                      <strong>{version.type === \"create\" && \"Cấp lần đầu\"}</strong>\n                      <strong>{version.type === \"reactive\" && \"Cấp lại\"}</strong>\n                    </Typography>\n                  </Paper>\n                </TimelineContent>\n              </TimelineItem>\n            ))}\n        </Timeline>\n        // </Paper>\n      )}\n    </div>\n  );\n}\n","import Page from \"../../../shared/Page\";\nimport SearchBox from \"./SearchBox\";\nimport SearchResult from \"./SearchResult\";\nimport { Box } from \"@material-ui/core\";\n\nexport default function RevokeCertificate() {\n  return (\n    <Page title=\"Thu hồi bằng cấp\">\n      <SearchBox></SearchBox>\n      <Box mt={3}>\n        <SearchResult></SearchResult>\n      </Box>\n    </Page>\n  );\n}\n","const { default: jwtDecode } = require(\"jwt-decode\");\nconst { getToken } = require(\"./mng-token\");\n\nfunction isEnable2FA() {\n  const token = getToken();\n  const jwtToken = token.split(\" \")[1];\n  const decodedToken = jwtDecode(jwtToken);\n  return decodedToken.twoFAVerified;\n}\n\nexport { isEnable2FA };\n","import {\n  Accordion,\n  AccordionActions,\n  AccordionDetails,\n  AccordionSummary,\n  Box,\n  Button,\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport { Timeline, TimelineConnector, TimelineContent, TimelineDot, TimelineItem, TimelineSeparator } from \"@material-ui/lab\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport { useEffect, useState } from \"react\";\nimport AskOTP from \"../../../layouts/TeacherDashboardLayout/AskOTP\";\nimport Page from \"../../../shared/Page\";\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\nimport { isEnable2FA } from \"../../../utils/mng-2fa\";\nimport { ERR_TOP_CENTER, SUCCESS_BOTTOM_RIGHT, SUCCESS_TOP_CENTER } from \"../../../utils/snackbar-utils\";\nimport { getLinkFromTxid } from \"../../../utils/utils\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: 0,\n    \"& .MuiTimelineItem-missingOppositeContent:before\": {\n      flex: 0,\n      padding: 0,\n    },\n    \"& .MuiInputBase-input\": {\n      paddingLeft: \"20px\",\n    },\n    \"& .MuiInputBase-input.Mui-disabled\": {\n      color: \"black\",\n    },\n  },\n  accordionHeader: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n}));\n\nexport default function SubmitGrade(props) {\n  const cls = useStyles();\n  const [fetching, setFetching] = useState(true);\n  const [classes, setClasses] = useState([]);\n\n  const [askOTPDialog, setAskOTPDialog] = useState(null);\n\n  const groupedClassesBySemester =\n    classes.length === 0\n      ? null\n      : classes.reduce((accumulator, claxx) => {\n          accumulator[claxx.semester] = [...(accumulator[claxx.semester] || []), claxx];\n          return accumulator;\n        }, {});\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    fetchMyClasses();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function fetchMyClasses() {\n    try {\n      const response = await axios.get(\"/teacher/my-classes\");\n      setClasses(response.data);\n      setFetching(false);\n    } catch (error) {\n      console.log(error);\n      console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n    }\n  }\n\n  function hdChangeHalfSemester(classId, studentIndex, e) {\n    const cloneClasses = [...classes];\n    const claxx = cloneClasses.find((clx) => clx.classId === classId);\n    if (!claxx.students[studentIndex].versions) {\n      claxx.students[studentIndex].versions = [{ halfSemesterPoint: e.target.value }];\n    } else {\n      claxx.students[studentIndex].versions[0].halfSemesterPoint = e.target.value;\n    }\n    setClasses(cloneClasses);\n  }\n\n  function hdChangeFinalSemester(classId, studentIndex, e) {\n    const cloneClasses = [...classes];\n    const claxx = cloneClasses.find((clx) => clx.classId === classId);\n    if (!claxx.students[studentIndex].versions) {\n      claxx.students[studentIndex].versions = [{ finalSemesterPoint: e.target.value }];\n    } else {\n      claxx.students[studentIndex].versions[0].finalSemesterPoint = e.target.value;\n    }\n    setClasses(cloneClasses);\n  }\n\n  async function hdSaveDraff(classId) {\n    // check if all grade is valid....\n    const claxx = classes.find((clx) => clx.classId === classId);\n    const hasError = claxx.students.some((student) => {\n      const halfPoint = student.versions?.[0].halfSemesterPoint;\n      const halfError = halfPoint && Boolean(!Number(halfPoint) || Number(halfPoint) > 10 || Number(halfPoint) < 0);\n      const finalPoint = student.versions?.[0].finalSemesterPoint;\n      const finalError = finalPoint && Boolean(!Number(finalPoint) || Number(finalPoint) > 10 || Number(finalPoint) < 0);\n      return halfError || finalError;\n    });\n    if (hasError) {\n      enqueueSnackbar(\"Điểm nhập không hợp lệ! Vui lòng kiểm tra lại!\", ERR_TOP_CENTER);\n      return;\n    } else {\n      try {\n        const response = await axios.post(\"/teacher/save-draff\", { claxx });\n        enqueueSnackbar(\"Lưu nháp thành công\", SUCCESS_TOP_CENTER);\n      } catch (error) {\n        console.error(error);\n        if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n      }\n    }\n  }\n\n  async function hdSubmitGrade(classId) {\n    const claxx = classes.find((clx) => clx.classId === classId);\n    const hasError = claxx.students.some((student) => {\n      const halfPoint = student.versions?.[0].halfSemesterPoint;\n      const halfError = halfPoint && Boolean(!Number(halfPoint) || Number(halfPoint) > 10 || Number(halfPoint) < 0);\n      const finalPoint = student.versions?.[0].finalSemesterPoint;\n      const finalError = finalPoint && Boolean(!Number(finalPoint) || Number(finalPoint) > 10 || Number(finalPoint) < 0);\n      return halfError || finalError;\n    });\n    if (hasError) {\n      enqueueSnackbar(\"Điểm nhập không hợp lệ! Vui lòng kiểm tra lại!\", ERR_TOP_CENTER);\n      return;\n    } else {\n      const incomplete = claxx.students.some((student) => {\n        const halfPoint = student.versions?.[0].halfSemesterPoint;\n        const finalPoint = student.versions?.[0].finalSemesterPoint;\n        return !halfPoint || !finalPoint;\n      });\n      if (incomplete) {\n        enqueueSnackbar(\"Cần nhập đủ tất cả các điểm trước khi ghi lên hệ thống\", ERR_TOP_CENTER);\n        return;\n      } else {\n        if (isEnable2FA()) {\n          const dialog = (\n            <AskOTP\n              open={true}\n              hdCancel={() => setAskOTPDialog(null)}\n              hdFail={() => {\n                enqueueSnackbar(\"Mã OTP không chính xác, vui lòng thử lại\", ERR_TOP_CENTER);\n              }}\n              hdSuccess={() => {\n                setAskOTPDialog(null);\n                sendGrade(classId);\n              }}\n            ></AskOTP>\n          );\n          setAskOTPDialog(dialog);\n        } else {\n          sendGrade(classId);\n        }\n      }\n    }\n  }\n\n  async function sendGrade(classId) {\n    const claxx = classes.find((clx) => clx.classId === classId);\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\n    try {\n      const response = await axios.post(\"/teacher/submit-grade\", { privateKeyHex, claxx });\n      const cloneClasses = [...classes];\n      const clxx = cloneClasses.find((clx) => clx.classId === claxx.classId);\n      Object.assign(clxx, response.data);\n      setClasses(cloneClasses);\n      enqueueSnackbar(\"Gửi điểm thành công\", SUCCESS_TOP_CENTER);\n    } catch (error) {\n      console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n    }\n  }\n\n  const content = !groupedClassesBySemester ? (\n    \"Không tìm thấy lớp học nào!\"\n  ) : (\n    <>\n      {\" \"}\n      <Timeline className={cls.root}>\n        {Object.entries(groupedClassesBySemester).map((entry, index) => {\n          return (\n            <TimelineItem>\n              <TimelineSeparator>\n                <TimelineDot color=\"primary\" />\n                {/* {index !== Object.entries(groupedClassesBySemester).length - 1 && <TimelineConnector />} */}\n                <TimelineConnector />\n              </TimelineSeparator>\n              <TimelineContent>\n                <Box>\n                  {/* semester */}\n                  <Typography gutterBottom variant=\"h5\">{`Kì ${entry[0]}`}</Typography>\n\n                  {/* class list */}\n                  <Box px={1}>\n                    {entry[1].map((claxx) => {\n                      const disable = claxx.isSubmited;\n                      return (\n                        <Accordion>\n                          <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                            {`Lớp: ${claxx.classId} - ${claxx.subject.subjectId} - ${claxx.subject.subjectName}`}\n                            {/* {disable && <CheckIcon size=\"small\" color=\"primary\"></CheckIcon>} */}\n                          </AccordionSummary>\n                          <AccordionDetails>\n                            <TableContainer>\n                              <Table size=\"small\">\n                                <TableHead>\n                                  <TableRow>\n                                    <TableCell>#</TableCell>\n                                    <TableCell>MSSV</TableCell>\n                                    <TableCell>Họ và tên</TableCell>\n                                    <TableCell>Ngày sinh</TableCell>\n                                    <TableCell>Email</TableCell>\n                                    <TableCell style={{ width: \"100px\" }}>Điểm GK</TableCell>\n                                    <TableCell style={{ width: \"100px\" }}>Điểm CK</TableCell>\n                                    {disable && <TableCell>Txid</TableCell>}\n                                  </TableRow>\n                                </TableHead>\n                                <TableBody>\n                                  {claxx.students.map((student, index) => {\n                                    const halfPoint = student.versions?.[0].halfSemesterPoint;\n                                    const halfError =\n                                      halfPoint && Boolean(!Number(halfPoint) || Number(halfPoint) > 10 || Number(halfPoint) < 0);\n                                    const finalPoint = student.versions?.[0].finalSemesterPoint;\n                                    const finalError =\n                                      finalPoint && Boolean(!Number(finalPoint) || Number(finalPoint) > 10 || Number(finalPoint) < 0);\n                                    return (\n                                      <TableRow key={index}>\n                                        <TableCell>{index + 1}</TableCell>\n                                        <TableCell>{student.studentId}</TableCell>\n                                        <TableCell>{student.name}</TableCell>\n                                        <TableCell>{student.birthday}</TableCell>\n                                        <TableCell>{student.email}</TableCell>\n                                        <TableCell>\n                                          <TextField\n                                            // type=\"number\"\n                                            value={halfPoint}\n                                            onChange={(e) => hdChangeHalfSemester(claxx.classId, index, e)}\n                                            error={halfError}\n                                            helperText={halfError && \"Từ 0 - 10\"}\n                                            disabled={disable}\n                                          ></TextField>\n                                        </TableCell>\n                                        <TableCell>\n                                          <TextField\n                                            // type=\"number\"\n                                            value={finalPoint}\n                                            onChange={(e) => hdChangeFinalSemester(claxx.classId, index, e)}\n                                            error={finalError}\n                                            helperText={finalError && \"Từ 0 - 10\"}\n                                            disabled={disable}\n                                          ></TextField>\n                                        </TableCell>\n                                        {disable && <TableCell>{getLinkFromTxid(student.versions[0].txid, 15)} </TableCell>}\n                                      </TableRow>\n                                    );\n                                  })}\n                                </TableBody>\n                              </Table>\n                            </TableContainer>\n                          </AccordionDetails>\n                          <AccordionActions>\n                            <Button\n                              startIcon={<SaveIcon></SaveIcon>}\n                              variant=\"contained\"\n                              // style={{ backgroundColor: \"#4caf50\", color: \"white\" }}\n                              onClick={(e) => hdSaveDraff(claxx.classId)}\n                              disabled={disable}\n                            >\n                              Lưu nháp\n                            </Button>\n                            <Button\n                              startIcon={<SendIcon></SendIcon>}\n                              variant=\"contained\"\n                              color=\"primary\"\n                              onClick={(e) => hdSubmitGrade(claxx.classId)}\n                              disabled={disable}\n                            >\n                              Gửi điểm\n                            </Button>\n                          </AccordionActions>\n                        </Accordion>\n                      );\n                    })}\n                  </Box>\n                </Box>\n              </TimelineContent>\n            </TimelineItem>\n          );\n        })}\n      </Timeline>\n      {askOTPDialog}\n    </>\n  );\n\n  return <Page title=\"Nhập điểm lớp học\">{fetching ? null : content}</Page>;\n}\n","import { Box, Button, Paper, TextField } from \"@material-ui/core\";\n\nexport default function InputClassId({ classId, setClassId, hdGetClass }) {\n  return (\n    <Paper>\n      <Box px={2} py={2} display=\"flex\" alignItems=\"flex-end\">\n        <TextField\n          label=\"Mã lớp\"\n          InputLabelProps={{ shrink: true }}\n          autoFocus\n          value={classId}\n          onChange={(e) => setClassId(e.target.value)}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\") {\n              hdGetClass();\n            }\n          }}\n        ></TextField>\n        <Box px={2}>\n          <Button variant=\"contained\" color=\"primary\" onClick={hdGetClass}>\n            Go\n          </Button>\n        </Box>\n      </Box>\n    </Paper>\n  );\n}\n","import { Button, Grid, TextField, Typography } from \"@material-ui/core\";\nimport { useState } from \"react\";\n\nexport default function EditGradeForm({ hdSubmit }) {\n  const [halfSemesterPoint, setHalfSemesterPoint] = useState();\n  const [finalSemesterPoint, setFinalSemesterPoint] = useState();\n\n  return (\n    <Grid container justify=\"space-between\" alignItems=\"center\">\n      <Grid item xs={12} md={3}>\n        <Typography variant=\"h4\">Nhập điểm mới:</Typography>\n      </Grid>\n      <Grid item xs={12} md={4}>\n        <TextField\n          variant=\"outlined\"\n          color=\"primary\"\n          size=\"small\"\n          label=\"Điểm GK\"\n          value={halfSemesterPoint}\n          onChange={(e) => setHalfSemesterPoint(e.target.value)}\n        ></TextField>\n      </Grid>\n      <Grid item xs={12} md={4}>\n        <TextField\n          variant=\"outlined\"\n          color=\"primary\"\n          size=\"small\"\n          label=\"Điểm CK\"\n          value={finalSemesterPoint}\n          onChange={(e) => setFinalSemesterPoint(e.target.value)}\n        ></TextField>\n      </Grid>\n      <Grid item xs={12} md={1}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={(e) => {\n            hdSubmit(halfSemesterPoint, finalSemesterPoint);\n            setHalfSemesterPoint(\"\");\n            setFinalSemesterPoint(\"\");\n          }}\n        >\n          Submit\n        </Button>\n      </Grid>\n    </Grid>\n  );\n}\n","import { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography } from \"@material-ui/core\";\nimport { getLinkFromTxid, toDateTimeString } from \"../../../utils/utils\";\n\nexport default function EditGradeHistory({ student }) {\n  return (\n    <>\n      <Typography variant=\"h4\">Lịch sử điểm</Typography>\n      <TableContainer>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>#</TableCell>\n              <TableCell>Điểm GK</TableCell>\n              <TableCell>Điểm CK</TableCell>\n              <TableCell>Thời gian</TableCell>\n              <TableCell>Txid</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {student.versions.map((version, vIndex) => {\n              return (\n                <TableRow>\n                  <TableCell>{vIndex + 1}</TableCell>\n                  <TableCell>{version.halfSemesterPoint}</TableCell>\n                  <TableCell>{version.finalSemesterPoint}</TableCell>\n                  <TableCell>{toDateTimeString(version.timestamp)}</TableCell>\n                  <TableCell>{getLinkFromTxid(version.txid, 20)}</TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </>\n  );\n}\n","import { Box, Collapse, IconButton, makeStyles, TableCell, TableRow } from \"@material-ui/core\";\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport { useState } from \"react\";\nimport AskOTP from \"../../../layouts/TeacherDashboardLayout/AskOTP\";\nimport { requirePrivateKeyHex } from \"../../../utils/keyholder\";\nimport { isEnable2FA } from \"../../../utils/mng-2fa\";\nimport { ERR_TOP_CENTER, SUCCESS_TOP_CENTER } from \"../../../utils/snackbar-utils\";\nimport EditGradeForm from \"./EditGradeForm\";\nimport EditGradeHistory from \"./EditGradeHistory\";\n\nconst useRowStyles = makeStyles({\n  root: {\n    \"& > *\": {\n      borderBottom: \"unset\",\n    },\n  },\n  timeline: {\n    paddingLeft: 0,\n    \"& .MuiTimelineItem-missingOppositeContent:before\": {\n      flex: 0,\n      padding: 0,\n    },\n  },\n});\n\nexport default function RowWithCollapseContent(props) {\n  const { claxx, student, index, setClaxx } = props;\n  const [open, setOpen] = useState(false);\n  const cls = useRowStyles();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const [askOTPDialog, setAskOTPDialog] = useState(null);\n\n  async function hdSubmit(halfSemesterPoint, finalSemesterPoint) {\n    if (isEnable2FA()) {\n      setAskOTPDialog(\n        <AskOTP\n          open={true}\n          hdCancel={() => setAskOTPDialog(null)}\n          hdFail={() => {\n            enqueueSnackbar(\"Mã OTP không chính xác, vui lòng thử lại\", ERR_TOP_CENTER);\n          }}\n          hdSuccess={() => {\n            setAskOTPDialog(null);\n            sendEditedGrade(halfSemesterPoint, finalSemesterPoint);\n          }}\n        ></AskOTP>\n      );\n    } else {\n      sendEditedGrade(halfSemesterPoint, finalSemesterPoint);\n    }\n  }\n\n  async function sendEditedGrade(halfSemesterPoint, finalSemesterPoint) {\n    const privateKeyHex = await requirePrivateKeyHex(enqueueSnackbar);\n    try {\n      const response = await axios.post(\"/teacher/edit-grade\", {\n        privateKeyHex,\n        claxx,\n        student,\n        halfSemesterPoint,\n        finalSemesterPoint,\n      });\n      const clonedClass = { ...claxx };\n      const stdInClonedClass = clonedClass.students.find((std) => std.studentId === student.studentId);\n      stdInClonedClass.versions.push(response.data);\n      setClaxx(clonedClass);\n      enqueueSnackbar(\"Sửa điểm thành công!\", SUCCESS_TOP_CENTER);\n    } catch (error) {\n      console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n    }\n  }\n\n  return (\n    <>\n      <TableRow className={cls.root}>\n        <TableCell>{index + 1}</TableCell>\n        <TableCell>{student.studentId}</TableCell>\n        <TableCell>{student.name}</TableCell>\n        <TableCell>{student.birthday}</TableCell>\n        <TableCell>{student.email}</TableCell>\n        <TableCell>\n          <IconButton size=\"small\" onClick={() => setOpen(!open)}>\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n          </IconButton>\n        </TableCell>\n      </TableRow>\n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\n            <Box px={1} pb={3}>\n              <Box p={2} border=\"1px solid grey\">\n                <EditGradeHistory student={student}></EditGradeHistory>\n                <Box mt={4}></Box>\n                <EditGradeForm hdSubmit={hdSubmit}></EditGradeForm>\n                {askOTPDialog}\n              </Box>\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </>\n  );\n}\n","import { Box, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport { useState } from \"react\";\nimport Page from \"../../../shared/Page\";\nimport { ERR_TOP_CENTER } from \"../../../utils/snackbar-utils\";\nimport InputClassId from \"./InputClassId\";\nimport RowWithCollapseContent from \"./RowWithCollapseContent.jsx\";\n\nexport default function EditGrade() {\n  const [claxx, setClaxx] = useState(false);\n  const [classId, setClassId] = useState(\"\");\n  const { enqueueSnackbar } = useSnackbar();\n\n  async function hdGetClass() {\n    try {\n      const response = await axios.get(\"/teacher/classes/\" + classId);\n      setClaxx(response.data);\n    } catch (error) {\n      console.error(error);\n      if (error.response) enqueueSnackbar(JSON.stringify(error.response.data), ERR_TOP_CENTER);\n    }\n  }\n\n  return (\n    <Page title=\"Sửa điểm\">\n      <InputClassId {...{ classId, setClassId, hdGetClass }}></InputClassId>\n      <Box mt={2}> </Box>\n\n      {/* if not found */}\n      {claxx === null && (\n        <Paper>\n          <Box p={2}>\n            <Typography>{`Không tìm thấy lớp ${classId}`}</Typography>\n          </Box>\n        </Paper>\n      )}\n\n      {/* if found but not submit yet */}\n      {claxx && !claxx.isSubmited && (\n        <Paper>\n          <Box p={2}>\n            <Typography>{`Lớp này chưa được nhập điểm!`}</Typography>\n          </Box>\n        </Paper>\n      )}\n\n      {/* if found and already submited */}\n      {claxx && claxx.isSubmited && (\n        <Paper>\n          <Box px={1} py={2}>\n            <TableContainer>\n              <Table>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>#</TableCell>\n                    <TableCell>MSSV</TableCell>\n                    <TableCell>Họ và tên</TableCell>\n                    <TableCell>Ngày sinh</TableCell>\n                    <TableCell>Email</TableCell>\n                    <TableCell></TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {claxx.students.map((student, index) => {\n                    return (\n                      <RowWithCollapseContent\n                        key={index}\n                        student={student}\n                        index={index}\n                        claxx={claxx}\n                        setClaxx={setClaxx}\n                      ></RowWithCollapseContent>\n                    );\n                  })}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </Box>\n        </Paper>\n      )}\n    </Page>\n  );\n}\n","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport StaffDashboardLayout from \"src/layouts/StaffDashboardLayout\";\nimport TeacherDashboardLayout from \"src/layouts/TeacherDashboardLayout\";\nimport MainLayout from \"src/layouts/MainLayout\";\nimport NotFoundView from \"src/shared/NotFoundView\";\n\nimport SignInView from \"src/views/guest/SignIn\";\nimport SignUpView from \"src/views/guest/SignUp\";\n\nimport MakeRequest from \"./views/staff/Register\";\nimport Voting from \"./views/staff/Voting\";\n// import CreateBureauAccount from \"./views/staff/CreateBureauAccount\";\nimport CreateTeacherAccount from \"./views/staff/CreateTeacherAccount\";\nimport CreateStudentAccount from \"./views/staff/CreateStudentAccount\";\n// import UploadSubject from \"./views/staff/UploadSubject\";\nimport UploadClass from \"./views/staff/UploadClass\";\n\nimport UploadCertificate from \"./views/staff/UploadCertificate\";\nimport TeacherProfile from \"./views/teacher/Profile\";\nimport { getRole, ROLE } from \"./utils/mng-role\";\n// import SubmitSubjectPoint from \"./views/teacher/SubmitSubjectPoint\";\nimport RevokeCertificate from \"./views/staff/RevokeCertificate\";\nimport SubmitGrade from \"./views/teacher/SubmitGrade\";\nimport EditGrade from \"./views/teacher/EditGrade\";\n\nconst routes = [\n  {\n    path: \"/cb-pdt\",\n    element: <StaffDashboardLayout />,\n    children: [\n      { path: \"dang-ki-tham-gia\", element: <MakeRequest /> },\n      { path: \"bo-phieu\", element: <Voting /> },\n      // { path: \"tao-tk-giao-vu\", element: <CreateBureauAccount /> },\n      { path: \"tao-tk-giang-vien\", element: <CreateTeacherAccount /> },\n      { path: \"tao-tk-sinh-vien\", element: <CreateStudentAccount /> },\n      // { path: \"upload-mon-hoc\", element: <UploadSubject /> },\n      { path: \"upload-lop-hoc\", element: <UploadClass /> },\n      { path: \"upload-bang-cap\", element: <UploadCertificate /> },\n      { path: \"thu-hoi-bang-cap\", element: <RevokeCertificate /> },\n      { path: \"*\", element: <Navigate to=\"/404\" replace={true} /> },\n    ],\n  },\n  {\n    path: \"/giang-vien\",\n    element: <TeacherDashboardLayout />,\n    children: [\n      { path: \"thong-tin-ca-nhan\", element: <TeacherProfile /> },\n      { path: \"nhap-diem-lop-hoc\", element: <SubmitGrade /> },\n      { path: \"sua-diem\", element: <EditGrade /> },\n      { path: \"*\", element: <Navigate to=\"/404\" replace={true} /> },\n    ],\n  },\n  {\n    path: \"/\",\n    element: <MainLayout />,\n    children: [\n      // { path: \"dang-ki\", element: <SignUpView /> },\n      { path: \"dang-nhap\", element: <SignInView /> },\n      { path: \"404\", element: <NotFoundView /> },\n      { path: \"/\", element: <Redirector /> },\n      { path: \"*\", element: <Navigate to=\"/404\" replace={true} /> },\n    ],\n  },\n];\n\nfunction Redirector(props) {\n  const role = getRole();\n  let to = \"\";\n  if (!role) {\n    to = \"/dang-nhap\";\n  } else if (role === ROLE.STAFF) {\n    to = \"/cb-pdt/dang-ki-tham-gia\";\n  } else if (role === ROLE.TEACHER) {\n    to = \"/giang-vien/thong-tin-ca-nhan\";\n  }\n  return <Navigate to={to} />;\n}\n\nexport default routes;\n","import \"react-perfect-scrollbar/dist/css/styles.css\";\nimport { useRoutes } from \"react-router-dom\";\nimport { ThemeProvider } from \"@material-ui/core\";\nimport GlobalStyles from \"src/shared/GlobalStyles\";\nimport theme from \"src/theme\";\nimport routes from \"src/routes\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport { SnackbarProvider } from \"notistack\";\n\nconst App = () => {\n  const routing = useRoutes(routes);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <GlobalStyles />\n      <Provider store={store}>\n        <SnackbarProvider maxSnack={1}>{routing}</SnackbarProvider>\n      </Provider>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\n\nimport axios from \"axios\";\nimport { getToken } from \"./utils/mng-token\";\naxios.defaults.baseURL = `${process.env.REACT_APP_BACKEND_URL}/api/v1.2`;\naxios.defaults.headers.common[\"Authorization\"] = getToken();\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}